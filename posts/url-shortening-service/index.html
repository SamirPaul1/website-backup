<!doctype html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="viewport" content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover" ><meta name="generator" content="Jekyll v4.3.2" /><meta property="og:title" content="URL Shortening Service" /><meta name="author" content="Samir Paul" /><meta property="og:locale" content="en" /><meta name="description" content="URL Shortening Service" /><meta property="og:description" content="URL Shortening Service" /><link rel="canonical" href="https://samir.pages.dev/posts/url-shortening-service/" /><meta property="og:url" content="https://samir.pages.dev/posts/url-shortening-service/" /><meta property="og:site_name" content="Samir Paul" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2023-03-04T00:00:00+05:30" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="URL Shortening Service" /><meta name="twitter:site" content="@SamirPaulb" /><meta name="twitter:creator" content="@Samir Paul" /><meta property="fb:app_id" content="6800281970014175" /><meta name="google-site-verification" content="vJAOBxbJTCK2vXG-hLFeGsoC9hXgFlCpuJJ8AcJLROQ" /><meta name="msvalidate.01" content="1A92FC2EC113F8616A21D76DA684A133" /><meta name="yandex-verification" content="fe6a06c57be84984" /><meta name="facebook-domain-verification" content="3pkgruuk3kzlsn3jdfehgbd4sem1qb" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Samir Paul"},"dateModified":"2023-03-04T00:00:00+05:30","datePublished":"2023-03-04T00:00:00+05:30","description":"URL Shortening Service","headline":"URL Shortening Service","mainEntityOfPage":{"@type":"WebPage","@id":"https://samir.pages.dev/posts/url-shortening-service/"},"url":"https://samir.pages.dev/posts/url-shortening-service/"}</script><title>URL Shortening Service | Samir Paul</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Samir Paul"><meta name="application-name" content="Samir Paul"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/jekyll-theme-chirpy.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.21.2/dist/tocbot.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return 'mode'; } static get MODE_ATTR() { return 'data-mode'; } static get DARK_MODE() { return 'dark'; } static get LIGHT_MODE() { return 'light'; } static get ID() { return 'mode-toggle'; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener('change', () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia('(prefers-color-scheme: dark)'); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { document.documentElement.setAttribute(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { document.documentElement.setAttribute(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { document.documentElement.removeAttribute(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage( { direction: ModeToggle.ID, message: this.modeStatus }, '*' ); } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.notify(); } /* flipMode() */ } /* ModeToggle */ const modeToggle = new ModeToggle(); </script><body><aside aria-label="Sidebar" id="sidebar" class="d-flex flex-column align-items-end"><header class="profile-wrapper"> <a href="/" id="avatar" class="rounded-circle"> <img src="/assets/img/avatar.webp" width="112" height="112" alt="avatar" onerror="this.style.display='none'"> </a><h1 class="site-title"> <a href="/">Samir Paul</a></h1><p class="site-subtitle fst-italic mb-0">Software Engineer</p></header><nav class="flex-column flex-grow-1 w-100 ps-0"><ul class="nav"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle"></i> <span>ABOUT</span> </a><li class="nav-item"> <a href="/posts/" class="nav-link"> <i class="fa-fw fas fa-archive"></i> <span>ALL POSTS</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream"></i> <span>CATEGORIES</span> </a></ul></nav><div class="sidebar-bottom d-flex flex-wrap align-items-center w-100"> <button type="button" class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/SamirPaul1" aria-label="github" target="_blank" rel="noopener noreferrer" > <i class="fab fa-github"></i> </a> <a href="https://twitter.com/SamirPaulb" aria-label="twitter" target="_blank" rel="noopener noreferrer" > <i class="fa-brands fa-x-twitter"></i> </a> <a href="javascript:location.href = 'mailto:' + ['',''].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></aside><div id="main-wrapper" class="d-flex justify-content-center"><div class="container d-flex flex-column px-xxl-5"><header id="topbar-wrapper" aria-label="Top Bar"><div id="topbar" class="d-flex align-items-center justify-content-between px-lg-3 h-100" ><nav id="breadcrumb" aria-label="Breadcrumb"> <span> <a href="/"> Home </a> </span> <span>URL Shortening Service</span></nav><button type="button" id="sidebar-trigger" class="btn btn-link"> <i class="fas fa-bars fa-fw"></i> </button><div id="topbar-title"> Post</div><button type="button" id="search-trigger" class="btn btn-link"> <i class="fas fa-search fa-fw"></i> </button> <search class="align-items-center ms-3 ms-lg-0"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..." > </search> <button type="button" class="btn btn-link text-decoration-none" id="search-cancel">Cancel</button></div></header><div class="row flex-grow-1"><main aria-label="Main Content" class="col-12 col-lg-11 col-xl-9 px-md-4"><article class="px-1"><header><h1 data-toc-skip>URL Shortening Service</h1><div class="post-meta text-muted"> <span> Posted <time data-ts="1677868200" data-df="ll" data-bs-toggle="tooltip" data-bs-placement="bottom" > Mar 4, 2023 </time> </span><div class="d-flex justify-content-between"> <span> By <em> <a href="https://twitter.com/SamirPaulb">Samir Paul</a> </em> </span> <span class="readtime" data-bs-toggle="tooltip" data-bs-placement="bottom" title="1070 words" > <em>5 min</em> read</span></div></div></header><div class="content"><h1 id="url-shortening-service">URL Shortening Service</h1><h2 id="summary"><span class="me-2">Summary</span><a href="#summary" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p><a href="https://raw.githubusercontent.com/SamirPaulb/assets/main/blog/system-design/short-url-overview.png" class="popup img-link shimmer"><img src="https://raw.githubusercontent.com/SamirPaulb/assets/main/blog/system-design/short-url-overview.png" alt="overview" loading="lazy"></a> <a href="https://raw.githubusercontent.com/SamirPaulb/assets/main/blog/system-design/short-url-detail.png" class="popup img-link shimmer"><img src="https://raw.githubusercontent.com/SamirPaulb/assets/main/blog/system-design/short-url-detail.png" alt="summary" loading="lazy"></a></p><h2 id="requirements"><span class="me-2">Requirements</span><a href="#requirements" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><ul><li>Functional Requirements<ul><li>Given a URL, generate a shorter and unique alias (short link).<li>When users access a short link, redirect to the original link.<li>Users should optionally be able to pick a custom short link for their URL.<li>Links will expire after a standard default timespan. Users should also be able to specify the expiration time.</ul><li>Non-Functional Requirements<ul><li>The system should be highly available. This is required because, if our service is down, all the URL redirections will start failing.<li>URL redirection should happen in real-time with minimal latency.<li>Shortened links should not be guessable (not predictable).</ul><li>Extended Requirements<ul><li>Analytics; e.g., how many times a redirection happened?<li>Be accessible through REST APIs by other services.</ul></ul><h2 id="capacity-estimation-and-constraints"><span class="me-2">Capacity Estimation and Constraints</span><a href="#capacity-estimation-and-constraints" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><ul><li>Assumption<ul><li>Read-heavy. More redirection requests compared to new URL shortenings.<li>Assume <strong>100:1</strong> ratio between read and write.</ul><li>Traffic estimates<ul><li><strong>500M</strong> new URL shortenings per month, 100 * 500M =&gt; 50B redirections per month.<li>New URL shortenings per second<ul><li>500 million / (30 days * 24 hours * 3600 seconds) = <strong>~200 URLs/s</strong></ul><li>URLs redirections per second<ul><li>50 billion / (30 days * 24 hours * 3600 sec) = <strong>~19K/s</strong></ul></ul><li>Storage estimates<ul><li>Assume storing every URL shortening request for 5 years, each object takes <strong>500 bytes</strong><li>Total objects: 500 million * 5 years * 12 months = <strong>30 billion</strong><li>Total storage: 30 billion * 500 bytes = <strong>15 TB</strong></ul><li>Bandwidth estimates<ul><li>Write: 200 URL/s * 500 bytes/URL = <strong>100 KB/s</strong><li>Read: 19K URL/s * 500 bytes/URL = <strong>~9 MB/s</strong></ul><li>Cache memory estimates<ul><li>Follow the 80-20 rule, assuming 20% of URLs generate 80% of traffic, cache 20% hot URLs<li>Requests per day: 19K * 3600 seconds * 24 hours = <strong>~1.7 billion/day</strong><li>Cache 20%: 0.2 * 1.7 billion * 500 bytes = <strong>~170GB</strong></ul><li>Summary<ul><li>Assuming 500 million new URLs per month and 100:1 read:write ratio</ul><div class="table-wrapper"><table><thead><tr><th>Category<th>Calculation<th>Estimate<tbody><tr><td>New URLs<td>500 million / (30 days * 24 hours * 3600 seconds)<td>200 /s<tr><td>URL redirections<td>500 million * 100 / (30 days * 24 hours * 3600 seconds)<td>19 K/s<tr><td>Incoming data<td>500 bytes/URL * 200 URL/s<td>100 KB/s<tr><td>Outgoing data<td>500 bytes/URL * 19K URL/s<td>9 MB/s<tr><td>Storage for 5 years<td>500 bytes/URL * 500 million * 60 months<td>15 TB<tr><td>Memory for cache<td>19K URL * 3600 seconds * 24 hours * 500 bytes * 20%<td>170 GB</table></div></ul><h2 id="system-apis"><span class="me-2">System APIs</span><a href="#system-apis" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><h3 id="createurl"><span class="me-2"><code class="language-plaintext highlighter-rouge">createUrl</code></span><a href="#createurl" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><ul><li>Parameters Name | Type | Note —- | —- | —- <code class="language-plaintext highlighter-rouge">api_dev_key</code> | <code class="language-plaintext highlighter-rouge">string</code> | The API developer key of a registered account. This will be used to, among other things, throttle users based on their allocated quota. <code class="language-plaintext highlighter-rouge">original_url</code> | <code class="language-plaintext highlighter-rouge">string</code> | Original URL to be shortened. <code class="language-plaintext highlighter-rouge">custom_alias</code> | <code class="language-plaintext highlighter-rouge">string</code> | Optional custom key for the URL. <code class="language-plaintext highlighter-rouge">user_name</code> | <code class="language-plaintext highlighter-rouge">string</code> | Optional user name to be used in encoding. <code class="language-plaintext highlighter-rouge">expire_date</code> | <code class="language-plaintext highlighter-rouge">string</code> | Optional expiration date for the shortened URL.<li>Return<ul><li><code class="language-plaintext highlighter-rouge">string</code><li>A successful insertion returns the shortened URL; otherwise, it returns an error code.</ul></ul><h3 id="deleteurl"><span class="me-2"><code class="language-plaintext highlighter-rouge">deleteUrl</code></span><a href="#deleteurl" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><ul><li>Parameters Name | Type | Note —- | —- | —- <code class="language-plaintext highlighter-rouge">api_dev_key</code> | <code class="language-plaintext highlighter-rouge">string</code> | The API developer key of a registered account. This will be used to, among other things, throttle users based on their allocated quota. <code class="language-plaintext highlighter-rouge">url_key</code> | <code class="language-plaintext highlighter-rouge">string</code> | Short URL.<li>Return<ul><li><code class="language-plaintext highlighter-rouge">string</code><li>A successful deletion returns ‘URL Removed’.</ul></ul><h2 id="database-design"><span class="me-2">Database design</span><a href="#database-design" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><ul><li>Observations<ul><li>Need to store billions of records.<li>Each object is small (less than 1K).<li>No relationships between records—other than storing which user created a URL.<li>Read-heavy.<li>A NoSQL choice would also be easier to scale.<li>Comment: SQL with sharding should also work</ul><li>Schema<ul><li>URL Column | Type —- | —- <code class="language-plaintext highlighter-rouge">hash</code> | varchar(16) <code class="language-plaintext highlighter-rouge">original_url</code> | varchar(512) <code class="language-plaintext highlighter-rouge">creation_date</code> | datetime <code class="language-plaintext highlighter-rouge">expiration_date</code> | datetime <code class="language-plaintext highlighter-rouge">user_id</code> | int<li>User Column | Type —- | —- <code class="language-plaintext highlighter-rouge">name</code> | varchar(20) <code class="language-plaintext highlighter-rouge">email</code> | varchar(32) <code class="language-plaintext highlighter-rouge">creation_date</code> | datetime <code class="language-plaintext highlighter-rouge">last_login</code> | datetime</ul></ul><h2 id="basic-system-design-and-algorithm"><span class="me-2">Basic System Design and Algorithm</span><a href="#basic-system-design-and-algorithm" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><h3 id="encoding-actual-url"><span class="me-2">Encoding actual URL</span><a href="#encoding-actual-url" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><ul><li>Compute unique hash<ul><li><code class="language-plaintext highlighter-rouge">base64</code>: A-Z, a-z, 0-9, <code class="language-plaintext highlighter-rouge">-</code>, <code class="language-plaintext highlighter-rouge">.</code><li>6 letters: 64 ^ 6 = ~68.7 billion<li>8 letters: 64 ^ 8 = ~281 trillion<li>Use 6 letters<li><code class="language-plaintext highlighter-rouge">MD5</code> generates 128 bit hash value<li>Each <code class="language-plaintext highlighter-rouge">base64</code> character encodes 6 bits<li><code class="language-plaintext highlighter-rouge">base64</code> encoding generates 22 characters<li>Select 8 characters</ul><li>Issues with this approach<ul><li>Same URL from multiple users<li>URL-encoded</ul><li>Workaround<ul><li>Append an increasing sequence number to each input URL, and generate a hash for it<li>Append user id to input URL</ul></ul><h3 id="generating-keys-offline"><span class="me-2">Generating keys offline</span><a href="#generating-keys-offline" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><ul><li>Standalone Key Generation Service (KGS)<ul><li>Generate random 6 letter strings and store them in a database (key DB)<li>When a short URL is needed, take one from the key DB</ul><li>Key DB size<ul><li>6 characters/key * 68.7B unique keys = 412 GB</ul><li>Concurrency issue<ul><li>If there are multiple servers reading keys concurrently, two or more servers try to read the same key from the database.</ul><li>Workaround<ul><li>Servers can use KGS to read/mark keys in the database.<li>KGS can use two tables to store keys: one for keys that are not used yet, and one for all the used keys.<li>KGS can always keep some keys in memory so that it can quickly provide them whenever a server needs them.<li>KGS needs to make sure not to give the same key to multiple servers.<li>Comment: keys are sharded. Each KGS server only serves one application server.</ul><li>Key lookup<ul><li>When a key is found, issue an “HTTP 302 Redirect” status and passing the stored URL.<li>When a key is not found, issue an “HTTP 404 Not Found”, or redirect to homepage.</ul></ul><h3 id="uuid"><span class="me-2">UUID</span><a href="#uuid" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Replace KGS with UUID.</p><h2 id="data-partitioning-and-replication"><span class="me-2">Data Partitioning and Replication</span><a href="#data-partitioning-and-replication" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><ul><li>Range Based Partitioning<ul><li>Store URLs in separate partitions based on the first letter of the URL or the hash key.<li>Combine certain less frequently occurring letters into one database partition.</ul><li>Problem with this approach<ul><li>Unbalanced servers.</ul><li>Hash-Based Partitioning<ul><li>Take a hash of the short URL we are storing, and calculate which partition to use based upon the hash.<li>Use consistent hashing</ul></ul><h2 id="cache"><span class="me-2">Cache</span><a href="#cache" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><ul><li>Eviction policy<ul><li>LRU: discard the least recently used URL first</ul><li>Cache update<ul><li>Cache miss: hit backend database and pass new entry to all cache replicas</ul></ul><h2 id="load-balancer-lb"><span class="me-2">Load Balancer (LB)</span><a href="#load-balancer-lb" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><ul><li>LB locations<ul><li>Between Clients and Application servers<li>Between Application Servers and database servers<li>Between Application Servers and Cache servers</ul></ul><h2 id="db-sweeping"><span class="me-2">DB Sweeping</span><a href="#db-sweeping" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>A separate Cleanup service can run periodically to remove expired links from our storage and cache.</p><h2 id="telemetry"><span class="me-2">Telemetry</span><a href="#telemetry" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Statistics about the system: how many times a short URL has been used</p><h2 id="security-and-permissions"><span class="me-2">Security and Permissions</span><a href="#security-and-permissions" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><ul><li>Store permission level (public/private) with each URL in the database<li>Send an error (HTTP 401) for unauthorized access</ul></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw me-1"></i> <a href="/categories/system-design/">System Design</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw me-1"></i> <a href="/tags/blog/" class="post-tag no-text-decoration" >blog</a> <a href="/tags/url-shortner/" class="post-tag no-text-decoration" >url-shortner</a> <a href="/tags/system-design/" class="post-tag no-text-decoration" >system-design</a></div><div class=" post-tail-bottom d-flex justify-content-between align-items-center mt-5 pb-2 " ><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper d-flex align-items-center"> <span class="share-label text-muted me-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=https%3A%2F%2Fsamir.pages.dev%2Fposts%2Furl-shortening-service%2F%20Shortening%20Service%20-%20Samir%20Paul&url=https%3A%2F%2Fsamir.pages.dev%2Fposts%2Furl-shortening-service%2F" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter" > <i class="fa-fw fa-brands fa-square-x-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=https%3A%2F%2Fsamir.pages.dev%2Fposts%2Furl-shortening-service%2F%20Shortening%20Service%20-%20Samir%20Paul&u=https%3A%2F%2Fsamir.pages.dev%2Fposts%2Furl-shortening-service%2F" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook" > <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Fsamir.pages.dev%2Fposts%2Furl-shortening-service%2F&text=https%3A%2F%2Fsamir.pages.dev%2Fposts%2Furl-shortening-service%2F%20Shortening%20Service%20-%20Samir%20Paul" data-bs-toggle="tooltip" data-bs-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram" > <i class="fa-fw fab fa-telegram"></i> </a> <button id="copy-link" aria-label="Copy link" class="btn small" data-bs-toggle="tooltip" data-bs-placement="top" title="Copy link" data-title-succeed="Link copied successfully!" > <i class="fa-fw fas fa-link pe-none"></i> </button> </span></div></div></div></article></main><aside aria-label="Panel" id="panel-wrapper" class="col-xl-3 ps-2 mb-5 text-muted"><div class="access"><section><h2 class="panel-heading">Trending Tags</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/blog/">blog</a> <a class="post-tag btn btn-outline-primary" href="/tags/computer-science/">computer-science</a> <a class="post-tag btn btn-outline-primary" href="/tags/coding/">coding</a> <a class="post-tag btn btn-outline-primary" href="/tags/system-design/">system-design</a> <a class="post-tag btn btn-outline-primary" href="/tags/design-interview/">design-interview</a> <a class="post-tag btn btn-outline-primary" href="/tags/preparation/">preparation</a> <a class="post-tag btn btn-outline-primary" href="/tags/leetcode/">LeetCode</a> <a class="post-tag btn btn-outline-primary" href="/tags/project/">project</a> <a class="post-tag btn btn-outline-primary" href="/tags/projects/">projects</a> <a class="post-tag btn btn-outline-primary" href="/tags/python/">python</a></div></section></div><section id="toc-wrapper" class="ps-0 pe-4"><h2 class="panel-heading ps-3 pt-2 mb-2">Contents</h2><nav id="toc"></nav></section></aside></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-md-4"><aside id="related-posts" aria-labelledby="related-label"><h3 class="mb-4" id="related-label">Further Reading</h3><nav class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4"><article class="col"> <a href="/posts/common-design-questions/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1677868200" data-df="ll" > Mar 4, 2023 </time><h4 class="pt-0 my-2">Common Design questions</h4><div class="text-muted"><p> It generally depends what you are and you will be working on. Also what your level is but these are some of the more frequent interview questions. Design amazon’s frequently viewed product page...</p></div></div></a></article><article class="col"> <a href="/posts/company-engineering-blog-links/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1677868200" data-df="ll" > Mar 4, 2023 </time><h4 class="pt-0 my-2">Company engineering blog links</h4><div class="text-muted"><p> courtesy checkcheckzz Depending on where you are interviewing, go through the company blog. VERY USEFUL IN INTERVIEWS! It really helps if you have an idea of the architecture, as the questions ask...</p></div></div></a></article><article class="col"> <a href="/posts/consistent-hashing/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1677868200" data-df="ll" > Mar 4, 2023 </time><h4 class="pt-0 my-2">Consistent Hashing</h4><div class="text-muted"><p> Consistent Hashing Simple hashing Problems of simple hashing function key % n (n is the number of servers): It is not horizontally scalable. Whenever a new cache host is added to the system, al...</p></div></div></a></article></nav></aside><nav class="post-navigation d-flex justify-content-between" aria-label="Post Navigation"> <a href="/posts/system-design-interview-for-it-companies/" class="btn btn-outline-primary" aria-label="Older" ><p>System design interview for IT companies</p></a> <a href="/posts/embed-music/" class="btn btn-outline-primary" aria-label="Newer" ><p>Embed MusicApp</p></a></nav><div id="disqus_thread"><p class="text-center text-muted small">Comments powered by <a href="https://disqus.com/">Disqus</a>.</p></div><script type="text/javascript"> var disqus_config = function () { this.page.url = 'https://samir.pages.dev/posts/url-shortening-service/'; this.page.identifier = '/posts/url-shortening-service/'; }; /* Lazy loading */ var disqus_observer = new IntersectionObserver( function (entries) { if (entries[0].isIntersecting) { (function () { var d = document, s = d.createElement('script'); s.src = 'https://samirpaul.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); (d.head || d.body).appendChild(s); })(); disqus_observer.disconnect(); } }, { threshold: [0] } ); disqus_observer.observe(document.querySelector('#disqus_thread')); /* Auto switch theme */ function reloadDisqus() { if (event.source === window && event.data && event.data.direction === ModeToggle.ID) { /* Disqus hasn't been loaded */ if (typeof DISQUS === 'undefined') { return; } if (document.readyState == 'complete') { DISQUS.reset({ reload: true, config: disqus_config }); } } } if (document.querySelector('.mode-toggle')) { window.addEventListener('message', reloadDisqus); } </script><footer aria-label="Site Info" class=" d-flex flex-column justify-content-center text-muted flex-lg-row justify-content-lg-between align-items-lg-center pb-lg-3 " ><p> © <time>2023</time> <a href="https://twitter.com/SamirPaulb">Samir Paul</a>. <span data-bs-toggle="tooltip" data-bs-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author." >Some rights reserved.</span></p><p>Using the <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme for <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a></p></footer></div></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-11 content"><div id="search-hints"><section><h2 class="panel-heading">Trending Tags</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/blog/">blog</a> <a class="post-tag btn btn-outline-primary" href="/tags/computer-science/">computer-science</a> <a class="post-tag btn btn-outline-primary" href="/tags/coding/">coding</a> <a class="post-tag btn btn-outline-primary" href="/tags/system-design/">system-design</a> <a class="post-tag btn btn-outline-primary" href="/tags/design-interview/">design-interview</a> <a class="post-tag btn btn-outline-primary" href="/tags/preparation/">preparation</a> <a class="post-tag btn btn-outline-primary" href="/tags/leetcode/">LeetCode</a> <a class="post-tag btn btn-outline-primary" href="/tags/project/">project</a> <a class="post-tag btn btn-outline-primary" href="/tags/projects/">projects</a> <a class="post-tag btn btn-outline-primary" href="/tags/python/">python</a></div></section></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><aside aria-label="Scroll to Top"> <button id="back-to-top" type="button" class="btn btn-lg btn-box-shadow"> <i class="fas fa-angle-up"></i> </button></aside></div><div id="mask"></div><aside id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-bs-animation="true" data-bs-autohide="false" ><div class="toast-header"> <button type="button" class="btn-close ms-auto" data-bs-dismiss="toast" aria-label="Close" ></button></div><div class="toast-body text-center pt-0"><p class="px-2 mb-3">A new version of content is available.</p><button type="button" class="btn btn-primary" aria-label="Update"> Update </button></div></aside><script src="https://cdn.jsdelivr.net/combine/npm/jquery@3.7.1/dist/jquery.min.js,npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js,npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.umd.min.js,npm/magnific-popup@1.1.0/dist/jquery.magnific-popup.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.10/dayjs.min.js,npm/dayjs@1.11.10/locale/en.min.js,npm/dayjs@1.11.10/plugin/relativeTime.min.js,npm/dayjs@1.11.10/plugin/localizedFormat.min.js,npm/tocbot@4.21.2/dist/tocbot.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-CP4QE6ZEV0"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-CP4QE6ZEV0'); }); </script> <script> /* Note: dependent library will be loaded in `js-selector.html` */ SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<article class="px-1 px-sm-2 px-lg-4 px-xl-0"><header><h2><a href="{url}">{title}</a></h2><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div></header><p>{snippet}</p></article>', noResultsText: '<p class="mt-5"></p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script>
