{
    "version": "https://jsonfeed.org/version/1",
    "title": "Samir Paul • All posts by \"blog\" tag",
    "description": "Here I write content about Computer Science, Data Structures Algorithms, Networking, Artificial Intelligence and Coding Interview Preparation.",
    "home_page_url": "https://samirpaul1.github.io",
    "items": [
        {
            "id": "https://samirpaul1.github.io/posts/operating-system-notes-for-placement/",
            "url": "https://samirpaul1.github.io/posts/operating-system-notes-for-placement/",
            "title": "Operating System Notes For Placement",
            "date_published": "2023-08-05T20:52:53.913Z",
            "content_html": "<h1 id=\"Operating-Systems-Overview\"><a href=\"#Operating-Systems-Overview\" class=\"headerlink\" title=\"Operating Systems Overview\"></a>Operating Systems Overview</h1><hr>\n\n<p><strong>Operating Systems</strong> :</p>\n<ul>\n<li>Direct operational resources [CPU, memory, devices]</li>\n<li>Enforces working policies [Resource usage, access]</li>\n<li>Mitigates difficulty of complex tasks [abstract hardware details (using system calls)]</li>\n</ul>\n<h2 id=\"What-is-an-Operating-System\"><a href=\"#What-is-an-Operating-System\" class=\"headerlink\" title=\"What is an Operating System?\"></a>What is an Operating System?</h2><ul>\n<li>Intermediate between Hardware and Software applications</li>\n<li>Hides hardware complexity (Read&#x2F;write file storage, send&#x2F;receive socket network)</li>\n<li>Handles resource management (CPU scheduling, Memory management)</li>\n<li>Provide isolation and protection (allocate different parts of memory to different applications so that applications don’t overwrite other memory locations)</li>\n</ul>\n<h2 id=\"Operating-System-definition\"><a href=\"#Operating-System-definition\" class=\"headerlink\" title=\"Operating System definition:\"></a>Operating System definition:</h2><p>An <strong>Operating System</strong> is a layer of systems software that:</p>\n<ul>\n<li>directly has privileged access to the underlying hardware;</li>\n<li>hides the hardware complexity;</li>\n<li>manages hardware on behalf of one or more application according to some predifined policies.</li>\n<li>In addition, it ensures that applications are isolated and protected from one another.</li>\n</ul>\n<h2 id=\"Operating-System-examples\"><a href=\"#Operating-System-examples\" class=\"headerlink\" title=\"Operating System examples:\"></a>Operating System examples:</h2><table>\n<thead>\n<tr>\n<th>Desktop</th>\n<th>Embedded devices</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>Microsoft Windows</td>\n<td>Android OS</td>\n</tr>\n<tr>\n<td>MAC OS X (BSD)</td>\n<td>iOS</td>\n</tr>\n<tr>\n<td>LINUX</td>\n<td>Symbian</td>\n</tr>\n<tr>\n<td>…</td>\n<td>…</td>\n</tr>\n</tbody></table>\n<h2 id=\"OS-Elements\"><a href=\"#OS-Elements\" class=\"headerlink\" title=\"OS Elements\"></a>OS Elements</h2><ul>\n<li><strong>Abstractions</strong> (corresponds to applications that OS executes)<ul>\n<li>process, thread, file, socket,  memory page</li>\n</ul>\n</li>\n<li><strong>Mechanisms</strong>  (on top of Abstractions)<ul>\n<li>create, schedule, open, write, allocate</li>\n</ul>\n</li>\n<li><strong>Policies</strong> (how mechanisms are used to manage underlying hardware)    <ul>\n<li>Least Recently Used (LRU) , Earliest Deadline First (EDF), etc.</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"Example\"><a href=\"#Example\" class=\"headerlink\" title=\"Example :\"></a>Example :</h4><p><em>Memory Management:</em></p>\n<ul>\n<li><strong>Abstractions</strong>: Memory page</li>\n<li><strong>Mechanisms</strong>: Allocate, map to a process</li>\n<li><strong>Policies</strong>: LRU</li>\n</ul>\n<h2 id=\"OS-Design-Principles\"><a href=\"#OS-Design-Principles\" class=\"headerlink\" title=\"OS Design Principles\"></a>OS Design Principles</h2><ul>\n<li>Seperation of mechanism and policy<ul>\n<li>implement flexible mechanisms to support many policies </li>\n<li>e.g. LRU, LFU, random</li>\n</ul>\n</li>\n<li>Optimize for common case <ul>\n<li>Where will the OS be used?</li>\n<li>What will the user want to execute on that machine?</li>\n<li>What are the workload requirements?</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"User-Kernel-Protection-Boundary\"><a href=\"#User-Kernel-Protection-Boundary\" class=\"headerlink\" title=\"User&#x2F; Kernel Protection Boundary\"></a>User&#x2F; Kernel Protection Boundary</h2><ul>\n<li>user-level &#x3D;&gt; applications [underprivileged mode]</li>\n<li>kernel-level &#x3D;&gt; OS Kernel [privileged access, hardware access]</li>\n</ul>\n<p><img src=\"https://spcdn.pages.dev/blog/os/userkernelprotectionboundary.png\" alt=\"userkernelprotectionboundary\"></p>\n<ul>\n<li>User-Kernel switch is supported by hardware.<ul>\n<li>using trap instructions</li>\n<li>system calls like:<ul>\n<li>open (file)</li>\n<li>send (socket)</li>\n<li>malloc (memory)</li>\n</ul>\n</li>\n<li>signals</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"System-call-Flowcart\"><a href=\"#System-call-Flowcart\" class=\"headerlink\" title=\"System call Flowcart\"></a>System call Flowcart</h2><p><img src=\"https://spcdn.pages.dev/blog/os/systemcallflowchart.png\" alt=\"systemcallflowchart\"></p>\n<ul>\n<li>To make a system call, an application must:<ul>\n<li>write arguments</li>\n<li>save relevant data ast well defined location</li>\n<li>make system calls using system call number</li>\n</ul>\n</li>\n<li>In synchronous mode : wait until system call completes.</li>\n</ul>\n<h2 id=\"Basic-OS-services\"><a href=\"#Basic-OS-services\" class=\"headerlink\" title=\"Basic OS services\"></a>Basic OS services</h2><ul>\n<li>process management</li>\n<li>file management</li>\n<li>device management</li>\n<li>memory management</li>\n<li>storage management</li>\n<li>security</li>\n</ul>\n<h2 id=\"Linux-System-Calls\"><a href=\"#Linux-System-Calls\" class=\"headerlink\" title=\"Linux System Calls\"></a>Linux System Calls</h2><table>\n<thead>\n<tr>\n<th>Task</th>\n<th>Commands</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>Process Control</td>\n<td>fork (); exit(); wait();</td>\n</tr>\n<tr>\n<td>File Manipulation</td>\n<td>open(); read(); write();</td>\n</tr>\n<tr>\n<td>Device Manipulation</td>\n<td>ioctl(); read(); write();</td>\n</tr>\n<tr>\n<td>Information Maintenance</td>\n<td>getpid(); alarm(); sleep();</td>\n</tr>\n<tr>\n<td>Communication</td>\n<td>pipe(); shmget(); mmap();</td>\n</tr>\n<tr>\n<td>Protection</td>\n<td>chmod(); umask(); chown();</td>\n</tr>\n</tbody></table>\n<h2 id=\"Linux-Architecture\"><a href=\"#Linux-Architecture\" class=\"headerlink\" title=\"Linux Architecture\"></a>Linux Architecture</h2><p><img src=\"https://spcdn.pages.dev/blog/os/linuxarch.png\" alt=\"linuxarchitecture\"></p>\n<hr>\n\n\n<h1 id=\"Process-and-Process-Management\"><a href=\"#Process-and-Process-Management\" class=\"headerlink\" title=\"Process and Process Management\"></a>Process and Process Management</h1><p><strong>Process</strong>: Instance of an executing program.</p>\n<ul>\n<li>State of execution<ul>\n<li>program counter, stack pointer</li>\n</ul>\n</li>\n<li>Parts and temporary holding area<ul>\n<li>data, register state, occupies state in memory</li>\n</ul>\n</li>\n<li>May require special hardware<ul>\n<li>I&#x2F;O devices</li>\n</ul>\n</li>\n</ul>\n<p>Process is a state of a program when executing and loaded in memory (active state) as opposed to application (static state).</p>\n<h2 id=\"What-does-a-process-look-like\"><a href=\"#What-does-a-process-look-like\" class=\"headerlink\" title=\"What does a process look like?\"></a>What does a process look like?</h2><p><img src=\"https://spcdn.pages.dev/blog/os/process.png\" alt=\"Process\"></p>\n<h3 id=\"Type-of-state\"><a href=\"#Type-of-state\" class=\"headerlink\" title=\"Type of state\"></a>Type of state</h3><ul>\n<li>Text and Data<ul>\n<li>static state when process loads first</li>\n</ul>\n</li>\n<li>Heap <ul>\n<li>dynamically created during execution</li>\n</ul>\n</li>\n<li>Stack<ul>\n<li>grows and shrinks </li>\n<li>LIFO queue (used to store task checkpoints to resume the original process after switching from another.)</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"How-does-the-OS-know-what-a-process-is-doing\"><a href=\"#How-does-the-OS-know-what-a-process-is-doing\" class=\"headerlink\" title=\"How does the OS know what a process is doing?\"></a>How does the OS know what a process is doing?</h2><p>Using:</p>\n<ul>\n<li>Program counter</li>\n<li>CPU registers</li>\n<li>Stack pointer</li>\n</ul>\n<h2 id=\"Process-Control-Block-PCB\"><a href=\"#Process-Control-Block-PCB\" class=\"headerlink\" title=\"Process Control Block (PCB)\"></a>Process Control Block (PCB)</h2><p><img src=\"https://spcdn.pages.dev/blog/os/pcb.png\" alt=\"PCB\"></p>\n<ul>\n<li>PCB created when process is created</li>\n<li>Certain fields are updated when process state change e.g. memory mapping</li>\n<li>or other fields that change very frequently e.g. Program Counter</li>\n</ul>\n<h2 id=\"How-is-PCB-used\"><a href=\"#How-is-PCB-used\" class=\"headerlink\" title=\"How is PCB used ?\"></a>How is PCB used ?</h2><p><img src=\"https://spcdn.pages.dev/blog/os/howpcbisused.png\" alt=\"howpcbisused\"></p>\n<h2 id=\"Context-Switch\"><a href=\"#Context-Switch\" class=\"headerlink\" title=\"Context Switch\"></a>Context Switch</h2><ul>\n<li>Mechanism used to switch from the context of one process to another in the CPU.</li>\n</ul>\n<ul>\n<li>They are expensive!<ul>\n<li>direct costs: no of cycles for load and store instructions.</li>\n<li>indirect costs: <strong>COLD</strong> cache (read more <a href=\"http://stackoverflow.com/questions/22756092/what-does-it-mean-by-cold-cache-and-warm-cache-concept\">here</a>)<ul>\n<li>Therefore limit frequency how context switching is done.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>When a cache is <strong>HOT</strong>, most process data is in the cache so the process performance will be at its best.</p>\n<p>Sometimes there are situations where we have to Context Switch (higher priority process, timesharing, etc.)</p>\n<h2 id=\"Process-Lifecycle\"><a href=\"#Process-Lifecycle\" class=\"headerlink\" title=\"Process Lifecycle\"></a>Process Lifecycle</h2><p><img src=\"https://spcdn.pages.dev/blog/os/processlifecycle.png\" alt=\"processlifecycle\"></p>\n<p>CPU is able to execute a process when the process is in Running or Ready state.</p>\n<h2 id=\"Process-Creation\"><a href=\"#Process-Creation\" class=\"headerlink\" title=\"Process Creation\"></a>Process Creation</h2><h4 id=\"Mechanisms\"><a href=\"#Mechanisms\" class=\"headerlink\" title=\"Mechanisms:\"></a>Mechanisms:</h4><ul>\n<li><p>fork :</p>\n<ul>\n<li>copies the parent PCB into new child PCB</li>\n<li>child contains execution at instruction after fork</li>\n</ul>\n</li>\n<li><p>exec :</p>\n<ul>\n<li>replace child image</li>\n<li>load new program and start from first instruction</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"What-is-the-role-of-CPU-scheduler\"><a href=\"#What-is-the-role-of-CPU-scheduler\" class=\"headerlink\" title=\"What is the role of CPU scheduler?\"></a>What is the role of CPU scheduler?</h2><p>CPU scheduler determines which one of the currently ready processes will be dispatched to the CPU to start running, and how long it should run for.</p>\n<p>OS must :</p>\n<ul>\n<li>preempt &#x3D;&gt; interrupt and save current context</li>\n<li>schedule &#x3D;&gt; run scheduler to choose next process</li>\n<li>dispatch &#x3D;&gt; dispatch process 2 switch into its context</li>\n</ul>\n<h2 id=\"Scheduling-design-decisions\"><a href=\"#Scheduling-design-decisions\" class=\"headerlink\" title=\"Scheduling design decisions\"></a>Scheduling design decisions</h2><p><img src=\"https://spcdn.pages.dev/blog/os/timeslice.png\" alt=\"timeslice\"></p>\n<ul>\n<li>What are the appropriate timeslice values?</li>\n<li>Metrics to choose next process to run?</li>\n</ul>\n<h2 id=\"I-O\"><a href=\"#I-O\" class=\"headerlink\" title=\"I&#x2F;O\"></a>I&#x2F;O</h2><p>A process can make way in the ready queue in a number of ways.</p>\n<p><img src=\"https://spcdn.pages.dev/blog/os/io.png\" alt=\"io\"></p>\n<h2 id=\"Can-process-interact\"><a href=\"#Can-process-interact\" class=\"headerlink\" title=\"Can process interact?\"></a>Can process interact?</h2><h4 id=\"Inter-Process-communication\"><a href=\"#Inter-Process-communication\" class=\"headerlink\" title=\"Inter Process communication:\"></a>Inter Process communication:</h4><p>IPC mechanisms:</p>\n<ul>\n<li>transfer data&#x2F;info between address space</li>\n<li>maintain protection and isolation</li>\n<li>provide flexibility and performance</li>\n</ul>\n<p>Two types of IPC models:</p>\n<h4 id=\"1-Message-Passing-IPC\"><a href=\"#1-Message-Passing-IPC\" class=\"headerlink\" title=\"1. Message Passing IPC\"></a>1. <strong>Message Passing IPC</strong></h4><p><img src=\"https://spcdn.pages.dev/blog/os/messagepassing.png\" alt=\"messagepassing\"></p>\n<ul>\n<li>OS provides communication channel line shared buffer</li>\n<li>Processes can write(send), read(receive) msg to&#x2F;from channel</li>\n</ul>\n<p><strong>Advantages</strong>: OS manages the channel<br><br><strong>Disadvantages</strong>: Overheads</p>\n<h4 id=\"2-Shared-Memory-IPC\"><a href=\"#2-Shared-Memory-IPC\" class=\"headerlink\" title=\"2. Shared Memory IPC\"></a>2. <strong>Shared Memory IPC</strong></h4><p><img src=\"https://spcdn.pages.dev/blog/os/sharedmemory.png\" alt=\"sharedmemory\"></p>\n<ul>\n<li>OS establishes a shared channel and maps it into each processes’ address space</li>\n<li>Processes directly write(send), read(receive) msg to&#x2F;from this memory</li>\n</ul>\n<p><strong>Advantages</strong>: OS is out of the way after establishing the shared channel<br><br><strong>Disadvantages</strong>: Re-implementing a lot of code that could have been done by the OS</p>\n<p>Overall, <strong>shared memory</strong> based communication is better if mapping memory between two processes is ammortized over a large number of messages.</p>\n<hr>\n\n\n<h1 id=\"Threads-and-Concurrency\"><a href=\"#Threads-and-Concurrency\" class=\"headerlink\" title=\"Threads and Concurrency\"></a>Threads and Concurrency</h1><p><strong>Thread</strong>:</p>\n<ul>\n<li>is an active<ul>\n<li>entity executing unit of a process</li>\n</ul>\n</li>\n<li>works simultaneously with others<ul>\n<li>many threads execute together</li>\n</ul>\n</li>\n<li>requires coordination<ul>\n<li>sharing of I&#x2F;O devices, CPUs, memory</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"Process-vs-Thread\"><a href=\"#Process-vs-Thread\" class=\"headerlink\" title=\"Process vs Thread\"></a>Process vs Thread</h2><p><img src=\"https://spcdn.pages.dev/blog/os/processvthread.png\" alt=\"processvthread\"></p>\n<h2 id=\"Why-are-threads-useful\"><a href=\"#Why-are-threads-useful\" class=\"headerlink\" title=\"Why are threads useful?\"></a>Why are threads useful?</h2><ul>\n<li>Parallelization &#x3D;&gt; Speedup</li>\n<li>Specialization &#x3D;&gt; Hot cache</li>\n<li>Efficiency &#x3D;&gt; lower memory requirement &amp; cheaper IPC</li>\n<li>Time for context switch in threads is less, since memory is shared, hence mapping is not required between virtual and physical memory.<ul>\n<li>Therefore multithreading can be used to hide latency.</li>\n</ul>\n</li>\n<li>Benefits to both applicatioons and OS code <ul>\n<li>Multithreaded OS kernel<ul>\n<li>threads working on behalf of applications</li>\n<li>OS level services like daemons and drivers</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"What-do-we-need-to-support-threads\"><a href=\"#What-do-we-need-to-support-threads\" class=\"headerlink\" title=\"What do we need to support threads?\"></a>What do we need to support threads?</h2><ul>\n<li>Threads data structure<ul>\n<li>Identify threads, keep track of resource usage..</li>\n</ul>\n</li>\n<li>Mechanisms to create and manage threads</li>\n<li>Mechanisms to safely coordinate among threads running concurrently in the same address space</li>\n</ul>\n<h2 id=\"Concurrency-control-and-Coordination\"><a href=\"#Concurrency-control-and-Coordination\" class=\"headerlink\" title=\"Concurrency control and Coordination\"></a>Concurrency control and Coordination</h2><ul>\n<li>Mutual exclusion <ul>\n<li>Exclusive access to only one thread at a time</li>\n<li><strong>mutex</strong></li>\n</ul>\n</li>\n<li>Waiting on other threads<ul>\n<li>Specific condition before proceeding</li>\n<li><strong>condition variable</strong></li>\n</ul>\n</li>\n<li>Waking up other threads from wait state</li>\n</ul>\n<h2 id=\"Threads-and-Threads-creation\"><a href=\"#Threads-and-Threads-creation\" class=\"headerlink\" title=\"Threads and Threads creation\"></a>Threads and Threads creation</h2><ul>\n<li><p>Thread data structure: </p>\n<ul>\n<li>Thread type, Thread ID, PC, SP, registers, stack, attributes.</li>\n</ul>\n</li>\n<li><p><strong>Fork</strong>(proc, args)</p>\n<ul>\n<li>create a thread</li>\n<li>not UNIX fork</li>\n</ul>\n</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">t1 = fork(proc, args)   </span><br></pre></td></tr></table></figure>\n\n<ul>\n<li><strong>Join</strong>(thread)<ul>\n<li>terminate a thread</li>\n</ul>\n</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">child_result = join(t1)   </span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Example-1\"><a href=\"#Example-1\" class=\"headerlink\" title=\"Example:\"></a>Example:</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Thread  t1;</span><br><span class=\"line\">Shared_List list;</span><br><span class=\"line\">t1 = fork(safe_insert, 4);</span><br><span class=\"line\">safe_insert(6);</span><br><span class=\"line\">join(t1); //Optional</span><br></pre></td></tr></table></figure>\n\n<p>The list can be accessed by reading shared variable.</p>\n<h2 id=\"Mutual-Exclusion\"><a href=\"#Mutual-Exclusion\" class=\"headerlink\" title=\"Mutual Exclusion\"></a>Mutual Exclusion</h2><ul>\n<li>Mutex data structure:<ul>\n<li>locked?, owner, blocked_threads</li>\n</ul>\n</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">lock(mutex)&#123;</span><br><span class=\"line\">\t//Critical Section</span><br><span class=\"line\">    //Only one thread can access at a time</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">unlock(mutex)</span><br></pre></td></tr></table></figure>\n<p><img src=\"https://spcdn.pages.dev/blog/os/mutex.png\" alt=\"mutex\"></p>\n<h2 id=\"Producer-Consumer-problem\"><a href=\"#Producer-Consumer-problem\" class=\"headerlink\" title=\"Producer Consumer problem\"></a>Producer Consumer problem</h2><p>What if the processing you wish to perform with mutual exclusion needs to occur under certai conditions?</p>\n<p>For e.g. The producer appends items to a list until the list is full, and the consumer has to print out all the items of the list once the list if full and then empty the list. Thus we have to execute the Consumer thread only under a certain condition (here- when the list becomes empty, print items).</p>\n<p>Solution: Use <strong>Condition Variables</strong></p>\n<ul>\n<li><p>Wait(mutex, condition)</p>\n<ul>\n<li>mutex is automatically released and reaquired on wait</li>\n<li>The consumer applies <em>Wait</em> until the list is full</li>\n</ul>\n</li>\n<li><p>Signal(condition)    </p>\n<ul>\n<li>Notify only one thread waiting on condition</li>\n<li>The Producer applies <em>Signal</em> to the Consumer thread when the list is full</li>\n</ul>\n</li>\n<li><p>Broadcast(condition)    </p>\n<ul>\n<li>Notify all waiting threads</li>\n</ul>\n</li>\n</ul>\n<p><img src=\"https://spcdn.pages.dev/blog/os/producerconsumer.png\" alt=\"producerconsumer\">    </p>\n<h2 id=\"Readers-Writer-problem\"><a href=\"#Readers-Writer-problem\" class=\"headerlink\" title=\"Readers &#x2F; Writer problem\"></a>Readers &#x2F; Writer problem</h2><ul>\n<li>0 or more readers can access a resource</li>\n<li>0 or 1 writer can write the resource concurrently at the same time</li>\n</ul>\n<ul>\n<li><p>One solution:</p>\n<ul>\n<li>lock on resource<ul>\n<li>good for writer</li>\n<li>too restrictive for readers</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>Better solution:</p>\n</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">if ((read_count == 0) &amp; (read_count == 0))</span><br><span class=\"line\">\tR okay, W okay</span><br><span class=\"line\">if (read_count &gt; 0)</span><br><span class=\"line\">\tR okay    </span><br><span class=\"line\">if (read_count == 1)</span><br><span class=\"line\">\tR not-okay, W not-okay    </span><br></pre></td></tr></table></figure>\n\n<p>State of shared resource:</p>\n<ul>\n<li>free : resource_counter &#x3D; 0</li>\n<li>reading : resource_counter &gt; 0</li>\n<li>writing : resource_counter &#x3D; -1</li>\n</ul>\n<p>Thus essentially we can apply mutex on the new proxy ‘resource_counter’ variable that represents the state of the shared resource.</p>\n<h2 id=\"Avoiding-common-mistakes\"><a href=\"#Avoiding-common-mistakes\" class=\"headerlink\" title=\"Avoiding common mistakes\"></a>Avoiding common mistakes</h2><ul>\n<li>keep track of mutex&#x2F;lock variable used with a resource<ul>\n<li>e.g. mutex_type m1; &#x2F;&#x2F; mutex for file1</li>\n</ul>\n</li>\n<li>check that you are always and correctly using lock and unlock \t- Compilers can be used as they generate errors&#x2F;warnings to correct this type of mistake  \t</li>\n<li>Use a single mutex to access a single resource</li>\n<li>check that you are signalling correct condition</li>\n<li>check that you are not using signal when broadcast is needed<ul>\n<li>signal : only 1 thread is will proceed, remaining threads will wait</li>\n</ul>\n</li>\n<li>check thread execution order to be controlled by signals to condition variables</li>\n</ul>\n<h2 id=\"Spurious-Unnecessary-Wake-ups\"><a href=\"#Spurious-Unnecessary-Wake-ups\" class=\"headerlink\" title=\"Spurious(Unnecessary) Wake ups\"></a>Spurious(Unnecessary) Wake ups</h2><p>When we wake up threads knowing they may not be able to proceed.</p>\n<h2 id=\"Deadlocks\"><a href=\"#Deadlocks\" class=\"headerlink\" title=\"Deadlocks\"></a>Deadlocks</h2><p>Two or more competing threads are said to be in a deadlock if they are waiting on each other to complete, but none of them ever do.</p>\n<p><img src=\"https://spcdn.pages.dev/blog/os/deadlock.png\" alt=\"deadlock\"></p>\n<p>Here T1 and T2 are in deadlock.</p>\n<h3 id=\"How-to-avoid-this\"><a href=\"#How-to-avoid-this\" class=\"headerlink\" title=\"How to avoid this?\"></a>How to avoid this?</h3><ol>\n<li>Unlock T1 before locking T2<ul>\n<li>Fine-grained locking but T1 nad T2 may both be required</li>\n</ul>\n</li>\n<li>Use one mega lock, get all locks upfront, then release at end<ul>\n<li>For some applications this may be ok. But generally its too restrictive and limits parallelism</li>\n</ul>\n</li>\n<li>Maintain lock order<ul>\n<li>first m_T1</li>\n<li>then m_T2 <ul>\n<li>this will prevent cycles in wait graph</li>\n</ul>\n</li>\n</ul>\n</li>\n</ol>\n<p>A cycle in wait graph is necessary and sufficient for deadlock to occur.<br><br>(thread-waiting-on-resource —edge—&gt; thread-owning-resource)</p>\n<ul>\n<li><p>Deadlock prevention &#x3D;&gt; Expensive<br><br>Pre-check for cycles and then delay process or change code</p>\n</li>\n<li><p>Deadlock Detection and Recovery &#x3D;&gt; Rollback</p>\n</li>\n</ul>\n<h2 id=\"Kernel-vs-User-level-Threads\"><a href=\"#Kernel-vs-User-level-Threads\" class=\"headerlink\" title=\"Kernel vs User level Threads\"></a>Kernel vs User level Threads</h2><p><img src=\"https://spcdn.pages.dev/blog/os/kernelvuserthread.png\" alt=\"kernelvuserthread\"></p>\n<p>Three types of models:</p>\n<h4 id=\"1-One-to-One-model\"><a href=\"#1-One-to-One-model\" class=\"headerlink\" title=\"1. One to One model:\"></a>1. <strong>One to One model</strong>:</h4><p><img src=\"https://spcdn.pages.dev/blog/os/onetoone.png\" alt=\"onetoone\"></p>\n<p><strong>Advantages</strong>: </p>\n<ul>\n<li>OS sees threads</li>\n<li>Synchronization</li>\n<li>Blocking</li>\n</ul>\n<p><strong>Disadvantages</strong>: </p>\n<ul>\n<li>Must go to OS for all operations</li>\n<li>OS may have limits on policies, threads</li>\n<li>Portability</li>\n</ul>\n<h4 id=\"2-Many-to-One-model\"><a href=\"#2-Many-to-One-model\" class=\"headerlink\" title=\"2. Many to One model:\"></a>2. <strong>Many to One model</strong>:</h4><p><img src=\"https://spcdn.pages.dev/blog/os/manytoone.png\" alt=\"manytoone\"></p>\n<p><strong>Advantages</strong>: </p>\n<ul>\n<li>Totally Portable </li>\n<li>Doesn’t depend on OS limits and policies</li>\n</ul>\n<p><strong>Disadvantages</strong>: </p>\n<ul>\n<li>OS may block entire process if one user-level thread blocks on I&#x2F;O</li>\n</ul>\n<h4 id=\"3-Many-to-Many-model\"><a href=\"#3-Many-to-Many-model\" class=\"headerlink\" title=\"3. Many to Many model:\"></a>3. <strong>Many to Many model</strong>:</h4><p><img src=\"https://spcdn.pages.dev/blog/os/manytomany.png\" alt=\"manytomany\"></p>\n<p><strong>Advantages</strong>: </p>\n<ul>\n<li>Best of both worlds</li>\n<li>Can have bound or unbound threads</li>\n</ul>\n<p><strong>Disadvantages</strong>: </p>\n<ul>\n<li>Requires coordination between user and kernel level thread managers</li>\n</ul>\n<h2 id=\"Multithreading-patterns\"><a href=\"#Multithreading-patterns\" class=\"headerlink\" title=\"Multithreading patterns\"></a>Multithreading patterns</h2><p><strong>1. Boss-Workers pattern</strong></p>\n<ul>\n<li>Boss- assigns work</li>\n<li>Workers- perform entire task</li>\n</ul>\n<p>Throughput of system is limited by boss thread. Hence boss thread must be kept efficient.</p>\n<p>Throughput &#x3D; 1&#x2F;boss-time-orders</p>\n<p>Boss assigns works by:</p>\n<ol>\n<li>Directly signalling specific works<ul>\n<li><strong>+</strong> workers don’t need to sync</li>\n<li><strong>-</strong> boss must keep track of everyone</li>\n</ul>\n</li>\n<li>Placing work in queue<ul>\n<li><strong>+</strong> boss doesn’t neeed to know details about workers</li>\n<li><strong>-</strong> queue synchronization</li>\n</ul>\n</li>\n</ol>\n<p>How many workers?</p>\n<ul>\n<li>on demand</li>\n<li>pool of workers</li>\n<li>static vs dynamic (i.e dynamically increasing size according to work)</li>\n</ul>\n<p><strong>Advantages</strong>: </p>\n<ul>\n<li>Simplicity</li>\n</ul>\n<p><strong>Disadvantages</strong>: </p>\n<ul>\n<li>Thread pool management</li>\n<li>Locality</li>\n</ul>\n<p><strong>1B. Boss-Workers pattern variant</strong></p>\n<ul>\n<li>Here workers are specialized for certain tasks opposite to the previous equally created workers</li>\n</ul>\n<p><strong>Advantages</strong>: </p>\n<ul>\n<li>Better locality</li>\n<li>Quality of Service management</li>\n</ul>\n<p><strong>Disadvantages</strong>: </p>\n<ul>\n<li>Load balancing</li>\n</ul>\n<p><strong>2. Pipeline pattern</strong></p>\n<ul>\n<li>Threads assigned one subtask in the system</li>\n<li>Entire task &#x3D; Pipeline of threads</li>\n<li>Multiple tasks concurrently run in the system, in different pipeline stages</li>\n<li>Throughput depends on weakest link</li>\n<li>Shared buffer based communication between stages</li>\n</ul>\n<p><strong>3. Layered pattern</strong></p>\n<ul>\n<li>Layers of threads are assigned group of related subtasks</li>\n<li>End to end task must pass up and down through all layers</li>\n</ul>\n<p><strong>Advantages</strong>: </p>\n<ul>\n<li>Specialization</li>\n<li>Less fine-grained than pipeline</li>\n</ul>\n<p><strong>Disadvantages</strong>: </p>\n<ul>\n<li>Not suitable for all applications</li>\n<li>Synchronization</li>\n</ul>\n<h3 id=\"Example-2\"><a href=\"#Example-2\" class=\"headerlink\" title=\"Example:\"></a>Example:</h3><p><strong>Q)</strong> For 6 step toy order application we have 2 solutions:</p>\n<ol>\n<li>Boss-workers solution</li>\n<li>Pipeline solution</li>\n</ol>\n<p>Both have 6 threads. In the boss-workers solution, a worker produces a toy order in 120 ms. In the pipeline solution, each of 6 stages take 20 ms.</p>\n<p>How long will it take for these solutions to complete 10 toy orders and 11 toy orders?</p>\n<p><strong>A)</strong> 6 threads means for Boss-workers, 1 thread is for boss, 5 for workers. In pipeline 6 threads are equally used.</p>\n<p>For 10 toy orders:</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Boss-workers(10) = 120 + 120 = 240 ms</span><br><span class=\"line\">Pipeline(10) = 120 + (9*20) = 300 ms</span><br></pre></td></tr></table></figure>\n<p>Here Boss-workers is better than Pipeline.</p>\n<p>For 11 toy orders:</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Boss-workers(11) = 120 + 120 + 120 = 360 ms</span><br><span class=\"line\">Pipeline(11) = 120 + (10*20) = 320 ms</span><br></pre></td></tr></table></figure>\n<p>Here Pipeline is better than Boss-workers.</p>\n<p>This proves that choosing a better pattern depends on the number of threads and the work required to be done.</p>\n<h2 id=\"PThreads\"><a href=\"#PThreads\" class=\"headerlink\" title=\"PThreads\"></a>PThreads</h2><p>PThreads &#x3D;&#x3D; POSIX Threads</p>\n<p>POSIX &#x3D; Portable OS interface</p>\n<h3 id=\"Compiling-PThreads\"><a href=\"#Compiling-PThreads\" class=\"headerlink\" title=\"Compiling PThreads\"></a>Compiling PThreads</h3><ol>\n<li>#include&lt;pthread.h&gt; in main file</li>\n<li>Compile source with -lpthread or -pthread<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">gcc -o main main.c -lpthread</span><br><span class=\"line\">gcc -o main main.c -pthread</span><br></pre></td></tr></table></figure></li>\n<li>Check return values of common examples</li>\n</ol>\n<h3 id=\"PThread-mutexes\"><a href=\"#PThread-mutexes\" class=\"headerlink\" title=\"PThread mutexes\"></a>PThread mutexes</h3><ul>\n<li>to solve mutual exclusion problems among concurrent threads</li>\n</ul>\n<h3 id=\"Safety-tips\"><a href=\"#Safety-tips\" class=\"headerlink\" title=\"Safety tips\"></a>Safety tips</h3><ul>\n<li>Shared data should always be accessed through single mutex</li>\n<li>Mutex scope must be visible to all</li>\n<li>Globally order locks<ul>\n<li>for all threads, lock mutexes in order</li>\n</ul>\n</li>\n<li>Always unlock a mutex (correctly)</li>\n</ul>\n<h2 id=\"Thread-Design-Considerations\"><a href=\"#Thread-Design-Considerations\" class=\"headerlink\" title=\"Thread Design Considerations\"></a>Thread Design Considerations</h2><h3 id=\"Kernel-vs-User-Level-Threads\"><a href=\"#Kernel-vs-User-Level-Threads\" class=\"headerlink\" title=\"Kernel vs User Level Threads\"></a>Kernel vs User Level Threads</h3><p><img src=\"https://spcdn.pages.dev/blog/os/userlevelvkernellevel.png\" alt=\"userlevelvkernellevel\"></p>\n<h3 id=\"Thread-related-data-structures\"><a href=\"#Thread-related-data-structures\" class=\"headerlink\" title=\"Thread related data structures\"></a>Thread related data structures</h3><p><img src=\"https://spcdn.pages.dev/blog/os/threadds.png\" alt=\"threadds\"></p>\n<h3 id=\"Hard-vs-Light-Process-states\"><a href=\"#Hard-vs-Light-Process-states\" class=\"headerlink\" title=\"Hard vs Light Process states\"></a>Hard vs Light Process states</h3><p>PCB is divided into multiple data structures classified as follows:</p>\n<ul>\n<li>Light Process states<ul>\n<li>Signal mask </li>\n<li>System call args</li>\n</ul>\n</li>\n<li>Heavy Process states <ul>\n<li>virtual address mapping</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"Rationale-for-Multiple-Data-Structures\"><a href=\"#Rationale-for-Multiple-Data-Structures\" class=\"headerlink\" title=\"Rationale for Multiple Data Structures:\"></a>Rationale for Multiple Data Structures:</h4><table>\n<thead>\n<tr>\n<th>Single PCB</th>\n<th>Multiple DS</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>Large continuos DS</td>\n<td>Smaller DS</td>\n</tr>\n<tr>\n<td>Private for each entity</td>\n<td>Easier to share</td>\n</tr>\n<tr>\n<td>Saved and restored on each context switch</td>\n<td>Save and Restore only what needs to change on context switch</td>\n</tr>\n<tr>\n<td>Update for any changes</td>\n<td>User lever library need to only update portion of the state</td>\n</tr>\n</tbody></table>\n<ul>\n<li>Thus the following disadvantages for single PCB become advantages for Multiple DS : <ul>\n<li>Scalability</li>\n<li>Overheads</li>\n<li>Performance</li>\n<li>Flexibility</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"Comparison-of-Interrupts-and-Signals\"><a href=\"#Comparison-of-Interrupts-and-Signals\" class=\"headerlink\" title=\"Comparison of Interrupts and Signals\"></a>Comparison of Interrupts and Signals</h2><ul>\n<li>Handled in specific ways<br>  - interrupt and signal handlers<ul>\n<li>Can be ignored<ul>\n<li>interrupt and signal mask</li>\n</ul>\n</li>\n<li>Expected or unexpected    <ul>\n<li>appear synchronously or asynchronously</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<ul>\n<li>Difference:</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th>Interrupts</th>\n<th>Signals</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>Events generated externally by components other than CPU (I&#x2F;O devices, timers, other CPUs)</td>\n<td>Events triggered by CPU and software running on it</td>\n</tr>\n<tr>\n<td>Determined based on physical platform</td>\n<td>Determined based on OS</td>\n</tr>\n<tr>\n<td>Appear asynchronously</td>\n<td>Appear synchronously or asynchronously</td>\n</tr>\n</tbody></table>\n<ul>\n<li>Similarities:<ul>\n<li>Have a unique ID depending on h&#x2F;w or OS</li>\n<li>Can be masked and disabled&#x2F;suspended via corresponding mask<ul>\n<li>per-CPU interrupt mask, preprocess signal mask</li>\n</ul>\n</li>\n<li>if enabled, trigger corresponding to handler   <ul>\n<li>interrupt handler set for entire system by OS</li>\n<li>signal handler set on per process basis by process</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<blockquote>\n<p>An interrupt is like a snowstorm alarm<br><br>A signal is like a low battery warning</p>\n</blockquote>\n<h3 id=\"Interrupts\"><a href=\"#Interrupts\" class=\"headerlink\" title=\"Interrupts\"></a>Interrupts</h3><p><img src=\"https://spcdn.pages.dev/blog/os/interrupts.png\" alt=\"interrupts\"></p>\n<h3 id=\"Signals\"><a href=\"#Signals\" class=\"headerlink\" title=\"Signals\"></a>Signals</h3><p><img src=\"https://spcdn.pages.dev/blog/os/signals.png\" alt=\"signals\"></p>\n<h4 id=\"Handlers-Actions\"><a href=\"#Handlers-Actions\" class=\"headerlink\" title=\"Handlers &#x2F; Actions\"></a>Handlers &#x2F; Actions</h4><ul>\n<li>Default actions<ul>\n<li>Terminate, ignore</li>\n<li>Terminate and core dump</li>\n<li>Stop or continue</li>\n</ul>\n</li>\n<li>Process Installs Handler<ul>\n<li>signal(), sigaction()</li>\n<li>for most signals, some cannot be “caught”</li>\n</ul>\n</li>\n<li><strong>Synchronous</strong><ul>\n<li>SIGSEGV (access to protected memory)</li>\n<li>SIGFPE (divided by zero)</li>\n<li>SIGKILL (kill, id)<ul>\n<li>can be directed to a specific thread</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><strong>Asynchronous</strong>*        <ul>\n<li>SIGKILL (kill)</li>\n<li>SIGALARM</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"Why-disable-Interrupts-or-Signals\"><a href=\"#Why-disable-Interrupts-or-Signals\" class=\"headerlink\" title=\"Why disable Interrupts or Signals\"></a>Why disable Interrupts or Signals</h3><p><img src=\"https://spcdn.pages.dev/blog/os/disableis.png\" alt=\"disableis\"></p>\n<p>Here PC: First instruction in handler<br><br>SP : thread stack</p>\n<p>To prevent deadlock,</p>\n<ol>\n<li>Keep handler code simple<ul>\n<li>avoid mutex</li>\n<li><strong>-</strong> too restrictive</li>\n</ul>\n</li>\n<li>Control interruptions by handler code<ul>\n<li>Use interrupt&#x2F;signal masks</li>\n<li>0011100110.. (0: disabled, 1: enabled)</li>\n</ul>\n</li>\n</ol>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">clear_field_in_mask(mask)</span><br><span class=\"line\">lock(mutex)</span><br><span class=\"line\">&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">#disabled =&gt; remaining pending</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br><span class=\"line\">unlock(mutex)</span><br><span class=\"line\">reset_field_in_mask(mask)</span><br><span class=\"line\"></span><br><span class=\"line\">#enabled =&gt; execute handler code</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li><p>Interrupt masks are per CPU </p>\n<ul>\n<li>if mask disables interrupt, hardware interrupt rounting mechanism will not deliver interrupt</li>\n</ul>\n</li>\n<li><p>Signal are per execution context (User-level thread on top of Kernel-level thread)</p>\n<ul>\n<li>if mask disables signal, kernel sees mask and will not interrupt corresponding thread</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"Types-of-Signals\"><a href=\"#Types-of-Signals\" class=\"headerlink\" title=\"Types of Signals\"></a>Types of Signals</h3><ol>\n<li>One-shot Signals<ul>\n<li>“n signals pending &#x3D;&#x3D; 1 signal pending” : atleast once </li>\n<li>must be explicitly re-enabled</li>\n</ul>\n</li>\n<li>Realtime Signals <ul>\n<li>“if n signals raised, then handler is called n times”</li>\n</ul>\n</li>\n</ol>\n<h3 id=\"Handling-interrupts-as-threads\"><a href=\"#Handling-interrupts-as-threads\" class=\"headerlink\" title=\"Handling interrupts as threads\"></a>Handling interrupts as threads</h3><p><img src=\"https://spcdn.pages.dev/blog/os/interruptsasthreads.png\" alt=\"interruptsasthreads\"></p>\n<p>but dynamic thread creation is expensive!</p>\n<ul>\n<li>Dynamic decision<ul>\n<li>if handler doesn’t lock<ul>\n<li>execute on interrupted threads stack</li>\n</ul>\n</li>\n<li>if handler can block<ul>\n<li>turn into real thread</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>Optimization        <ul>\n<li>pre-create and pre-initialize thread structure for interrupt routines</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"Threads-and-Signal-Handling\"><a href=\"#Threads-and-Signal-Handling\" class=\"headerlink\" title=\"Threads and Signal Handling\"></a>Threads and Signal Handling</h3><p><img src=\"https://spcdn.pages.dev/blog/os/tshandling.png\" alt=\"tshandling\"></p>\n<p><strong>Case 1 :</strong></p>\n<ul>\n<li>User-Level-Thread mask &#x3D; 1</li>\n<li>Kernel-Level-Thread mask &#x3D; 1</li>\n</ul>\n<p><img src=\"https://spcdn.pages.dev/blog/os/case1.png\" alt=\"case1\"></p>\n<p><strong>Case 2 :</strong></p>\n<ul>\n<li>User-Level-Thread mask &#x3D; 0</li>\n<li>Kernel-Level-Thread mask &#x3D; 1</li>\n<li>another User-Level-Thread mask &#x3D; 1</li>\n</ul>\n<p><img src=\"https://spcdn.pages.dev/blog/os/case2.png\" alt=\"case2\"></p>\n<p><strong>Case 3 :</strong></p>\n<ul>\n<li>User-Level-Thread mask &#x3D; 0</li>\n<li>Kernel-Level-Thread mask &#x3D; 1</li>\n<li>another User-Level-Thread mask &#x3D; 1</li>\n<li>another Kernel-Level-Thread mask &#x3D; 1</li>\n</ul>\n<p><img src=\"https://spcdn.pages.dev/blog/os/case3.png\" alt=\"case3\"></p>\n<p><strong>Case 4 :</strong></p>\n<ul>\n<li>User-Level-Thread mask &#x3D; 0</li>\n<li>Kernel-Level-Thread mask &#x3D; 1</li>\n<li>all User-Level-Thread mask &#x3D; 0</li>\n</ul>\n<p><img src=\"https://spcdn.pages.dev/blog/os/case4.png\" alt=\"case4\"></p>\n<p><strong>Optimize common case</strong></p>\n<ul>\n<li>signals less frequennt than signal mask updates</li>\n<li>system calls avoided<ul>\n<li>cheaper to update user-level mask</li>\n</ul>\n</li>\n<li>signal handling more expensive</li>\n</ul>\n<h2 id=\"Multi-processing-vs-Multi-threading\"><a href=\"#Multi-processing-vs-Multi-threading\" class=\"headerlink\" title=\"Multi-processing vs Multi-threading\"></a>Multi-processing vs Multi-threading</h2><p>How to best provide concurrency?</p>\n<h3 id=\"Multi-Processing-MP\"><a href=\"#Multi-Processing-MP\" class=\"headerlink\" title=\"Multi-Processing (MP)\"></a>Multi-Processing (MP)</h3><p><strong>Advantages</strong><br> </p>\n<ul>\n<li>Simple programming</li>\n</ul>\n<p><strong>Disadvantages</strong><br> </p>\n<ul>\n<li>High memory usage</li>\n<li>Costs context switch</li>\n<li>costly to maintain shared state (tricky port setup)</li>\n</ul>\n<h3 id=\"Multi-Threading-MP\"><a href=\"#Multi-Threading-MP\" class=\"headerlink\" title=\"Multi-Threading (MP)\"></a>Multi-Threading (MP)</h3><p><strong>Advantages</strong><br> </p>\n<ul>\n<li>Shared address space</li>\n<li>Shared state (no sys calls to other threads)</li>\n<li>Cheap context switch</li>\n</ul>\n<p><strong>Disadvantages</strong><br> </p>\n<ul>\n<li>Complex implementation</li>\n<li>Requires synchronization</li>\n<li>Requires underlying support for threads</li>\n</ul>\n<h2 id=\"Event-Driven-model\"><a href=\"#Event-Driven-model\" class=\"headerlink\" title=\"Event Driven model\"></a>Event Driven model</h2><p><img src=\"https://spcdn.pages.dev/blog/os/eventdrivenmodel.png\" alt=\"eventdrivenmodel\"></p>\n<p>Features:</p>\n<ul>\n<li>Single address space</li>\n<li>Single process</li>\n<li>Single thread of control</li>\n</ul>\n<p>Dispatcher : acts as a state machine and accepts any external events</p>\n<p>When call handler &#x3D;&gt; jump to code</p>\n<p>The handler:</p>\n<ul>\n<li>Runs to completion</li>\n<li>if they need to block<ul>\n<li>initiate blocking operation and pass control to dispatch loop</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"Concurrent-execution-in-Event-driven-models\"><a href=\"#Concurrent-execution-in-Event-driven-models\" class=\"headerlink\" title=\"Concurrent execution in Event-driven models\"></a>Concurrent execution in Event-driven models</h3><ul>\n<li>MP &amp; MT :  1 request per execution context (process&#x2F;thread)</li>\n<li>Event Driven : Many requests interleaved in an execution context</li>\n<li>Single thread switches among processing of different requests</li>\n<li>Process requests until wait is necessary<ul>\n<li>then switch to another request</li>\n</ul>\n</li>\n</ul>\n<p><strong>Advantages</strong><br>    </p>\n<ul>\n<li>Single address space</li>\n<li>Single flow of control</li>\n<li>Smaller memory requirement<ul>\n<li>Event Driven model requires less memory than Boss-workers&#x2F;Pipeline model, where the extra memory is required for helper thread for concurrent blocking I&#x2F;O not for all concurrent requests.</li>\n</ul>\n</li>\n<li>No context switches</li>\n<li>No synchronization</li>\n</ul>\n<p><strong>Disadvantages</strong><br>    </p>\n<ul>\n<li>A blocking request&#x2F;handler will block entire process</li>\n</ul>\n<h3 id=\"Asynchronous-I-O-operations\"><a href=\"#Asynchronous-I-O-operations\" class=\"headerlink\" title=\"Asynchronous I&#x2F;O operations\"></a>Asynchronous I&#x2F;O operations</h3><p>Asynchronous I&#x2F;O operations fit well with Event-driven models\t</p>\n<p>Since asynchronous calls are not easily avalible, helpers can be used to implement the async call functionality:</p>\n<ul>\n<li>designated for blocking I&#x2F;O operations only</li>\n<li>pipe&#x2F;socket based communication with event dispatcher<ul>\n<li>select()&#x2F; poll() still okay</li>\n</ul>\n</li>\n<li>helper blocks, but main event loop (&amp; process) will not</li>\n</ul>\n<h3 id=\"Asymmetric-Multi-Process-Event-Driven-model-AMPED-AMTED\"><a href=\"#Asymmetric-Multi-Process-Event-Driven-model-AMPED-AMTED\" class=\"headerlink\" title=\"Asymmetric Multi-Process Event Driven model (AMPED &amp; AMTED)\"></a>Asymmetric Multi-Process Event Driven model (AMPED &amp; AMTED)</h3><p><strong>Advantages</strong><br></p>\n<ul>\n<li>Resolve portability limitations of basic event driven model</li>\n<li>Smaller footprint than regular worker thread</li>\n</ul>\n<p><strong>Disadvantages</strong><br></p>\n<ul>\n<li>Applicability to certain classes of applications</li>\n<li>Event routing on multi CPU systems</li>\n</ul>\n<p>Eg <a href=\"https://en.wikipedia.org/wiki/Apache_HTTP_Server\">Apache Web Server</a></p>\n<p><img src=\"https://spcdn.pages.dev/blog/os/apachewebserver.png\" alt=\"apachewebserver.png\"></p>\n<ul>\n<li>Core : basic server skeleton</li>\n<li>Modules : per functionality</li>\n<li>Flow of Control : Similar to Event Driven model</li>\n<li>But its an combination of MP + MT,<ul>\n<li>each process &#x3D; boss&#x2F;worker with dynamic thread pool</li>\n<li>number of processes can also be dynamically adjusted</li>\n</ul>\n</li>\n</ul>\n<hr>    \n\n\n\n\n<h1 id=\"Scheduling\"><a href=\"#Scheduling\" class=\"headerlink\" title=\"Scheduling\"></a>Scheduling</h1><p>Operating System perform scheduling in the following simple ways:</p>\n<ul>\n<li>Dispatch orders immediately<ul>\n<li>scheduling is simple FIFO (First-Come-First-Serve)</li>\n</ul>\n</li>\n<li>Dispatch simple orders first<ul>\n<li>maximize number of orders processed over time</li>\n<li>maximize throughput (SJF)</li>\n</ul>\n</li>\n<li>Dispatch complex orders first<ul>\n<li>maximize utilization of CPU, devices, memory</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"CPU-Scheduler\"><a href=\"#CPU-Scheduler\" class=\"headerlink\" title=\"CPU Scheduler\"></a>CPU Scheduler</h2><ul>\n<li>Decides how and when process (and their threads) access shared CPUs</li>\n<li>Schedules tasks running at user level processes&#x2F;threads as well as kernel level threads</li>\n<li>Chooses one of the ready tasks to run on CPU</li>\n<li>Runs when<ul>\n<li>CPU becomes idle</li>\n<li>new task becomes ready</li>\n<li>timeslice expired timeout</li>\n</ul>\n</li>\n</ul>\n<p>Context switch, enter user mode, set PC and go! &lt;&#x3D; Thread is dispatched on CPU.</p>\n<ul>\n<li>Which task should be selected?<ul>\n<li>Scheduling policy&#x2F;algorithm</li>\n</ul>\n</li>\n<li>How is this done?<ul>\n<li>Depends on runqueue data structure</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"“Run-to-completion”-Scheduling\"><a href=\"#“Run-to-completion”-Scheduling\" class=\"headerlink\" title=\"“Run-to-completion” Scheduling\"></a>“Run-to-completion” Scheduling</h3><ul>\n<li>Initial assumptions<ul>\n<li>group of tasks&#x2F;jobs</li>\n<li>known execution time</li>\n<li>no preemption</li>\n<li>single CPU</li>\n</ul>\n</li>\n<li>Metrics<ul>\n<li>throughput</li>\n<li>average job completion time</li>\n<li>average job wait time</li>\n<li>CPU utilization</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"Scheduling-algorithms\"><a href=\"#Scheduling-algorithms\" class=\"headerlink\" title=\"Scheduling algorithms:\"></a>Scheduling algorithms:</h2><h3 id=\"1-First-Come-First-Serve-FCFS\"><a href=\"#1-First-Come-First-Serve-FCFS\" class=\"headerlink\" title=\"1. First Come First Serve (FCFS)\"></a>1. First Come First Serve (FCFS)</h3><ul>\n<li>Schedules tasks in order of arrival</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">runqueue = queue(FIFO)</span><br></pre></td></tr></table></figure>\n\n<p>If T1, T2, T3 arrive in the given order and T1 has execution time 1s, T2 10s and T3 1s then :</p>\n<ul>\n<li>Throughput &#x3D; 3&#x2F;(1+10+1) &#x3D; 3&#x2F;12 &#x3D; 0.25s</li>\n<li>Average completion time &#x3D; (1 + 11 + 12)&#x2F;3 &#x3D; 8s</li>\n<li>Average wait time &#x3D; (1+1+11)&#x2F;3 &#x3D; 4s</li>\n<li>Starvation NOT possible</li>\n</ul>\n<h3 id=\"2-Shortest-Job-First-SJF\"><a href=\"#2-Shortest-Job-First-SJF\" class=\"headerlink\" title=\"2. Shortest Job First (SJF)\"></a>2. Shortest Job First (SJF)</h3><ul>\n<li>Schedules tasks in order of execution time</li>\n<li>Therefore for the above example, T1(1s) &gt; T3(1s) &gt; T2(10s)</li>\n<li>Starvation possible</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">runqueue = ordered(queue)</span><br><span class=\"line\"></span><br><span class=\"line\">//or</span><br><span class=\"line\"></span><br><span class=\"line\">runqueue = tree()</span><br></pre></td></tr></table></figure>\n\n<p>For SJF,</p>\n<ul>\n<li>Throughput &#x3D; 3&#x2F;(1+10+1) &#x3D; 3&#x2F;12 &#x3D; 0.25s</li>\n<li>Average completion time &#x3D; (1 + 2 + 12)&#x2F;3 &#x3D; 5s</li>\n<li>Average wait time &#x3D; (0+1+2)&#x2F;3 &#x3D; 1s</li>\n</ul>\n<h3 id=\"Preemptive-Scheduling\"><a href=\"#Preemptive-Scheduling\" class=\"headerlink\" title=\"Preemptive Scheduling\"></a>Preemptive Scheduling</h3><ul>\n<li>SJF + Preemption</li>\n<li>Starvation is possible</li>\n</ul>\n<p>T2 arrives first.</p>\n<p><img src=\"https://spcdn.pages.dev/blog/os/preemptive.png\" alt=\"preemptive\"></p>\n<h3 id=\"Priority-Scheduling\"><a href=\"#Priority-Scheduling\" class=\"headerlink\" title=\"Priority Scheduling\"></a>Priority Scheduling</h3><ul>\n<li>Tasks have different priority levels</li>\n<li>Run highest priority task next (preemption)</li>\n<li>Starvation is possible</li>\n</ul>\n<p><img src=\"https://spcdn.pages.dev/blog/os/priority.png\" alt=\"priority\"></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">runqueue = per priority_queue()</span><br><span class=\"line\"></span><br><span class=\"line\">//or </span><br><span class=\"line\"></span><br><span class=\"line\">runqueue = tree() ordered on priority</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>low priority task stuck in runqueue &#x3D;&gt; starvation</li>\n<li>“priority aging” <ul>\n<li>priority &#x3D; f(actual priority, time spent in runqueue)</li>\n<li>eventually tasks will run</li>\n<li>prevents starvation</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"3-Round-Robin-Scheduling\"><a href=\"#3-Round-Robin-Scheduling\" class=\"headerlink\" title=\"3. Round-Robin Scheduling\"></a>3. Round-Robin Scheduling</h3><ul>\n<li>Pick up the first task from queue (like FCFS)</li>\n<li>Task may yield to wait on I&#x2F;O (unlike FCFCS)</li>\n<li>Starvation is NOT possible</li>\n</ul>\n<p><img src=\"https://spcdn.pages.dev/blog/os/rr1.png\" alt=\"rr1\"></p>\n<p><img src=\"https://spcdn.pages.dev/blog/os/rr2.png\" alt=\"rr2\"></p>\n<p><img src=\"https://spcdn.pages.dev/blog/os/rr3.png\" alt=\"rr3\"></p>\n<h3 id=\"4-Shortest-Remaining-Time-First-SRTF\"><a href=\"#4-Shortest-Remaining-Time-First-SRTF\" class=\"headerlink\" title=\"4. Shortest Remaining Time First (SRTF)\"></a>4. Shortest Remaining Time First (SRTF)</h3><ul>\n<li>Chooses the process with the shortest CPU burst remaining and executes that one. If processes come in during execution that have less remaining time, the current one is preempted and the new one executed. Therefore, it can lead to starvation.</li>\n</ul>\n<h4 id=\"Timeslicing\"><a href=\"#Timeslicing\" class=\"headerlink\" title=\"Timeslicing\"></a>Timeslicing</h4><ul>\n<li>Timeslice &#x3D; max amount of uninterrupted time given to a task</li>\n<li>task may run less than timeslice<ul>\n<li>has to wait on I&#x2F;O sync<ul>\n<li>will be placed on queue</li>\n</ul>\n</li>\n<li>higher priority task becomes runnable</li>\n</ul>\n</li>\n<li>using timeslice tasks are interleaved<ul>\n<li>timesharing the CPU</li>\n<li>CPU bound tasks &#x3D;&gt; preemption after timeslice</li>\n</ul>\n</li>\n</ul>\n<p><img src=\"https://spcdn.pages.dev/blog/os/rr4.png\" alt=\"rr4\">    </p>\n<p><strong>Advantages</strong><br></p>\n<ul>\n<li>Short tasks finish sooner</li>\n<li>More responsive</li>\n<li>Lengthy I&#x2F;O operations initiated sooner<ul>\n<li>best to keep timeslice &gt; context-switch-time</li>\n</ul>\n</li>\n</ul>\n<p><strong>Disdvantages</strong><br>    </p>\n<ul>\n<li>Overheads</li>\n</ul>\n<h4 id=\"How-long-should-a-timeslice-be-be\"><a href=\"#How-long-should-a-timeslice-be-be\" class=\"headerlink\" title=\"How long should a timeslice be be?\"></a>How long should a timeslice be be?</h4><ul>\n<li>should balance benefits and overheads</li>\n</ul>\n<h3 id=\"For-CPU-bound-tasks\"><a href=\"#For-CPU-bound-tasks\" class=\"headerlink\" title=\"For CPU bound tasks:\"></a>For CPU bound tasks:</h3><p><img src=\"https://spcdn.pages.dev/blog/os/cputs.png\" alt=\"cputs\">    </p>\n<ul>\n<li>Hence, for CPU bound tasks, larger timeslice values are better</li>\n</ul>\n<h3 id=\"For-I-O-bound-tasks\"><a href=\"#For-I-O-bound-tasks\" class=\"headerlink\" title=\"For I&#x2F;O bound tasks:\"></a>For I&#x2F;O bound tasks:</h3><p><img src=\"https://spcdn.pages.dev/blog/os/iots.png\" alt=\"iots\">    </p>\n<ul>\n<li>Hence, for I&#x2F;O bound tasks, smaller timeslice values are better<ul>\n<li>Keeps CPU and I&#x2F;P devices busy, I&#x2F;O bound tasks run quickly, makes I&#x2F;O requests responds to a user.</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"Summary\"><a href=\"#Summary\" class=\"headerlink\" title=\"Summary\"></a>Summary</h3><ul>\n<li><p>CPU bound tasks prefer longer timeslices</p>\n<ul>\n<li>limits context switching overheads</li>\n<li>keeps CPU utilization and throughput</li>\n</ul>\n</li>\n<li><p>I&#x2F;O bound tasks prefer smaller timeslices </p>\n<ul>\n<li>However, if all the tasks in contention are I&#x2F;O bound, it may not make such a difference</li>\n<li>If a portion of them are I&#x2F;O smaller timeslices keeps CPU and device utilization high</li>\n<li>Provides better user-perceived performance</li>\n</ul>\n</li>\n</ul>\n<hr>\n\n\n\n<h1 id=\"Memory-Management\"><a href=\"#Memory-Management\" class=\"headerlink\" title=\"Memory Management\"></a>Memory Management</h1><p>Operating systems:</p>\n<ul>\n<li>uses intelligently size containers<ul>\n<li>memory pages of segments</li>\n</ul>\n</li>\n<li>Not all parts are needed at once <ul>\n<li>tasks operate on subset of memory</li>\n</ul>\n</li>\n<li>Optimized for performance<ul>\n<li>reduce time to access state in memory<ul>\n<li>leads to better performance!</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"Memory-Management-Goals\"><a href=\"#Memory-Management-Goals\" class=\"headerlink\" title=\"Memory Management Goals\"></a>Memory Management Goals</h2><p><img src=\"https://spcdn.pages.dev/blog/os/mmgoals.png\" alt=\"mmgoals.png\"></p>\n<h4 id=\"Virtual-vs-Physical-memory\"><a href=\"#Virtual-vs-Physical-memory\" class=\"headerlink\" title=\"Virtual vs Physical memory\"></a>Virtual vs Physical memory</h4><ul>\n<li>Allocate <ul>\n<li>allocation, replacement</li>\n</ul>\n</li>\n<li>Arbitrate<ul>\n<li>address translation and validation</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"Page-based-Memory-Management\"><a href=\"#Page-based-Memory-Management\" class=\"headerlink\" title=\"Page-based Memory Management\"></a>Page-based Memory Management</h4><ul>\n<li>Allocate &#x3D;&gt; pages &#x3D;&gt; page frames</li>\n<li>Arbitrate &#x3D;&gt; page tables</li>\n</ul>\n<h4 id=\"Segment-based-Memory-Management\"><a href=\"#Segment-based-Memory-Management\" class=\"headerlink\" title=\"Segment-based Memory Management\"></a>Segment-based Memory Management</h4><ul>\n<li>Allocate &#x3D;&gt; segments</li>\n<li>Arbitrate &#x3D;&gt; segment registers</li>\n</ul>\n<h2 id=\"Hardware-Support\"><a href=\"#Hardware-Support\" class=\"headerlink\" title=\"Hardware Support\"></a>Hardware Support</h2><p><img src=\"https://spcdn.pages.dev/blog/os/hardwaresupport.png\" alt=\"hardwaresupport.png\"></p>\n<h3 id=\"Memory-Management-Unit-MMU\"><a href=\"#Memory-Management-Unit-MMU\" class=\"headerlink\" title=\"Memory Management Unit (MMU)\"></a>Memory Management Unit (MMU)</h3><ul>\n<li>translate virtual to physical address </li>\n<li>reports faults (illegal access, permission, not present in memory)</li>\n</ul>\n<h3 id=\"Registers\"><a href=\"#Registers\" class=\"headerlink\" title=\"Registers\"></a>Registers</h3><ul>\n<li>pointers to page tables</li>\n<li>base and limit size, number of segments</li>\n</ul>\n<h3 id=\"Cache\"><a href=\"#Cache\" class=\"headerlink\" title=\"Cache\"></a>Cache</h3><ul>\n<li>Translation lookaside buffer</li>\n<li>Valid VA-PA translations using TLB</li>\n</ul>\n<h3 id=\"Translation\"><a href=\"#Translation\" class=\"headerlink\" title=\"Translation\"></a>Translation</h3><ul>\n<li>Actual PA generation done in hardware</li>\n</ul>\n<h2 id=\"Page-Tables\"><a href=\"#Page-Tables\" class=\"headerlink\" title=\"Page Tables\"></a>Page Tables</h2><p><img src=\"https://spcdn.pages.dev/blog/os/pagetables.png\" alt=\"pagetables.png\"></p>\n<ul>\n<li>OS creates page table per process</li>\n<li>On context switch, switch to valid page table</li>\n<li>Updates register that points to correct page table.<br>  E.g CR3 on x86 architecture</li>\n</ul>\n<h2 id=\"Page-Table-Entry-PTE\"><a href=\"#Page-Table-Entry-PTE\" class=\"headerlink\" title=\"Page Table Entry (PTE)\"></a>Page Table Entry (PTE)</h2><p><img src=\"https://spcdn.pages.dev/blog/os/pfn.png\" alt=\"pfn.png\"></p>\n<h4 id=\"Flags\"><a href=\"#Flags\" class=\"headerlink\" title=\"Flags\"></a>Flags</h4><ul>\n<li>Present (valid&#x2F;invalid)</li>\n<li>Dirty (written to)</li>\n<li>Accessed (for read or write)</li>\n<li>Protection bits &#x3D;&gt; RWX</li>\n</ul>\n<h2 id=\"Page-Table-Entry-on-x86\"><a href=\"#Page-Table-Entry-on-x86\" class=\"headerlink\" title=\"Page Table Entry on x86\"></a>Page Table Entry on x86</h2><p><img src=\"https://spcdn.pages.dev/blog/os/pfnx86.png\" alt=\"pfnx86.png\"></p>\n<h4 id=\"Flags-1\"><a href=\"#Flags-1\" class=\"headerlink\" title=\"Flags\"></a>Flags</h4><ul>\n<li>Present </li>\n<li>Dirty </li>\n<li>Accessed</li>\n<li>R&#x2F;W permission bit 0: R only, 1: R&#x2F;W</li>\n<li>U&#x2F;S permission bit 0: usermode, 1: superviser mode only</li>\n<li>others: caching related info (write through, caching disabled)</li>\n<li>unused: for future use</li>\n</ul>\n<h2 id=\"Page-faults\"><a href=\"#Page-faults\" class=\"headerlink\" title=\"Page faults\"></a>Page faults</h2><p><img src=\"https://spcdn.pages.dev/blog/os/pagefaults.png\" alt=\"pagefaults.png\"></p>\n<h2 id=\"Page-Table-Size\"><a href=\"#Page-Table-Size\" class=\"headerlink\" title=\"Page Table Size\"></a>Page Table Size</h2><p><img src=\"https://spcdn.pages.dev/blog/os/pts.png\" alt=\"pts.png\"></p>\n<ul>\n<li>32 bit architecture<ul>\n<li>Page Table Entry (PTE) &#x3D; 4 Bytes, including PFN + flags</li>\n<li>Virtual Page Number (VPN) &#x3D; 2^32&#x2F;page_size</li>\n<li>Page size &#x3D; 4KB (…8KB, 2MB, 4MB, 1GB)</li>\n</ul>\n</li>\n</ul>\n<p>Therefore Page Table Size &#x3D; (2^32 * 2^12)*4B &#x3D; 4MB (per process)</p>\n<ul>\n<li>for 64 bit architecture<ul>\n<li>Page Table Entry (PTE) &#x3D; 8 Bytes</li>\n<li>Page size &#x3D; 4KB</li>\n</ul>\n</li>\n</ul>\n<p>Page Table Size &#x3D; (2^64 * 2^12)*8B &#x3D; 32PB (per process!)</p>\n<ul>\n<li>processes don’t use entire address space</li>\n<li>even on 32 bit architecture, it will not always use all 4GB</li>\n</ul>\n<p>But Page Table assumes an entry per VPN regardless, of whether corresponding virtual memory is needed or not.</p>\n<h2 id=\"Hierarchical-Page-Tables\"><a href=\"#Hierarchical-Page-Tables\" class=\"headerlink\" title=\"Hierarchical Page Tables\"></a>Hierarchical Page Tables</h2><p><img src=\"https://spcdn.pages.dev/blog/os/hierarchicalpt.png\" alt=\"hierarchicalpt.png\"></p>\n<p>On malloc, a new internal page table may be allocated.</p>\n<h4 id=\"Address-split\"><a href=\"#Address-split\" class=\"headerlink\" title=\"Address split:\"></a>Address split:</h4><table>\n  <tr>\n    <th colspan=\"2\">Page Number</th>\n    <th>offset</th>\n  </tr>\n  <tr>\n    <td>P1</td>\n    <td>P2</td>\n    <td>d</td>\n  </tr>\n  <tr>\n    <td>12</td>\n    <td>10</td>\n    <td>10</td>\n  </tr>\n</table>\n\n<ul>\n<li>inner table addresses &#x3D;&gt; 2^10 * page_size &#x3D; 2^10*2^10 &#x3D; 1MB</li>\n<li>don’t need an inner table for each 1MB virtual memory gap</li>\n</ul>\n<p>Additional Layers</p>\n<ul>\n<li>page table directory pointer (3rd level)</li>\n<li>page table directory map (4th level)</li>\n</ul>\n<ul>\n<li>Important on 64 bit architectures</li>\n<li>larger and more sparse &#x3D;&gt; larger gaps would save more internal page table components</li>\n</ul>\n<p><img src=\"https://spcdn.pages.dev/blog/os/hierarchicalpt2.png\" alt=\"hierarchicalpt2.png\"></p>\n<h3 id=\"Tradeoffs-of-Multilevel-Page-Tables\"><a href=\"#Tradeoffs-of-Multilevel-Page-Tables\" class=\"headerlink\" title=\"Tradeoffs of Multilevel Page Tables\"></a>Tradeoffs of Multilevel Page Tables</h3><p><strong>Advantages</strong><br></p>\n<ul>\n<li>Smaller internal page tables&#x2F;directories </li>\n<li>Granularity of coverage<ul>\n<li>Potentially reduced page table size</li>\n</ul>\n</li>\n</ul>\n<p><strong>Disadvantages</strong><br></p>\n<ul>\n<li>More memory accesses required for translation</li>\n<li>increased translation latency</li>\n</ul>\n<h2 id=\"Overheads-of-Address-Translation\"><a href=\"#Overheads-of-Address-Translation\" class=\"headerlink\" title=\"Overheads of Address Translation\"></a>Overheads of Address Translation</h2><p>For each memory reference :</p>\n<table>\n<thead>\n<tr>\n<th>Single level page table</th>\n<th>Four level page table</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>x1 access to PTE</td>\n<td>x4 accesses to PTE</td>\n</tr>\n<tr>\n<td>x1 access to mem</td>\n<td>x1 access to mem</td>\n</tr>\n</tbody></table>\n<p>which results in slowdown.</p>\n<h2 id=\"Page-Table-Cache\"><a href=\"#Page-Table-Cache\" class=\"headerlink\" title=\"Page Table Cache\"></a>Page Table Cache</h2><p><img src=\"https://spcdn.pages.dev/blog/os/ptcache.png\" alt=\"ptcache.png\"></p>\n<h4 id=\"Translation-Lookaside-Buffer\"><a href=\"#Translation-Lookaside-Buffer\" class=\"headerlink\" title=\"Translation Lookaside Buffer\"></a>Translation Lookaside Buffer</h4><ul>\n<li>MMU level address translation cache</li>\n<li>On TLB miss &#x3D;&gt; page table access from memory</li>\n<li>has protection&#x2F;validity bits</li>\n<li>small number of cached address &#x3D;&gt; high TLB hit rate<ul>\n<li>temporal and spatial locality</li>\n</ul>\n</li>\n</ul>\n<ul>\n<li>Example<ul>\n<li>x86 Core i7<ul>\n<li>per core : 64-entry data TLB <br> 128-entry instruction TLB </li>\n<li>512-entry shared second-level TLB</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"Inverted-Page-Tables\"><a href=\"#Inverted-Page-Tables\" class=\"headerlink\" title=\"Inverted Page Tables\"></a>Inverted Page Tables</h3><p><img src=\"https://spcdn.pages.dev/blog/os/invertedpt.png\" alt=\"invertedpt.png\"></p>\n<h3 id=\"Hashing-Page-Tables\"><a href=\"#Hashing-Page-Tables\" class=\"headerlink\" title=\"Hashing Page Tables\"></a>Hashing Page Tables</h3><p><img src=\"https://spcdn.pages.dev/blog/os/hashingpt.png\" alt=\"hashingpt.png\"></p>\n<h2 id=\"Segmentation\"><a href=\"#Segmentation\" class=\"headerlink\" title=\"Segmentation\"></a>Segmentation</h2><p>Segmentation is the process of mapping virtual to physical memory using segments.</p>\n<ul>\n<li>Segments: arbitrary granularity (size)<ul>\n<li>e.g. code, heap, data, stack..</li>\n<li>address &#x3D; segment - selector + offset</li>\n</ul>\n</li>\n<li>Segment<ul>\n<li>contiguous physical memory</li>\n<li>segment size &#x3D; segment base + limit registers</li>\n</ul>\n</li>\n</ul>\n<p><img src=\"https://spcdn.pages.dev/blog/os/segmentation.png\" alt=\"segmentation.png\"></p>\n<h4 id=\"Segmentation-Paging\"><a href=\"#Segmentation-Paging\" class=\"headerlink\" title=\"Segmentation + Paging\"></a>Segmentation + Paging</h4><p><img src=\"https://spcdn.pages.dev/blog/os/segmentationpaging.png\" alt=\"segmentationpaging.png\"></p>\n<h2 id=\"Page-Size\"><a href=\"#Page-Size\" class=\"headerlink\" title=\"Page Size\"></a>Page Size</h2><ul>\n<li>10 bit offset &#x3D;&gt; 1 KB page size [2^10]</li>\n<li>12 bit offset &#x3D;&gt; 4 KB page size [2^12]</li>\n</ul>\n<p>In real world examples,</p>\n<ul>\n<li>Linux&#x2F;x86 : 4 KB, 2MB, 1GB</li>\n<li>Solaris&#x2F;Sparse: 8kB, 4MB, 2GB</li>\n</ul>\n<p>||Large|Huge|<br>|—-|—–|<br>|page size|2 MB|1 GB|<br>|offset bits|21 bits|30 bits|<br>|reduction factor on page table size|x512|x1024|</p>\n<p><strong>Advantages</strong><br></p>\n<ul>\n<li>larger pages<ul>\n<li>fewer page table entries, smaller page tables, more TLB hits</li>\n</ul>\n</li>\n</ul>\n<p><strong>Disadvantages</strong><br></p>\n<ul>\n<li>internal fragmentation &#x3D;&gt; wastes memory</li>\n</ul>\n<h2 id=\"Memory-Allocation\"><a href=\"#Memory-Allocation\" class=\"headerlink\" title=\"Memory Allocation\"></a>Memory Allocation</h2><ul>\n<li><p>Memory allocator</p>\n<ul>\n<li>determines VA to PA mapping</li>\n<li>address translation, page tables<br>  &#x3D;&gt; simply determine PA from VA and check validity&#x2F;permsissions</li>\n</ul>\n</li>\n<li><p>Kernel Level Allocators</p>\n<ul>\n<li>kernel state, static process state</li>\n</ul>\n</li>\n<li><p>User Level Allocators</p>\n<ul>\n<li>dynamic process state (heap), malloc&#x2F;free</li>\n<li>e.g. d&#x2F;malloc, jemalloc, Hoard, tcmalloc</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"Demand-Paging\"><a href=\"#Demand-Paging\" class=\"headerlink\" title=\"Demand Paging\"></a>Demand Paging</h2><ul>\n<li>Virtual Memory &gt;&gt; Physical Memory<ul>\n<li>virtual memory page is not always in physical memory</li>\n<li>physical page frame saved and restored to&#x2F;from secondary storage</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"Demand-paging\"><a href=\"#Demand-paging\" class=\"headerlink\" title=\"Demand paging:\"></a>Demand paging:</h3><ul>\n<li>pages swapped in&#x2F;out of memory &amp; a swap partition (e.g. on a disk)</li>\n</ul>\n<p><img src=\"https://spcdn.pages.dev/blog/os/demandpaging.png\" alt=\"demandpaging.png\"></p>\n<ul>\n<li>Original PA !&#x3D; PA after swapping<ul>\n<li>if page is “pinned”, swapping is disabled</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"When-pages-should-be-swapped\"><a href=\"#When-pages-should-be-swapped\" class=\"headerlink\" title=\"When pages should be swapped?\"></a>When pages should be swapped?</h4><ul>\n<li>page(out) daemon</li>\n<li>when memory usage is above threshold</li>\n<li>when CPU usage is below threshold</li>\n</ul>\n<h4 id=\"Which-page-should-be-swapped-out\"><a href=\"#Which-page-should-be-swapped-out\" class=\"headerlink\" title=\"Which page should be swapped out?\"></a>Which page should be swapped out?</h4><ul>\n<li>pages that won’t be used</li>\n<li>history based prediction<ul>\n<li>Least Recently Used (LRU policy). Access bit tracks if page is referenced.</li>\n</ul>\n</li>\n<li>page that don’t need to be written out<ul>\n<li>Dirty bit to track if modified</li>\n</ul>\n</li>\n<li>avoid non-swappable pages</li>\n</ul>\n<h2 id=\"Checkpointing\"><a href=\"#Checkpointing\" class=\"headerlink\" title=\"Checkpointing\"></a>Checkpointing</h2><ul>\n<li>Failure and Recovery management technique<ul>\n<li>periodically save process state</li>\n<li>failure may be unavoidable but can restart from checkpoint, so recovery would be faster</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"Simple-Approach\"><a href=\"#Simple-Approach\" class=\"headerlink\" title=\"Simple Approach\"></a>Simple Approach</h4><ul>\n<li>pause and save</li>\n</ul>\n<h4 id=\"Better-Approach\"><a href=\"#Better-Approach\" class=\"headerlink\" title=\"Better Approach\"></a>Better Approach</h4><ul>\n<li>write-protect and copy everything at once </li>\n<li>copy diffs of dirties pages for incremental checkpoints<ul>\n<li>rebuild from multiple diffs, or in background</li>\n</ul>\n</li>\n</ul>\n<p>Checkpointing can also be used in other services:</p>\n<ul>\n<li><p>Debugging</p>\n<ul>\n<li>Rewind-Replay</li>\n<li>rewind &#x3D; restart from checkpoint </li>\n<li>gradually go back to earlier checkpoints until error is found</li>\n</ul>\n</li>\n<li><p>Migration</p>\n<ul>\n<li>continue on another machine</li>\n<li>disaster recovery</li>\n<li>consolidation</li>\n<li>repeated checkpoints in a fast loop until pause and copy becomes acceptable (or unavoidable)</li>\n</ul>\n</li>\n</ul>\n<hr>\n\n\n<h1 id=\"Inter-Process-Communication\"><a href=\"#Inter-Process-Communication\" class=\"headerlink\" title=\"Inter Process Communication\"></a>Inter Process Communication</h1><ul>\n<li>Processes share memory<ul>\n<li>data in shared messages</li>\n</ul>\n</li>\n<li>Processes exchange messages<ul>\n<li>message passing via sockets</li>\n</ul>\n</li>\n<li>Requires synchronization<ul>\n<li>mutex, waiting</li>\n</ul>\n</li>\n</ul>\n<p><strong>Inter Process Communication</strong>(IPC) is an OS supported mechanism for interaction among processes (coordination and communication)   </p>\n<ul>\n<li>Message Passing<ul>\n<li>e.g. sockets, pips, msgs, queues</li>\n</ul>\n</li>\n<li>Memory based IPC <ul>\n<li>shared memory, memory mapped files</li>\n</ul>\n</li>\n<li>Higher level semantics<ul>\n<li>files, <a href=\"10-Remote-Procedure-Calls.md\">RPC</a></li>\n</ul>\n</li>\n<li>Synchronization primitives</li>\n</ul>\n<h2 id=\"Message-Passing\"><a href=\"#Message-Passing\" class=\"headerlink\" title=\"Message Passing\"></a>Message Passing</h2><ul>\n<li>Send&#x2F;Receive messages </li>\n<li>OS creates and maintains a channel<ul>\n<li>buffer, FIFO queue</li>\n</ul>\n</li>\n<li>OS provides interfaces to processes<ul>\n<li>a port</li>\n<li>processes send&#x2F;write messages to this port</li>\n<li>processes receive&#x2F;read messages from this port</li>\n</ul>\n</li>\n</ul>\n<p><img src=\"https://spcdn.pages.dev/blog/os/messagepassingipc.png\" alt=\"messagepassingipc.png\"></p>\n<ul>\n<li>Kernel required to <ul>\n<li>establish communication</li>\n<li>perform each IPC operation</li>\n<li>send: system call + data copy</li>\n<li>receive: system call + data copy</li>\n</ul>\n</li>\n<li>Request-response:<br>  4x user&#x2F; kernel crossings + <br><br>  4x data copies</li>\n</ul>\n<p><strong>Advantages</strong><br> </p>\n<ul>\n<li>simplicity : kernel does channel management and synchronization</li>\n</ul>\n<p><strong>Disadvantages</strong><br> </p>\n<ul>\n<li>Overheads</li>\n</ul>\n<h3 id=\"Forms-of-Message-Passing-IPC\"><a href=\"#Forms-of-Message-Passing-IPC\" class=\"headerlink\" title=\"Forms of Message Passing IPC\"></a>Forms of Message Passing IPC</h3><h4 id=\"1-Pipes\"><a href=\"#1-Pipes\" class=\"headerlink\" title=\"1. Pipes\"></a>1. Pipes</h4><ul>\n<li>Carry byte stream between 2 process</li>\n<li>e.g connect output from 1 process to input of another</li>\n</ul>\n<p><img src=\"https://spcdn.pages.dev/blog/os/pipes.png\" alt=\"pipes.png\">    </p>\n<h4 id=\"2-Message-queues\"><a href=\"#2-Message-queues\" class=\"headerlink\" title=\"2. Message queues\"></a>2. Message queues</h4><ul>\n<li>Carry “messages” among processes</li>\n<li>OS management includes priorities, scheduling of message delivery </li>\n<li>APIs : Sys-V and POSIX</li>\n</ul>\n<p><img src=\"https://spcdn.pages.dev/blog/os/msgq.png\" alt=\"msgq.png\">        </p>\n<h4 id=\"3-Sockets\"><a href=\"#3-Sockets\" class=\"headerlink\" title=\"3. Sockets\"></a>3. Sockets</h4><ul>\n<li>send() and recv() : pass message buffers</li>\n<li>socket() : create kernel level socket buffer</li>\n<li>associated neccessary kernel processing (TCP-IP,..)</li>\n<li>If different machines, channel between processes and network devices</li>\n<li>If same machine, bypass full protocol stack</li>\n</ul>\n<p><img src=\"https://spcdn.pages.dev/blog/os/sockets.png\" alt=\"sockets.png\">        </p>\n<h2 id=\"Shared-Memory-IPC\"><a href=\"#Shared-Memory-IPC\" class=\"headerlink\" title=\"Shared Memory IPC\"></a>Shared Memory IPC</h2><ul>\n<li>read and write to shared memory region</li>\n<li>OS establishes shared channel between the processes<ol>\n<li>physical pages mapped into virtual address space</li>\n<li>VA(P1) and VA(P2) map to same physical address</li>\n<li>VA(P1) !&#x3D; VA(P2)</li>\n<li>physical mempry doesn’t need to be contiguous</li>\n</ol>\n</li>\n<li>APIs : SysV, POSIX, memory mapped files, Android ashmem</li>\n</ul>\n<p><img src=\"https://spcdn.pages.dev/blog/os/sharedmemoryipc.png\" alt=\"sharedmemoryipc.png\"></p>\n<p><strong>Advantages</strong><br></p>\n<ul>\n<li>System calls only for setup data copies potentially reduced (but not eliminated)</li>\n</ul>\n<p><strong>Disdvantages</strong><br></p>\n<ul>\n<li>explicit synchronization</li>\n<li>communication protocol, shared buffer management<ul>\n<li>programmer’s responsibility</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"Which-is-better\"><a href=\"#Which-is-better\" class=\"headerlink\" title=\"Which is better?\"></a>Which is better?</h2><p><strong>Overheads for</strong></p>\n<ol>\n<li>Message Passing : must perform multiple copies</li>\n<li>Shared Memory : must establish all mappings among processes’ address space and shared memory pages</li>\n</ol>\n<p>Thus, it depends.</p>\n<h2 id=\"Copy-vs-Map\"><a href=\"#Copy-vs-Map\" class=\"headerlink\" title=\"Copy vs Map\"></a>Copy vs Map</h2><p>Goal for both is to transfer data from one into target saddress space</p>\n<table>\n<thead>\n<tr>\n<th>Copy (Message Passing)</th>\n<th>Map (Shared Memory)</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>CPU cycles to copy data to&#x2F;from port</td>\n<td>CPU cycles to map memory into address space</td>\n</tr>\n<tr>\n<td>CPU to copy data to channel</td>\n<td></td>\n</tr>\n<tr>\n<td>If channel setup once, use many times (good payoff)</td>\n<td></td>\n</tr>\n<tr>\n<td>Can perform well for 1 time use</td>\n<td></td>\n</tr>\n</tbody></table>\n<ul>\n<li>Large Data: t(Copy) &gt;&gt; t(Map)<ul>\n<li>e.g. tradeoff exercised in Window “Local” Procedure Calls (LPC)</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"Shared-Memory-and-Synchronization\"><a href=\"#Shared-Memory-and-Synchronization\" class=\"headerlink\" title=\"Shared Memory and Synchronization\"></a>Shared Memory and Synchronization</h2><p>Use threads accessing shared state in a single addressing space, but for process</p>\n<p>Synchronization method:</p>\n<ol>\n<li>mechanism supported by processing threading library (pthreads)</li>\n<li>OS supported IPC for sync</li>\n</ol>\n<p>Either method must coordinate</p>\n<ul>\n<li>no of concurrent access to shared segment</li>\n<li>when data is available and ready for consumption</li>\n</ul>\n<h3 id=\"IPC-Synchronization\"><a href=\"#IPC-Synchronization\" class=\"headerlink\" title=\"IPC Synchronization\"></a>IPC Synchronization</h3><table>\n<thead>\n<tr>\n<th>Message Queues</th>\n<th>Semaphores</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>Implement “mutual exclusion” via send&#x2F;receive</td>\n<td>OS supported synchronization construct</td>\n</tr>\n<tr>\n<td>binary construct (either allow process or not)</td>\n<td></td>\n</tr>\n<tr>\n<td>Like mutex, if value &#x3D; 0, stop; if value &#x3D; 1, decrement(lock) and proceed</td>\n<td></td>\n</tr>\n</tbody></table>\n<hr>\n\n\n<h1 id=\"Synchronization\"><a href=\"#Synchronization\" class=\"headerlink\" title=\"Synchronization\"></a>Synchronization</h1><p>Waiting for other processes, so that they can continue working together</p>\n<ul>\n<li>may repeatedly check to continue<ul>\n<li>sync using spinlocks</li>\n</ul>\n</li>\n<li>may wait for a signal to continue<ul>\n<li>sync using mutexes and condition vatiables</li>\n</ul>\n</li>\n<li>waiting hurts performance<ul>\n<li>CPUs wste cycles for checking; cache effects</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"Limitation-of-mutextes-and-condition-variables\"><a href=\"#Limitation-of-mutextes-and-condition-variables\" class=\"headerlink\" title=\"Limitation of mutextes and condition variables\"></a>Limitation of mutextes and condition variables</h2><ul>\n<li>Error prone&#x2F;correctness&#x2F;ease of use<ul>\n<li>unlock wrong mutex, signal wrong condition variable</li>\n</ul>\n</li>\n<li>Lack of expressive power<ul>\n<li>helper variables for access or priority control</li>\n</ul>\n</li>\n</ul>\n<p>Low-level support: hardware atmoic instructions</p>\n<h2 id=\"Synchronization-constructs\"><a href=\"#Synchronization-constructs\" class=\"headerlink\" title=\"Synchronization constructs\"></a>Synchronization constructs</h2><ol>\n<li>Spinlocks (basic sync construct)<ul>\n<li>Spinlock is like a mutex <ul>\n<li>mutual exclusion</li>\n<li>lock and unlock(free)</li>\n<li>but, lock &#x3D;&#x3D; busy &#x3D;&gt; spinning</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>Semaphores<ul>\n<li>common sync construct in OS kernels</li>\n<li>like a traffic light: Stop and Go</li>\n<li>like mutex, but more general</li>\n</ul>\n</li>\n</ol>\n<p>Semaphore &#x3D;&#x3D; integer value</p>\n<ul>\n<li>on init<ul>\n<li>assigned a max value (positive int) &#x3D;&gt; max count</li>\n</ul>\n</li>\n<li>on try(wait)<ul>\n<li>if non-zero, decrement and proceed &#x3D;&gt; counting semaphore</li>\n</ul>\n</li>\n<li>if initialized with 1<ul>\n<li>semaphore &#x3D;&#x3D; mutex(binary semaphore)</li>\n</ul>\n</li>\n<li>on exit(post)<ul>\n<li>increment</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"Syncing-different-types-of-accesses\"><a href=\"#Syncing-different-types-of-accesses\" class=\"headerlink\" title=\"Syncing different types of accesses\"></a>Syncing different types of accesses</h2><h3 id=\"Reader-Writer-locks\"><a href=\"#Reader-Writer-locks\" class=\"headerlink\" title=\"Reader&#x2F;Writer locks\"></a>Reader&#x2F;Writer locks</h3><table>\n<tr>\n<td>read (don't modify)</td>\n<td>write (always modify)</td>\n</tr>\n<tr>\n<td>shared access</td>\n<td>exclusive access</td>\n</tr>\n</table>\n\n<ul>\n<li>RW locks<ul>\n<li>specify type of access, then lock behaves accordingly</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"Monitors-highlevel-construct\"><a href=\"#Monitors-highlevel-construct\" class=\"headerlink\" title=\"Monitors (highlevel construct)\"></a>Monitors (highlevel construct)</h3><ul>\n<li>shared resource</li>\n<li>entry resource</li>\n<li>possible condition variables</li>\n</ul>\n<ul>\n<li>On entry:<ul>\n<li>lock, check</li>\n</ul>\n</li>\n<li>On exit:<ul>\n<li>unlock, check, signal</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"More-synchroniaztion-constructs\"><a href=\"#More-synchroniaztion-constructs\" class=\"headerlink\" title=\"More synchroniaztion constructs\"></a>More synchroniaztion constructs</h3><ul>\n<li>serializers</li>\n<li>path expressions</li>\n<li>barriers</li>\n<li>rendezvous points</li>\n<li>optimistic wait-free sync (RCU) [Read Copy Update]</li>\n</ul>\n<p>All need hardware support.</p>\n<h2 id=\"Need-for-hardware-support\"><a href=\"#Need-for-hardware-support\" class=\"headerlink\" title=\"Need for hardware support\"></a>Need for hardware support</h2><ul>\n<li>Problem <ul>\n<li>concurrent check&#x2F;update on different CPUs can overlap</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"Atomic-instructions\"><a href=\"#Atomic-instructions\" class=\"headerlink\" title=\"Atomic instructions\"></a>Atomic instructions</h3><p> Critical section with hardware supported synchronization</p>\n<h4 id=\"Hardware-specific\"><a href=\"#Hardware-specific\" class=\"headerlink\" title=\"Hardware specific\"></a>Hardware specific</h4><ul>\n<li><p>test-and-set</p>\n<ul>\n<li>returns(tests) original values and sets new-value!&#x3D; 1 (busy) automatically</li>\n<li>first thread: test-and-set(lock) &#x3D;&gt; 0 : free</li>\n<li>next ones: test-and-set(lock) &#x3D;&gt; 1 busy<ul>\n<li>reset lock to 1, but that’s okay</li>\n</ul>\n</li>\n<li><strong>+</strong> : Latency </li>\n<li><strong>+</strong> : minimal (Atomic)</li>\n<li><strong>+</strong> : Delay potentially min</li>\n<li><strong>-</strong> : Contention processors go to memory on each spin<br> - To reduce contention, introduce delay<br>   - Static(based on a fixed value) or Dynamic(backoff based, random delay)</li>\n</ul>\n</li>\n<li><p>read-and-increment</p>\n</li>\n<li><p>compare-and-swap</p>\n</li>\n</ul>\n<h4 id=\"Guarantees\"><a href=\"#Guarantees\" class=\"headerlink\" title=\"Guarantees\"></a>Guarantees</h4><ul>\n<li>atomicity</li>\n<li>mutual exclusion</li>\n<li>queue all concurrent instructions but one</li>\n</ul>\n<h3 id=\"Shared-Memory-Multiprocessors\"><a href=\"#Shared-Memory-Multiprocessors\" class=\"headerlink\" title=\"Shared Memory Multiprocessors\"></a>Shared Memory Multiprocessors</h3><p>Also called symmetric multiprocessors (SMP)</p>\n<p><img src=\"https://spcdn.pages.dev/blog/os/sharedmmmp.png\" alt=\"sharedmmmp\"></p>\n<ul>\n<li>Caches <ul>\n<li>hide memory latency, “memory” further away due to contention</li>\n<li>no-write, write-through, write-back</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"Cache-Coherence\"><a href=\"#Cache-Coherence\" class=\"headerlink\" title=\"Cache Coherence\"></a>Cache Coherence</h3><p><img src=\"https://spcdn.pages.dev/blog/os/cachecoherence.png\" alt=\"cachecoherence\"></p>\n<p><img src=\"https://spcdn.pages.dev/blog/os/cachecoherence2.png\" alt=\"cachecoherence2\"></p>\n<hr>\n\n    \n    \n    \n    \n<pre><code># I/O Management\n</code></pre>\n<p>Operating system</p>\n<ul>\n<li>Has protocols <ul>\n<li>Interfaces for device I&#x2F;O</li>\n</ul>\n</li>\n<li>Has dedicated handlers<ul>\n<li>Device drivers, interrupt handlers</li>\n</ul>\n</li>\n<li>Decouple I&#x2F;O details from core processing<ul>\n<li>abstract I&#x2F;O device detail from applications</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"I-O-Device-Features\"><a href=\"#I-O-Device-Features\" class=\"headerlink\" title=\"I&#x2F;O Device Features\"></a>I&#x2F;O Device Features</h2><ul>\n<li>Control registers (accessed by CPU)<ul>\n<li>Command</li>\n<li>Data Transfers</li>\n<li>Status</li>\n</ul>\n</li>\n<li>Microcontroller : device’s CPU</li>\n<li>On device memory</li>\n<li>Other logic<ul>\n<li>e.g. analog to digital</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"Device-drivers\"><a href=\"#Device-drivers\" class=\"headerlink\" title=\"Device drivers\"></a>Device drivers</h2><ul>\n<li>per each device type</li>\n<li>responsible for device access management and control</li>\n<li>provided by device manufacturers per OS &#x2F;version</li>\n<li>each OS standardizes interfaces<ul>\n<li>device independence</li>\n<li>device diversity</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"Types-of-devices\"><a href=\"#Types-of-devices\" class=\"headerlink\" title=\"Types of devices\"></a>Types of devices</h2><ul>\n<li>Block<ul>\n<li>e.g. disk</li>\n<li>read&#x2F;write blocks of data</li>\n<li>direct access to arbitrary block</li>\n</ul>\n</li>\n<li>Character<ul>\n<li>e.g. keyboard</li>\n<li>get&#x2F;put character</li>\n</ul>\n</li>\n<li>Network devices</li>\n</ul>\n<p>OS representation of a device : special device file</p>\n<p>UNIX like systems:</p>\n<ul>\n<li>&#x2F;dev</li>\n<li>tmpfs</li>\n<li>devfs</li>\n</ul>\n<p>Linux supports a number of pseudo “virtual” devices that provide special functionality to a system.</p>\n<h2 id=\"CPU-device-interactions\"><a href=\"#CPU-device-interactions\" class=\"headerlink\" title=\"CPU device interactions\"></a>CPU device interactions</h2><p><img src=\"https://spcdn.pages.dev/blog/os/iointeractions.png\" alt=\"iointeractions.png\"></p>\n<p>access device registers : memory load&#x2F;store</p>\n<ol>\n<li>Memory mapped I&#x2F;0<ul>\n<li>part of ‘host’ physical memory dedicated for device interactions</li>\n<li>Base Address Registers (BAR)</li>\n</ul>\n</li>\n<li>I&#x2F;O Port<ul>\n<li>dedicated in low instructions for device access</li>\n<li>target device (I&#x2F;0 port) and value in register</li>\n</ul>\n</li>\n</ol>\n<h2 id=\"Path-from-Device-to-CPU\"><a href=\"#Path-from-Device-to-CPU\" class=\"headerlink\" title=\"Path from Device to CPU\"></a>Path from Device to CPU</h2><ol>\n<li>Interrupt<ul>\n<li>Overhead: Interrupt handling steps</li>\n<li>+: Can be generated as soon as possible</li>\n</ul>\n</li>\n<li>Polling<ul>\n<li>Overhead: Delay or CPU overhead</li>\n<li>when convenient for OS</li>\n</ul>\n</li>\n</ol>\n<h2 id=\"Device-access-Programmed-I-O-PIO\"><a href=\"#Device-access-Programmed-I-O-PIO\" class=\"headerlink\" title=\"Device access : Programmed I&#x2F;O (PIO)\"></a>Device access : Programmed I&#x2F;O (PIO)</h2><ul>\n<li>No additional hardware support</li>\n<li>CPU “programs” the device<ul>\n<li>via command registers</li>\n<li>data movement</li>\n</ul>\n</li>\n<li>E.g. NIC(Network Interface Card)<ul>\n<li>data &#x3D; network packet</li>\n</ul>\n</li>\n<li>Write command to request packet information</li>\n<li>Copy packet to data registers</li>\n<li>Repeat until packet sent</li>\n</ul>\n<p>E.g. 1500B packet; 8 byte registers or bus &#x3D;&gt; 1(for bus command) + 188(for data) &#x3D; 189 CPU store instructions</p>\n<h2 id=\"Direct-Memory-Access-DMA\"><a href=\"#Direct-Memory-Access-DMA\" class=\"headerlink\" title=\"Direct Memory Access (DMA)\"></a>Direct Memory Access (DMA)</h2><ul>\n<li>Relies on DMA controller</li>\n<li>CPU “programs” the device<ul>\n<li>via command registers</li>\n<li>via DMA controls</li>\n</ul>\n</li>\n<li>E.g. NIC (data &#x3D; network packet)</li>\n<li>Write command to request packet information</li>\n<li>Configure DMA controller with in memory address and size of packet buffer</li>\n</ul>\n<p>E.g. 1500B packet; 8 byte registers or bus &#x3D;&gt; 1(for bus command) + 1(for DMA configuration) &#x3D; total 2 CPU store instructions. Less steps, but DMA configuration is more complex.</p>\n<p>For DMAs</p>\n<ul>\n<li>data buffer must be in physical memory until transfer completes</li>\n<li>pinning regions (non-swappable)</li>\n</ul>\n<h2 id=\"Typical-Device-Access\"><a href=\"#Typical-Device-Access\" class=\"headerlink\" title=\"Typical Device Access\"></a>Typical Device Access</h2><p><img src=\"https://spcdn.pages.dev/blog/os/typicaldeviceaccess.png\" alt=\"typicaldeviceaccess.png\"></p>\n<ul>\n<li>System call</li>\n<li>In-kernel stack</li>\n<li>Driver Invocation</li>\n<li>Device request configuration</li>\n<li>Device performs request</li>\n</ul>\n<h3 id=\"OS-bypass\"><a href=\"#OS-bypass\" class=\"headerlink\" title=\"OS bypass\"></a>OS bypass</h3><p><img src=\"https://spcdn.pages.dev/blog/os/osbypass.png\" alt=\"osbypass.png\"></p>\n<ul>\n<li>device registers&#x2F;data<ul>\n<li>directly available</li>\n</ul>\n</li>\n<li>OS configures<ul>\n<li>then gets out of the way</li>\n</ul>\n</li>\n<li>“user level driver”<ul>\n<li>in library</li>\n</ul>\n</li>\n<li>OS retains coarse-grain control</li>\n<li>relies on device features<ul>\n<li>sufficient registers</li>\n<li>demux capability</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"What-happens-to-a-calling-thread\"><a href=\"#What-happens-to-a-calling-thread\" class=\"headerlink\" title=\"What happens to a calling thread?\"></a>What happens to a calling thread?</h2><p><img src=\"https://spcdn.pages.dev/blog/os/access.png\" alt=\"access.png\"></p>\n<ul>\n<li>Synchronous I&#x2F;O operations<ul>\n<li>process blocks</li>\n</ul>\n</li>\n<li>Asynchronous I&#x2F;O operations<ul>\n<li>process continues</li>\n<li>Later, process checks and retrieves result</li>\n<li>OR</li>\n<li>process is notified that operation is completed and results are ready</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"Block-Device-Stack\"><a href=\"#Block-Device-Stack\" class=\"headerlink\" title=\"Block Device Stack\"></a>Block Device Stack</h2><p>Block device typical storage for files:</p>\n<p><img src=\"https://spcdn.pages.dev/blog/os/blockdevicestack.png\" alt=\"blockdevicestack.png\"></p>\n<ul>\n<li>processes use files &#x3D;&gt; logical storage unit</li>\n<li>kernel file system (KFS)<ul>\n<li>where how to find and access file</li>\n<li>OS specifies interface</li>\n</ul>\n</li>\n<li>generic block layer<ul>\n<li>OS standardized block interface</li>\n</ul>\n</li>\n<li>Device driver</li>\n</ul>\n<h2 id=\"Virtual-File-System\"><a href=\"#Virtual-File-System\" class=\"headerlink\" title=\"Virtual File System\"></a>Virtual File System</h2><p><img src=\"https://spcdn.pages.dev/blog/os/vfs.png\" alt=\"vfs.png\"></p>\n<h3 id=\"Virtual-File-System-Abstractions\"><a href=\"#Virtual-File-System-Abstractions\" class=\"headerlink\" title=\"Virtual File System Abstractions\"></a>Virtual File System Abstractions</h3><ul>\n<li>File : Elements on which the VFS operates</li>\n<li>File Descriptor : OS representation of file<ul>\n<li>open, read, write, send file , lock, close</li>\n</ul>\n</li>\n<li>inode : Persistent representation of file “index”<ul>\n<li>list of all data blocks</li>\n<li>device, permissions, size</li>\n</ul>\n</li>\n<li>dentry : Directory entry, corresponding to the single path component, <ul>\n<li>dentry cache</li>\n</ul>\n</li>\n<li>super block : file system specific information regarding the File System layout</li>\n</ul>\n<h3 id=\"VFS-on-disk\"><a href=\"#VFS-on-disk\" class=\"headerlink\" title=\"VFS on disk\"></a>VFS on disk</h3><ul>\n<li>File : data blocks on disk</li>\n<li>inode : track file blocks<ul>\n<li>also resides on disk in some block</li>\n</ul>\n</li>\n<li>super block : overall map of disk blocks<ul>\n<li>inode blocks</li>\n<li>data blocks</li>\n<li>free blocks</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"Inodes\"><a href=\"#Inodes\" class=\"headerlink\" title=\"Inodes\"></a>Inodes</h3><p>Index of all disk blocks corresponding to a file</p>\n<ul>\n<li>File : identified by inode</li>\n<li>inode : list of all blocks + other metadata</li>\n</ul>\n<p><strong>+</strong>: Easy to perform sequential or random access<br><br><strong>-</strong>: Limit on file size</p>\n<h3 id=\"Inodes-with-indirect-pointers\"><a href=\"#Inodes-with-indirect-pointers\" class=\"headerlink\" title=\"Inodes with indirect pointers\"></a>Inodes with indirect pointers</h3><ul>\n<li>Index of all disk blocks corresponding to a file</li>\n<li>Index contain:<ul>\n<li>metadata</li>\n<li>pointers to blocks</li>\n</ul>\n</li>\n<li>Direct pointer : Points to data block<ul>\n<li>1 KB per entry</li>\n</ul>\n</li>\n<li>Indirect pointer : Points to block of pointers<ul>\n<li>256 KB per entry</li>\n</ul>\n</li>\n<li>Double Indirect pointer : Points to block of block of pointers<ul>\n<li>64 MB per entry</li>\n</ul>\n</li>\n</ul>\n<p><strong>+</strong>: Small inode &#x3D;&gt; large file size<br><br><strong>-</strong>: File access slowdown</p>\n<h2 id=\"Disk-access-optimizations\"><a href=\"#Disk-access-optimizations\" class=\"headerlink\" title=\"Disk access optimizations\"></a>Disk access optimizations</h2><p>Reducing file access overheads</p>\n<ol>\n<li>Caching&#x2F;buffering : reducenumber of disk accesses<ul>\n<li>buffer cache in main menu</li>\n<li>read&#x2F;write from cache</li>\n<li>periodically flush to disk - fsync()</li>\n</ul>\n</li>\n<li>I&#x2F;O scheduling : reduce disk head movement<ul>\n<li>maximize sequential vs random access</li>\n</ul>\n</li>\n<li>Prefetching : increases cache hits<ul>\n<li>leverages locality</li>\n</ul>\n</li>\n<li>Journaling&#x2F;logging: reduce random access (ext3, ext4)<ul>\n<li>“describe” write in log : block, offset, value..</li>\n<li>periodically apply updates to proper disk locations</li>\n</ul>\n</li>\n</ol>\n<hr>    \n \n    \n<pre><code># Virtualization\n</code></pre>\n<p>Virtualization allows concurrent execution of multiple OSs and their applications on the same physical machine.</p>\n<p><img src=\"https://spcdn.pages.dev/blog/os/virtualization.png\" alt=\"virtualization.png\"></p>\n<ul>\n<li>Virtual resources : each OS thinks that ot “owns” hardware resources</li>\n<li>Virtual machine (VM) : OS + applications + virtual resources (guest domain)</li>\n<li>Virtualization layer : management of physical hardware (virtual machine monitor, hypervisor)</li>\n</ul>\n<h2 id=\"Defining-Virtual-Machine\"><a href=\"#Defining-Virtual-Machine\" class=\"headerlink\" title=\"Defining Virtual Machine\"></a>Defining Virtual Machine</h2><p>A Virtual Machine is an efficient, isolated duplicate of the real machine.</p>\n<ul>\n<li>Supported by a Virtual Machine Monitor (VMM):<ol>\n<li>provides environment essentially identical with the original machine</li>\n<li>programs show only minor decrease in speed at worst</li>\n<li>VMM is in complete control of the system resources</li>\n</ol>\n</li>\n</ul>\n<h2 id=\"VMM-goals\"><a href=\"#VMM-goals\" class=\"headerlink\" title=\"VMM goals\"></a>VMM goals</h2><ul>\n<li>Fidelity</li>\n<li>Performance</li>\n<li>Safety and Isolation</li>\n</ul>\n<h2 id=\"Virtualization-advantages\"><a href=\"#Virtualization-advantages\" class=\"headerlink\" title=\"Virtualization advantages\"></a>Virtualization advantages</h2><ul>\n<li>consolidation<ul>\n<li>decrease cost, improve manageability</li>\n</ul>\n</li>\n<li>migration<ul>\n<li>availibility, reliability</li>\n</ul>\n</li>\n<li>security, debugging, support for legacy OS</li>\n</ul>\n<h2 id=\"Two-main-Virtualization-Models\"><a href=\"#Two-main-Virtualization-Models\" class=\"headerlink\" title=\"Two main Virtualization Models:\"></a>Two main Virtualization Models:</h2><h3 id=\"1-Bare-metal-or-Hypervisor-based-Type-1\"><a href=\"#1-Bare-metal-or-Hypervisor-based-Type-1\" class=\"headerlink\" title=\"1. Bare-metal or Hypervisor based (Type 1)\"></a>1. Bare-metal or Hypervisor based (Type 1)</h3><p><img src=\"https://spcdn.pages.dev/blog/os/hypervisor.png\" alt=\"hypervisor.png\"></p>\n<ul>\n<li>VMM (hypervisor) manages all hardware resources abd supports execution of VMs</li>\n<li>privileged, secure VM to deal with devices (and other configuration and management tasks)</li>\n<li>Adopted by Xen(Opensource or Citriol Xen Server) and ESX (VMware)</li>\n</ul>\n<h3 id=\"1-Hosted-Type-2\"><a href=\"#1-Hosted-Type-2\" class=\"headerlink\" title=\"1. Hosted (Type 2)\"></a>1. Hosted (Type 2)</h3><p><img src=\"https://spcdn.pages.dev/blog/os/hosted.png\" alt=\"hosted.png\"></p>\n<ul>\n<li>Host owns all hardware</li>\n<li>Special VMM modle provides hardware interfaces to VMs and deals with VM context switching</li>\n</ul>\n<h2 id=\"Virtualization-requirements\"><a href=\"#Virtualization-requirements\" class=\"headerlink\" title=\"Virtualization requirements\"></a>Virtualization requirements</h2><ul>\n<li>Present virtual platform interface to VMs<ul>\n<li>virtualize CPU, memory, devices</li>\n</ul>\n</li>\n<li>Provide isolation across VMs<ul>\n<li>preemption, MMU for address translation and validation</li>\n</ul>\n</li>\n<li>Protect guest OS from applications<ul>\n<li>can’t run guest OS and applications at same protection level</li>\n</ul>\n</li>\n<li>Protect VMs from guest OS<ul>\n<li>can’t run guest OS and VMMs at same protection level</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"Hardware-protection-levels\"><a href=\"#Hardware-protection-levels\" class=\"headerlink\" title=\"Hardware protection levels\"></a>Hardware protection levels</h2><p>Commodity hardware has more than two protection levels</p>\n<p><img src=\"https://spcdn.pages.dev/blog/os/hwprotectionlevels.png\" alt=\"hwprotectionlevels\"></p>\n<ul>\n<li>x86 has 4 protection levels (rings)<ul>\n<li>ring 3 : lowest privilege (applications)</li>\n<li>ring 1 : OS</li>\n<li>ring 0 : highest privilege (hypervisor)</li>\n</ul>\n</li>\n<li>and 2 protection modes<ul>\n<li>non root : VMs <ul>\n<li>ring 3 : apps</li>\n<li>ring 0 : OS</li>\n</ul>\n</li>\n<li>root : <ul>\n<li>ring 0 : hypervisor</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"Process-Virtualization-Trap-and-Emulate\"><a href=\"#Process-Virtualization-Trap-and-Emulate\" class=\"headerlink\" title=\"Process Virtualization (Trap-and-Emulate)\"></a>Process Virtualization (Trap-and-Emulate)</h2><ul>\n<li>Guest instruments<ul>\n<li>executed directly by hardware</li>\n<li>for non-privileged operations : hardware speeds &#x3D;&gt; efficiency</li>\n<li>for privileged operations : trap to hypervisor</li>\n</ul>\n</li>\n<li>Hypervisor determines what needs to be done:<ul>\n<li>if illegal operation : terminate VM</li>\n<li>if legal operation : emulate the behaviour the guest OS was expecting from the hardware</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"Problems-with-Trap-and-Emulate\"><a href=\"#Problems-with-Trap-and-Emulate\" class=\"headerlink\" title=\"Problems with Trap-and-Emulate\"></a>Problems with Trap-and-Emulate</h2><ul>\n<li>17 privileged information do not trao but fail silently</li>\n<li>Hypervisor doesn’t know, so it doesn’t try to change settings</li>\n<li>OS doesn’t know, so assumes change was successful</li>\n</ul>\n<h2 id=\"Binary-Translation\"><a href=\"#Binary-Translation\" class=\"headerlink\" title=\"Binary Translation\"></a>Binary Translation</h2><p><strong>Goal</strong> : Full Virtualization i.e. guest OS is not modified</p>\n<p><strong>Approach</strong> : Dynamic Binary Translation</p>\n<ol>\n<li>Inspect code blocks to be executed</li>\n<li>If needed, translate to alternate instruction sequence<ul>\n<li>e.g. to emulate desired behaviour, possibly avoid traps</li>\n</ul>\n</li>\n<li>Otherwise run at hardware speeds<ul>\n<li>cache translated blocks to ammortize translation costs</li>\n</ul>\n</li>\n</ol>\n<h2 id=\"Paravirtualization\"><a href=\"#Paravirtualization\" class=\"headerlink\" title=\"Paravirtualization\"></a>Paravirtualization</h2><p><strong>Goal</strong> : Performance; give up on modified guest OSs</p>\n<p><strong>Approach</strong> : Paravirtualization : modify guest OSs so that </p>\n<ul>\n<li>it knows it is running virtualized</li>\n<li>it makes explicit calls to hyperisor (hypercalls)</li>\n<li>hypercalls (~ system calls)<ul>\n<li>package context information</li>\n<li>specify desired hypercall</li>\n<li>trap to VMM</li>\n</ul>\n</li>\n<li>Xen : opensource hypervisor</li>\n</ul>\n<h2 id=\"Memory-virtualization\"><a href=\"#Memory-virtualization\" class=\"headerlink\" title=\"Memory virtualization\"></a>Memory virtualization</h2><ul>\n<li>Full virtualization<ul>\n<li>all guests expect contiguous physical memory starting at 0</li>\n<li>virtual vs physical vs machine addresses and page frame numbers</li>\n<li>still leverages hardware (MMU, TLB..)</li>\n</ul>\n</li>\n<li>Option 1<ul>\n<li>guest page table : VA &#x3D;&gt; PA</li>\n<li>hypervisor : PA &#x3D;&gt; MA</li>\n<li>too expensive!</li>\n</ul>\n</li>\n<li>Option 2<ul>\n<li>guest page tables : VA &#x3D;&gt; PA</li>\n<li>hypervisor shadow PT : VA &#x3D;&gt; MA</li>\n<li>hypervisor maintains consistence<ul>\n<li>e.g. invalidate on context switch, write protect guest PT to track new mappings</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>Paravirtualized <ul>\n<li>guest aware of virtualization</li>\n<li>no longer strict requirement on contiguous physical memory starting at 0</li>\n<li>explicitly registers page tables with hypervisor</li>\n<li>can “batch” page tables updates to reduce VM exits</li>\n<li>other optimazations</li>\n</ul>\n</li>\n</ul>\n<p>Overheads eliminated or reduced on newer platforms</p>\n<h2 id=\"Device-Virtualization\"><a href=\"#Device-Virtualization\" class=\"headerlink\" title=\"Device Virtualization\"></a>Device Virtualization</h2><ul>\n<li>For CPUs and Memory<ul>\n<li>less diversity, Intruction-Set-Architecture(ISA) level</li>\n<li>Standardization of interface</li>\n</ul>\n</li>\n<li>For Devices<ul>\n<li>high diversity</li>\n<li>lack of standard specification of device interface and behaviour</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"3-key-models-for-Device-Virtualization\"><a href=\"#3-key-models-for-Device-Virtualization\" class=\"headerlink\" title=\"3 key models for Device Virtualization:\"></a>3 key models for Device Virtualization:</h4><h3 id=\"1-Pass-through-model\"><a href=\"#1-Pass-through-model\" class=\"headerlink\" title=\"1. Pass through model\"></a>1. Pass through model</h3><p>Approach: VMM-level-driver configures device access permissions</p>\n<p><img src=\"https://spcdn.pages.dev/blog/os/passthrough.png\" alt=\"passthrough.png\"></p>\n<p><strong>Advantages</strong><br></p>\n<ul>\n<li>VM provided with exclusive and direct (VMM bypass) access to the device</li>\n</ul>\n<p><strong>Disadvantages</strong><br></p>\n<ul>\n<li>Device sharing difficult</li>\n<li>VMM must have exact type of device as what VM expects</li>\n<li>VM migration tricky</li>\n</ul>\n<h3 id=\"2-Hypervisor-Direct-model\"><a href=\"#2-Hypervisor-Direct-model\" class=\"headerlink\" title=\"2. Hypervisor - Direct model\"></a>2. Hypervisor - Direct model</h3><p>Approach: </p>\n<ul>\n<li>VMM interrupts all device accesses</li>\n<li>Emulate device operations<ul>\n<li>translate to generic I&#x2F;O operations</li>\n<li>traverse VMM-resident I&#x2F;O stack</li>\n<li>invoke VMM-resident driver</li>\n</ul>\n</li>\n</ul>\n<p><img src=\"https://spcdn.pages.dev/blog/os/hypervisordirect.png\" alt=\"hypervisordirect.png\">    </p>\n<p><strong>Advantages</strong><br></p>\n<ul>\n<li>VM decoupled from physical device</li>\n<li>Sharing, migration, dealing with device specifics</li>\n</ul>\n<p><strong>Disadvantages</strong><br></p>\n<ul>\n<li>Latency of device operations</li>\n<li>Device driver ecosystem complexities in Hypervisor</li>\n</ul>\n<h3 id=\"3-Split-Device-Driver-model\"><a href=\"#3-Split-Device-Driver-model\" class=\"headerlink\" title=\"3. Split Device-Driver model\"></a>3. Split Device-Driver model</h3><p>Approach: </p>\n<ul>\n<li>Device access control split between</li>\n<li>Emulate device operations<ul>\n<li>front-end driver in guest VM (device API)</li>\n<li>back-end driver in service VM (or Host)</li>\n<li>modified guest drivers<ul>\n<li>i.e. limited to paravirtualized guests</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p><img src=\"https://spcdn.pages.dev/blog/os/splitdevicedriver.png\" alt=\"splitdevicedriver.png\">          </p>\n<p><strong>Advantages</strong><br></p>\n<ul>\n<li>Eliminate emulation overhead</li>\n<li>Allow for better management of shared devices</li>\n</ul>\n<hr>\n\n\n\n<h1 id=\"Remote-Procedure-Calls\"><a href=\"#Remote-Procedure-Calls\" class=\"headerlink\" title=\"Remote Procedure Calls\"></a>Remote Procedure Calls</h1><p>Example : GetFile App</p>\n<ul>\n<li>Client Server</li>\n<li>Create and init sockets</li>\n<li>Allocate and populate buffers</li>\n<li>Include ‘protocol’ info<ul>\n<li>GetFile, size</li>\n</ul>\n</li>\n<li>Copy data into buffers<ul>\n<li>filename, file</li>\n</ul>\n</li>\n</ul>\n<ul>\n<li>common steps related to remote IPC</li>\n</ul>\n<h4 id=\"Remote-Procedure-Calls-RPC\"><a href=\"#Remote-Procedure-Calls-RPC\" class=\"headerlink\" title=\"Remote Procedure Calls (RPC)\"></a>Remote Procedure Calls (RPC)</h4><ul>\n<li>Intended to simplify the development of cross address space and cross machine interactions</li>\n</ul>\n<p><strong>+</strong> Higher-level interface for data movement and communication<br><br><strong>+</strong> Error handling<br><br><strong>+</strong> Hiding complexities of cross machine interactions</p>\n<h2 id=\"RPC-requirements\"><a href=\"#RPC-requirements\" class=\"headerlink\" title=\"RPC requirements\"></a>RPC requirements</h2><p><img src=\"https://spcdn.pages.dev/blog/os/rpcrequirements.png\" alt=\"rpcrequirements\"></p>\n<ol>\n<li>Client&#x2F;Server interactions</li>\n<li>Procedure Call Interface &#x3D;&gt; RPC<ul>\n<li>sync call semantics</li>\n</ul>\n</li>\n<li>Type checking <ul>\n<li>error handling </li>\n<li>packet bytes interpretation</li>\n</ul>\n</li>\n<li>Cross machine conversion<ul>\n<li>e.g. big&#x2F;little endian</li>\n</ul>\n</li>\n<li>Higher level protocol<ul>\n<li>access control, fault tolerance, different transport protocols</li>\n</ul>\n</li>\n</ol>\n<h2 id=\"Structure-of-RPC\"><a href=\"#Structure-of-RPC\" class=\"headerlink\" title=\"Structure of RPC\"></a>Structure of RPC</h2><p><img src=\"https://spcdn.pages.dev/blog/os/rpcstructure.png\" alt=\"rpcstructure\"></p>\n<h2 id=\"RPC-Steps\"><a href=\"#RPC-Steps\" class=\"headerlink\" title=\"RPC Steps:\"></a>RPC Steps:</h2><p>(-1.) register : server registers procedure, arg types, location<br><br>(0.) bind : client finds and binds to desired server</p>\n<ol>\n<li>call : client make RPC call; control passed to stub, client code blocks</li>\n<li>marshal : client stub “marshals” args (serialize args into buffer)</li>\n<li>send : client sends message to server</li>\n<li>receive : server receives message; passes message to server stub; access control</li>\n<li>unmarshal : server stub “unmarshals” args (extract args from buffer)</li>\n<li>actual call : server stub calls local procedure implementation</li>\n<li>result : server performs operation and computes result of RPC operation</li>\n</ol>\n<p>(same on return &lt;&#x3D;)</p>\n<h2 id=\"Interface-definition-Language-IDL\"><a href=\"#Interface-definition-Language-IDL\" class=\"headerlink\" title=\"Interface definition Language (IDL)\"></a>Interface definition Language (IDL)</h2><ul>\n<li>Used to describe the interface the server expects<ul>\n<li>procedure name, args, 2 result types</li>\n<li>version number</li>\n</ul>\n</li>\n</ul>\n<p>RPC can use IDL that is </p>\n<ol>\n<li>Language agnostic<ul>\n<li>XDR in SunRPC</li>\n</ul>\n</li>\n<li>Language specific<ul>\n<li>Java in JavaRMI</li>\n</ul>\n</li>\n</ol>\n<h2 id=\"Marshalling\"><a href=\"#Marshalling\" class=\"headerlink\" title=\"Marshalling\"></a>Marshalling</h2><p><img src=\"https://spcdn.pages.dev/blog/os/marshalling.png\" alt=\"Marshalling\"></p>\n<h2 id=\"Unmarshalling\"><a href=\"#Unmarshalling\" class=\"headerlink\" title=\"Unmarshalling\"></a>Unmarshalling</h2><p><img src=\"https://spcdn.pages.dev/blog/os/unmarshalling.png\" alt=\"Unmarshalling\"></p>\n<p>Marshalling&#x2F;Unmarshalling routines are provided by RPC system compiler.</p>\n<h2 id=\"Binding-and-Registry\"><a href=\"#Binding-and-Registry\" class=\"headerlink\" title=\"Binding and Registry\"></a>Binding and Registry</h2><ul>\n<li>Client determines<ul>\n<li><strong>which</strong> server to connect to?<ul>\n<li>service name. version number</li>\n</ul>\n</li>\n<li><strong>how</strong> to connect to that server?<ul>\n<li>IP address, network protocol</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>Registry : database of available services<ul>\n<li>search for service name to find server(which) and contact details(how)</li>\n<li>distributed <ul>\n<li>any RPC service can register</li>\n</ul>\n</li>\n<li>machine-specific<ul>\n<li>for services running on same machine</li>\n<li>clients must know machine addresses</li>\n<li>registry provides port number needed for connection</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>Who can provide a service?<ul>\n<li>lookup registry for image processing</li>\n</ul>\n</li>\n<li>What services do they provide?<ul>\n<li>compress&#x2F;filter.. version number &#x3D;&gt; IDL</li>\n</ul>\n</li>\n<li>How will they ship package?     <ul>\n<li>TCP &#x2F; UDP -&gt; registry</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"Pointers\"><a href=\"#Pointers\" class=\"headerlink\" title=\"Pointers\"></a>Pointers</h2><ul>\n<li>Procedure interface : foo(int,int)</li>\n<li>in Local Calls : foo(x,y) &#x3D;&gt; okay</li>\n<li>in Remote Calls : foo(x,y) &#x3D;&gt; ?</li>\n</ul>\n<p>here, y points to location in caller address space </p>\n<ul>\n<li>Solutions:<ul>\n<li>No pointers</li>\n<li>Serialize pointers; copy referenced (“points to”) data structure to send buffer</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"Handling-Partial-Failures\"><a href=\"#Handling-Partial-Failures\" class=\"headerlink\" title=\"Handling Partial Failures\"></a>Handling Partial Failures</h2><ul>\n<li>Special RPC error notification (signal, exception..)<ul>\n<li>Catch all possible ways in which RPC can (partially) fail</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"RPC-Design-choice\"><a href=\"#RPC-Design-choice\" class=\"headerlink\" title=\"RPC Design choice\"></a>RPC Design choice</h2><ul>\n<li>Binding &#x3D;&gt; How to find the server</li>\n<li>IDL &#x3D;&gt; How to talk to server; how to package data</li>\n<li>Pointers as args &#x3D;&gt; Disallow or serialize pointer data</li>\n<li>Partial failures &#x3D;&gt; Special error notifications</li>\n</ul>\n<hr>\n\n\n\n<h1 id=\"Distributed-File-Systems\"><a href=\"#Distributed-File-Systems\" class=\"headerlink\" title=\"Distributed File Systems\"></a>Distributed File Systems</h1><ul>\n<li>Accessed via well defined interface<ul>\n<li>access via Virtual File Systems</li>\n</ul>\n</li>\n<li>Focus on consistent state<ul>\n<li>tracking state, file update, cache coherence</li>\n</ul>\n</li>\n<li>Mixed distribution models possible <ul>\n<li>replicates vs partitioned, peer-like systems</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"DFS-models\"><a href=\"#DFS-models\" class=\"headerlink\" title=\"DFS models\"></a>DFS models</h2><ul>\n<li>Client Server on different machines</li>\n<li>File server distributed on multiple machines <ul>\n<li>replicated (each server : all files)</li>\n<li>partitioned (each server : parts of files)</li>\n<li>both (files partitioned, each partition replicates)</li>\n</ul>\n</li>\n<li>Files stored on and served from all machines (peers)<ul>\n<li>blurred distinction between clients and servers</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"Remote-File-Service-Extremes\"><a href=\"#Remote-File-Service-Extremes\" class=\"headerlink\" title=\"Remote File Service : Extremes\"></a>Remote File Service : Extremes</h2><p><img src=\"https://spcdn.pages.dev/blog/os/extremes.png\" alt=\"extremes\"></p>\n<p><img src=\"https://spcdn.pages.dev/blog/os/extremes2.png\" alt=\"extremes2\"></p>\n<ol>\n<li>Extreme1 : Upload&#x2F;Download<ul>\n<li>like FTP, SVN </li>\n<li><strong>+</strong> local read&#x2F;writes at client</li>\n<li><strong>-</strong> entire file download&#x2F;upload evn for small accesses</li>\n<li><strong>-</strong> server gives up contro;</li>\n</ul>\n</li>\n<li>Extreme2 : True Remote File Access<ul>\n<li>Every access to remote file, nothing done locally</li>\n<li><strong>+</strong> file access centralized, easy to reason about consistency</li>\n<li><strong>-</strong> every file operation pays network cost, limits server scalablity</li>\n</ul>\n</li>\n</ol>\n<h2 id=\"Remote-File-Service-A-compromise\"><a href=\"#Remote-File-Service-A-compromise\" class=\"headerlink\" title=\"Remote File Service : A compromise\"></a>Remote File Service : A compromise</h2><p>A more practical Remote File access (with Caching)</p>\n<ol>\n<li>Allow clients to store parts of files locally (blocks)<ul>\n<li><strong>+</strong> low latency on file operations</li>\n<li><strong>+</strong> server load reduces &#x3D;&gt; more scalable</li>\n</ul>\n</li>\n<li>Force clients to interact with server (frequently)   <ul>\n<li><strong>+</strong> server has insights into what clients are doing</li>\n<li><strong>+</strong> server has control into which accesses can be permitted &#x3D;&gt; easier to maintain consistency</li>\n<li><strong>-</strong> server more complex, requires different file sharing semantics</li>\n</ul>\n</li>\n</ol>\n<h2 id=\"Stateless-vs-Stateful-File-server\"><a href=\"#Stateless-vs-Stateful-File-server\" class=\"headerlink\" title=\"Stateless vs Stateful File server\"></a>Stateless vs Stateful File server</h2><table>\n<thead>\n<tr>\n<th>Stateless</th>\n<th>Stateful</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>Keeps no state; Okay with extreme models, but can’t support ‘practical’ model</td>\n<td>Keeps client state needed for ‘practical’ model to track what is cached&#x2F;accessed</td>\n</tr>\n<tr>\n<td><strong>-</strong> Can’t support caching and consistency management</td>\n<td><strong>+</strong> Can support locking, caching, incremental operations</td>\n</tr>\n<tr>\n<td><strong>-</strong> Every request self-contained. &#x3D;&gt; more bits transferred</td>\n<td><strong>-</strong> Overheads to maintain state and consistency. Depends on caching mechanism and consistency protocol.</td>\n</tr>\n<tr>\n<td><strong>+</strong> No resources are used on server side (CPU, MM). On failure just restart</td>\n<td><strong>-</strong> On failure, need checkpoining and recovery mechanisms</td>\n</tr>\n</tbody></table>\n<h2 id=\"Caching-state-in-a-DFS\"><a href=\"#Caching-state-in-a-DFS\" class=\"headerlink\" title=\"Caching state in a DFS\"></a>Caching state in a DFS</h2><ul>\n<li>Locally clients maintain portion of state (e.g. file blocks)</li>\n<li>Locally clients perform operations on cached state (e.g. open&#x2F;read&#x2F;write)</li>\n<li>requires coherent mechanisms</li>\n</ul>\n<p><img src=\"https://spcdn.pages.dev/blog/os/cachingstate.png\" alt=\"cachingstate.png\"></p>\n<table>\n<thead>\n<tr>\n<th>System</th>\n<th>How</th>\n<th>When</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>SMP</td>\n<td>Write-update&#x2F;Write-invalidate</td>\n<td>On write</td>\n</tr>\n<tr>\n<td>DFS</td>\n<td>Client&#x2F;Server-driven</td>\n<td>On demand, periodically, on open..</td>\n</tr>\n</tbody></table>\n<ul>\n<li><p>Files or File blocks can be (with 1 server and multiple clients) cached in:</p>\n<ul>\n<li>in client memory</li>\n<li>on client  storage device (HDD&#x2F;SDD)</li>\n<li>in buffer cache in memory on server<ul>\n<li>(usefulness will depend on client load, request interleaving)</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>File Sharing Semantics in DFS</p>\n</li>\n<li><p>Session semantics (between open-close &#x3D;&gt; Session)</p>\n<ul>\n<li>write-back on close(), update on open()</li>\n<li>easy to reason, but may be insufficient</li>\n</ul>\n</li>\n<li><p>Periodic updates</p>\n<ul>\n<li>client writes-back periodically<ul>\n<li>clients have a “lease” on cached data (not exclusively necessary)</li>\n</ul>\n</li>\n<li>servers invalidates periodically &#x3D;&gt; provides biunds on “inconsistency”</li>\n<li>augment with flush()&#x2F;sync() API</li>\n</ul>\n</li>\n<li><p>Immutable files &#x3D;&gt; never modify, new files created</p>\n</li>\n<li><p>Transactions &#x3D;&gt; all changes atomic</p>\n</li>\n</ul>\n<h1 id=\"Replication-vs-Partitioning\"><a href=\"#Replication-vs-Partitioning\" class=\"headerlink\" title=\"Replication vs Partitioning\"></a>Replication vs Partitioning</h1><table>\n<tr>\n<th></th>\n<th>Replication</th>\n<th>Partitioning</th>\n</tr>\n<tr>\n<td></td>\n<td>Each machine holds all files</td>\n<td>Each machine has subset of files</td>\n</tr>\n<tr>\n<td>Advantages</td>\n<td>Load balancing, availibility, fault tolerance </td>\n<td>Availibility vs single server DFS;<br>Scalability with file system size;<br>single file writes simpler</td>\n</tr>\n<tr>\n<td>Disadvantages</td>\n<td>Write becomes more complex<br>- Synchronous to all<br>- or, write to one, then propagate to others<br>replicas must be reconciled e.g. Voting</td>\n<td>On failure, lose portion of data<br>load balancing harder, if not balanced, then hot-spots possible</td>\n</tr>\n</table>\n\n<ul>\n<li>Can combine both techniques<ul>\n<li>Replicate each partition!</li>\n</ul>\n</li>\n</ul>\n<hr>\n\n\n\n<h1 id=\"Distributed-Shared-Memory\"><a href=\"#Distributed-Shared-Memory\" class=\"headerlink\" title=\"Distributed Shared Memory\"></a>Distributed Shared Memory</h1><ul>\n<li>Must decide placement<ul>\n<li>place memory (pages) close to relevant processes</li>\n</ul>\n</li>\n<li>Must decide migration<ul>\n<li>when to copy memory (pages) from remote to local</li>\n</ul>\n</li>\n<li>Must decide sharing rules<ul>\n<li>ensure memory generations are properly ordered</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"“Peer”-Distribution-Applications\"><a href=\"#“Peer”-Distribution-Applications\" class=\"headerlink\" title=\"“Peer” Distribution Applications\"></a>“Peer” Distribution Applications</h2><ul>\n<li>Each node <ul>\n<li>“owns” state</li>\n<li>provide service</li>\n</ul>\n</li>\n</ul>\n<ul>\n<li>all nodes are “peers”.</li>\n</ul>\n<p>Examples: Big-data analytics, web searches, context sharing or distributed shared memory (DSM)</p>\n<h2 id=\"Distributed-Shared-Memory-DSM\"><a href=\"#Distributed-Shared-Memory-DSM\" class=\"headerlink\" title=\"Distributed Shared Memory (DSM)\"></a>Distributed Shared Memory (DSM)</h2><p>DSM is a service that manages memory accross multiple nodes so that applications that are running on top will have an illusion that they are running on a shared memory.</p>\n<ul>\n<li>Each node <ul>\n<li>“owns” state &#x3D;&gt; memory</li>\n<li>provide service<ul>\n<li>memory read&#x2F;writes from any nodes</li>\n<li>consistency protocols</li>\n</ul>\n</li>\n<li>permits scaling beyond single machine memory limits<ul>\n<li>more “shared” memory at lower cost </li>\n<li>slower overall memory access</li>\n<li>commodity interconnect technologies support this RDMA(Remote Direct Memory Access)</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"Hardware-vs-Software-DSM\"><a href=\"#Hardware-vs-Software-DSM\" class=\"headerlink\" title=\"Hardware vs Software DSM\"></a>Hardware vs Software DSM</h2><ul>\n<li>Hardware-supported (expensive!)<ul>\n<li>relies on interconnect</li>\n<li>OS manages larger physical memory </li>\n<li>NIC(Network Interface Cards) translate remote memory accesses to messages</li>\n<li>NICs involved in all aspects of memory management; support atomics..</li>\n</ul>\n</li>\n<li>Software supported<ul>\n<li>everything done by software</li>\n<li>OS,or language runtime</li>\n</ul>\n</li>\n<li>Hybrid (Software tasks in Hardware) DSM implementations<ul>\n<li>prefetch pages</li>\n<li>address translation (easier done in hardware)</li>\n<li>triggering invalidations (easier done in hardware)</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"DSM-Design-Sharing-Granularity\"><a href=\"#DSM-Design-Sharing-Granularity\" class=\"headerlink\" title=\"DSM Design : Sharing Granularity\"></a>DSM Design : Sharing Granularity</h2><ul>\n<li>cache line granularity?<ul>\n<li>overheads too high for DSM</li>\n</ul>\n</li>\n</ul>\n<ul>\n<li>variable granularity [N]</li>\n<li>page granularity [Y] (OS level)</li>\n<li>object granularity [Y] (Language runtime)<ul>\n<li>beware of false sharing E.g. x and y shared on same page</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"What-types-of-applications-use-DSM\"><a href=\"#What-types-of-applications-use-DSM\" class=\"headerlink\" title=\"What types of applications use DSM?\"></a>What types of applications use DSM?</h2><p>Application access algorithm</p>\n<ul>\n<li>Single reader&#x2F; single writer (SRSW)</li>\n<li>Multiple readers&#x2F; single writer (MRSW)</li>\n<li>Multiple reader&#x2F; Multiple writers (MRMW)</li>\n</ul>\n<h2 id=\"Performance-considerations\"><a href=\"#Performance-considerations\" class=\"headerlink\" title=\"Performance considerations\"></a>Performance considerations</h2><ul>\n<li>DSM performance metric &#x3D;&#x3D; access latency</li>\n<li>Achieving low latency through <ul>\n<li>Migration<ul>\n<li>makes sense for SRSW</li>\n<li>requires data movement</li>\n</ul>\n</li>\n<li>Replication (caching)        <ul>\n<li>more general </li>\n<li>requires consistency management</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>Hence, migration is okay for SRSW but not for all. </li>\n<li>Caching and Replication        <ul>\n<li>Copies of data to incerease data access</li>\n<li>for many concurrent writes, overheads too high but stil generally better than Migration</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"Consistency-Management\"><a href=\"#Consistency-Management\" class=\"headerlink\" title=\"Consistency Management\"></a>Consistency Management</h2><ul>\n<li>In SMP<ul>\n<li>write invalidate</li>\n<li>write update</li>\n</ul>\n</li>\n<li>coherence operations triggered in each write <ul>\n<li>overhead too high</li>\n</ul>\n</li>\n<li>Push invalidations when data is written to <ol>\n<li>Proactive</li>\n<li>Eager</li>\n<li>Pessimistic</li>\n</ol>\n</li>\n<li>Pull modifications information periodically<ol>\n<li>on demand (reactive)</li>\n<li>lazy</li>\n<li>optimistic</li>\n</ol>\n</li>\n<li>when these methods get triggered depends on the consistency model for the shared state</li>\n</ul>\n<h2 id=\"DSM-architecture-page-based-OS-supported\"><a href=\"#DSM-architecture-page-based-OS-supported\" class=\"headerlink\" title=\"DSM architecture (page-based, OS-supported)\"></a>DSM architecture (page-based, OS-supported)</h2><ul>\n<li>Page-based DSM architecture<ul>\n<li>distributed nodes, each with own local memory contribution</li>\n<li>pool of pages from all nodes</li>\n<li>each page has IO (“home” node), page frame number</li>\n</ul>\n</li>\n<li>if MRMW <ul>\n<li>need local caches for performances (latency)</li>\n<li>“home” or “manager” node drives coherence operations</li>\n<li>all nodes responsible for part if distributed memory (state) management</li>\n</ul>\n</li>\n<li>Home node    <ul>\n<li>keeps state: page accessed, modifications, caching enabled&#x2F;disabled, locked..</li>\n</ul>\n</li>\n<li>Current owner<ul>\n<li>owner may not be equal to home node</li>\n</ul>\n</li>\n<li>Explicit replicas <ul>\n<li>for load balancing, performance, or reliability<br>  home, manager node controls memory</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"DSM-metadata\"><a href=\"#DSM-metadata\" class=\"headerlink\" title=\"DSM metadata\"></a>DSM metadata</h2><p><img src=\"https://spcdn.pages.dev/blog/os/metadata.png\" alt=\"metadata.png\"></p>\n<h2 id=\"Implementing-DSMs\"><a href=\"#Implementing-DSMs\" class=\"headerlink\" title=\"Implementing DSMs\"></a>Implementing DSMs</h2><ul>\n<li>Problem : DSM must intercept access to DSM state <ul>\n<li>to send remote messages requesting access</li>\n<li>to trigger coherence messages</li>\n</ul>\n</li>\n</ul>\n<ul>\n<li>overheads should be avoided for local non-shared state (pages)</li>\n<li>dynamically engage and disengage DSM when necessary</li>\n</ul>\n<ul>\n<li>Solution : Use hardware MMU support!<ul>\n<li>trap in OS if mapping invalid or access denied</li>\n<li>remote address mapping -&gt; trap and pass to DSM to send message</li>\n<li>cached content -&gt; trap and pass to DSM to perform memory coherence operations</li>\n<li>other MMU information useful (e.g. Dirty page)</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"Consistency-model\"><a href=\"#Consistency-model\" class=\"headerlink\" title=\"Consistency model\"></a>Consistency model</h2><ul>\n<li>Agreement between memory (state) and upper software layers</li>\n<li>Memory behaves correctly if and only if software follows specific rules</li>\n<li>Memory (state) guarantees to behave correctly<ul>\n<li>access ordering</li>\n<li>propagation&#x2F; visibility of updates</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"Our-notation\"><a href=\"#Our-notation\" class=\"headerlink\" title=\"Our notation\"></a>Our notation</h3><p><img src=\"https://spcdn.pages.dev/blog/os/notation.png\" alt=\"notation.png\"></p>\n<ul>\n<li>R_m1(X) &#x3D;&gt; X was read from memory location m1</li>\n<li>W_m1(Y) &#x3D;&gt; Y was written to memory location m1</li>\n</ul>\n<h3 id=\"Strict-Consistency\"><a href=\"#Strict-Consistency\" class=\"headerlink\" title=\"Strict Consistency\"></a>Strict Consistency</h3><p>Strict Consistency &#x3D;&gt; updates visible everywhere immediately</p>\n<p><img src=\"https://spcdn.pages.dev/blog/os/strict.png\" alt=\"strict.png\"></p>\n<ul>\n<li>In practice<ul>\n<li>Even on single SMP no guarantees on order without extra locking and synchronization</li>\n<li>in DS, latency and message reorder make this even harder</li>\n<li>Hence almost impossible to guarantee strict consistency</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"Sequential-Consistency\"><a href=\"#Sequential-Consistency\" class=\"headerlink\" title=\"Sequential Consistency\"></a>Sequential Consistency</h3><p><img src=\"https://spcdn.pages.dev/blog/os/seq.png\" alt=\"seq.png\"></p>\n<p>Sequential consistency &#x3D;&gt;</p>\n<ul>\n<li>memory updates from different  processors may be arbitrarily interleaved</li>\n<li>All processes will see the same interleaving</li>\n<li>Operations from the same process always appearin order they were issued</li>\n</ul>\n<h3 id=\"Causal-Consistency\"><a href=\"#Causal-Consistency\" class=\"headerlink\" title=\"Causal Consistency\"></a>Causal Consistency</h3><p><img src=\"https://spcdn.pages.dev/blog/os/causal.png\" alt=\"causal.png\"></p>\n<ul>\n<li>For writes not causally related, “concurrent” writes doesnt gurantee.</li>\n<li>Don’t permit arbitrary ordering from same process writer</li>\n</ul>\n<h3 id=\"Weak-Consistency\"><a href=\"#Weak-Consistency\" class=\"headerlink\" title=\"Weak Consistency\"></a>Weak Consistency</h3><p><img src=\"https://spcdn.pages.dev/blog/os/weak.png\" alt=\"weak.png\"></p>\n<ul>\n<li>Use of synchronization<ul>\n<li>Synchronization point &#x3D;&gt; operations that are available (R,W,Sync)</li>\n<li>all updates prior to a sync point will be visible</li>\n<li>no guarantee what happens in between</li>\n</ul>\n</li>\n</ul>\n<p><strong>+</strong> limit data movement of coherence operations</p>\n<p><strong>-</strong> maintain extra state for additional operations</p>\n<ul>\n<li>Variations:<ul>\n<li>Single sync operation (sync)</li>\n<li>Seperate sync per surface of state (page)</li>\n<li>Seperate “entry&#x2F;acquire” vs “exit&#x2F;release” operations<hr></li>\n</ul>\n</li>\n</ul>\n",
            "tags": [
                "blog",
                "coding",
                "computer-science",
                "Operating System",
                "Placements",
                "OS"
            ]
        },
        {
            "id": "https://samirpaul1.github.io/posts/sql-joins-inner-left-right-and-full-joins/",
            "url": "https://samirpaul1.github.io/posts/sql-joins-inner-left-right-and-full-joins/",
            "title": "SQL Joins - Inner, Left, Right and Full Joins",
            "date_published": "2023-08-05T20:52:53.910Z",
            "content_html": "<p><strong>SQL Join</strong> statement is used to combine data or rows from two or more tables based on a common field between them. Different types of Joins are as follows: </p>\n<ul>\n<li>INNER JOIN</li>\n<li>LEFT JOIN</li>\n<li>RIGHT JOIN</li>\n<li>FULL JOIN</li>\n</ul>\n<p><img src=\"https://user-images.githubusercontent.com/77569653/227738791-78897c64-4c15-4d6a-b75a-656c6a59a5d2.png\" alt=\"SQL Joins\"></p>\n",
            "tags": [
                "blog",
                "coding",
                "computer-science",
                "INNER JOIN",
                "RIGHT JOIN",
                "FULL JOIN",
                "SQL",
                "SQL Joins"
            ]
        },
        {
            "id": "https://samirpaul1.github.io/posts/python-cheat-sheet-for-leetcode/",
            "url": "https://samirpaul1.github.io/posts/python-cheat-sheet-for-leetcode/",
            "title": "Python Cheat Sheet for Leetcode",
            "date_published": "2023-08-05T20:52:53.907Z",
            "content_html": "<h1 id=\"Basics\"><a href=\"#Basics\" class=\"headerlink\" title=\"Basics\"></a>Basics</h1><ul>\n<li><p>Data Types</p>\n<p>  <img src=\"https://user-images.githubusercontent.com/47276307/172329842-38f3de07-62d9-4d7d-9a19-fc576ee396a9.jpg\" alt=\"Untitled\"></p>\n</li>\n<li><p>Operators and it’s precendence</p>\n<p>  <img src=\"https://user-images.githubusercontent.com/47276307/172329850-61fc0809-a4b0-416c-848b-1c502ecb4772.jpg\" alt=\"Untitled\"></p>\n</li>\n</ul>\n<h1 id=\"Data-Structures\"><a href=\"#Data-Structures\" class=\"headerlink\" title=\"Data Structures\"></a>Data Structures</h1><p><em>Important data structures for Leetcode</em></p>\n<h2 id=\"Lists\"><a href=\"#Lists\" class=\"headerlink\" title=\"Lists\"></a>Lists</h2><blockquote>\n<p>Lists are used to store multiple items in a single variable</p>\n</blockquote>\n<ul>\n<li><p><em>Operations Time Complexities</em></p>\n<p>  <img src=\"https://user-images.githubusercontent.com/47276307/172330098-1c5f0a6e-7f80-4f4f-9be6-1d734e2c70cd.jpg\" alt=\"Untitled\"></p>\n</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nums = [1,2,3]</span><br><span class=\"line\"></span><br><span class=\"line\">nums.index(1) # returns index</span><br><span class=\"line\">nums.append(1) # appends 1</span><br><span class=\"line\">nums.insert(0,10) # inserts 10 at 0th index</span><br><span class=\"line\">nums.remove(3) # removes all instances of 3</span><br><span class=\"line\">nums.copy(1) # returns copy of the list</span><br><span class=\"line\">nums.count(1) # returns no.of times &#x27;1&#x27; is present in the list</span><br><span class=\"line\">nums.extend(someOtherList) # ...</span><br><span class=\"line\">nums.pop() # pops last element [which element to pop can also be given as optional argument]</span><br><span class=\"line\">nums.reverse() # reverses original list (nums in this case)</span><br><span class=\"line\">nums.sort() # sorts list [does NOT return sorted list]</span><br><span class=\"line\">#Python&#x27;s default sort uses Tim Sort, which is a combination of both merge sort and insertion sort.</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">It&#x27;s pretty simple really:</span><br><span class=\"line\"></span><br><span class=\"line\">a[start:stop]  # items start through stop-1</span><br><span class=\"line\">a[start:]      # items start through the rest of the array</span><br><span class=\"line\">a[:stop]       # items from the beginning through stop-1</span><br><span class=\"line\">a[:]           # a copy of the whole array</span><br><span class=\"line\">There is also the step value, which can be used with any of the above:</span><br><span class=\"line\"></span><br><span class=\"line\">a[start:stop:step] # start through not past stop, by step</span><br><span class=\"line\">The key point to remember is that the :stop value represents the first value that is not in the selected slice. So, the difference between stop and start is the number of elements selected (if step is 1, the default).</span><br><span class=\"line\"></span><br><span class=\"line\">The other feature is that start or stop may be a negative number, which means it counts from the end of the array instead of the beginning. So:</span><br><span class=\"line\"></span><br><span class=\"line\">a[-1]    # last item in the array</span><br><span class=\"line\">a[-2:]   # last two items in the array</span><br><span class=\"line\">a[:-2]   # everything except the last two items</span><br><span class=\"line\">Similarly, step may be a negative number:</span><br><span class=\"line\"></span><br><span class=\"line\">a[::-1]    # all items in the array, reversed</span><br><span class=\"line\">a[1::-1]   # the first two items, reversed</span><br><span class=\"line\">a[:-3:-1]  # the last two items, reversed</span><br><span class=\"line\">a[-3::-1]  # everything except the last two items, reversed</span><br><span class=\"line\">Python is kind to the programmer if there are fewer items than you ask for. For example, if you ask for a[:-2] and a only contains one element, you get an empty list instead of an error. Sometimes you would prefer the error, so you have to be aware that this may happen.</span><br><span class=\"line\"></span><br><span class=\"line\">Relation to slice() object</span><br><span class=\"line\">The slicing operator [] is actually being used in the above code with a slice() object using the : notation (which is only valid within []), i.e.:</span><br><span class=\"line\"></span><br><span class=\"line\">a[start:stop:step]</span><br><span class=\"line\">is equivalent to:</span><br><span class=\"line\"></span><br><span class=\"line\">a[slice(start, stop, step)]</span><br><span class=\"line\">Slice objects also behave slightly differently depending on the number of arguments, similarly to range(), i.e. both slice(stop) and slice(start, stop[, step]) are supported. To skip specifying a given argument, one might use None, so that e.g. a[start:] is equivalent to a[slice(start, None)] or a[::-1] is equivalent to a[slice(None, None, -1)].</span><br><span class=\"line\"></span><br><span class=\"line\">While the :-based notation is very helpful for simple slicing, the explicit use of slice() objects simplifies the programmatic generation of slicing.</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Dictionary\"><a href=\"#Dictionary\" class=\"headerlink\" title=\"Dictionary\"></a>Dictionary</h2><blockquote>\n<p>Dictionaries are used to store data values in key:value pairs. <em>Info about <strong>collections.Counter()</strong> available below.</em></p>\n</blockquote>\n<ul>\n<li><p><em>Operations Time Complexities</em></p>\n<p>  <img src=\"https://user-images.githubusercontent.com/47276307/172330107-e68e3228-1c76-4bfb-bb38-04d18f94d5b9.jpg\" alt=\"Untitled\"></p>\n</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dict = &#123;&#x27;a&#x27;:1,&#x27;b&#x27;:2,&#x27;c&#x27;:3&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">dict.keys() # returns list of keys of dictionary</span><br><span class=\"line\">dict.values() # returns list of values of dictionary</span><br><span class=\"line\">dict.get(&#x27;a&#x27;) # returns value for any corresponding key</span><br><span class=\"line\">dict.items() # returns [(&#x27;a&#x27;,1),(&#x27;b&#x27;,2),(&#x27;c&#x27;,3)]</span><br><span class=\"line\">dict.copy() # returns copy of the dictionary</span><br><span class=\"line\"># NOTE : items() Returns view object that will be updated with any future changes to dict</span><br><span class=\"line\">dict.pop(KEY) # pops key-value pair with that key</span><br><span class=\"line\">dict.popitem() # removes most recent pair added</span><br><span class=\"line\">dict.setDefault(KEY,DEFAULT_VALUE) # returns value of key, if key exists, else default value returned</span><br><span class=\"line\"># If the key exist, this parameter(DEFAULT_VALUE) has no effect.</span><br><span class=\"line\"># If the key does not exist, DEFAULT_VALUE becomes the key&#x27;s value. 2nd argument&#x27;s default is None.</span><br><span class=\"line\">dict.update(&#123;KEY:VALUE&#125;) # inserts pair in dictionary if not present, if present, corresponding value is overriden (not key)</span><br><span class=\"line\"># defaultdict ensures that if any element is accessed that is not present in the dictionary</span><br><span class=\"line\"># it will be created and error will not be thrown (which happens in normal dictionary)</span><br><span class=\"line\"># Also, the new element created will be of argument type, for example in the below line</span><br><span class=\"line\"># an element of type &#x27;list&#x27; will be made for a Key that does not exist</span><br><span class=\"line\">myDictionary = defaultdict(list) </span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Counter\"><a href=\"#Counter\" class=\"headerlink\" title=\"Counter\"></a>Counter</h2><blockquote>\n<p>Python Counter is a container that will hold the count of each of the elements present in the container. The counter is a sub-class available inside the dictionary class. Specifically used for element frequencies</p>\n</blockquote>\n<p><em>Pretty similar to dictionary, infact I use</em> <strong>defaultdict(int)</strong> <em>most of the time</em></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">from collections import Counter #(capital &#x27;C&#x27;)</span><br><span class=\"line\"># can also be used as &#x27;collections.Counter()&#x27; in code</span><br><span class=\"line\"></span><br><span class=\"line\">list1 = [&#x27;x&#x27;,&#x27;y&#x27;,&#x27;z&#x27;,&#x27;x&#x27;,&#x27;x&#x27;,&#x27;x&#x27;,&#x27;y&#x27;, &#x27;z&#x27;]</span><br><span class=\"line\"></span><br><span class=\"line\"># Initialization</span><br><span class=\"line\">Counter(list1) # =&gt; Counter(&#123;&#x27;x&#x27;: 4, &#x27;y&#x27;: 2, &#x27;z&#x27;: 2&#125;)</span><br><span class=\"line\">Counter(&quot;Welcome to Guru99 Tutorials!&quot;) # =&gt; Counter(&#123;&#x27;o&#x27;: 3, &#x27; &#x27;: 3, &#x27;u&#x27;: 3, &#x27;e&#x27;: 2.....&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"># Updating</span><br><span class=\"line\">counterObject = collections.Counter(list1)</span><br><span class=\"line\">counterObject.keys() = [ &#x27;x&#x27; , &#x27;y&#x27; , &#x27;z&#x27; ]</span><br><span class=\"line\">most_common_element = counterObject.most_common(1) # [(&#x27;x&#x27;, 4)]</span><br><span class=\"line\">counterObject.update(&quot;some string&quot;) # =&gt; Counter(&#123;&#x27;o&#x27;: 3, &#x27;u&#x27;: 3, &#x27;e&#x27;: 2, &#x27;s&#x27;: 2&#125;)</span><br><span class=\"line\">counterObject[&#x27;s&#x27;] += 1 # Increase/Decrease frequency</span><br><span class=\"line\"></span><br><span class=\"line\"># Accessing</span><br><span class=\"line\">frequency_of_s = counterObject[&#x27;s&#x27;]</span><br><span class=\"line\"></span><br><span class=\"line\"># Deleting</span><br><span class=\"line\">del couterObject[&#x27;s&#x27;]</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Deque\"><a href=\"#Deque\" class=\"headerlink\" title=\"Deque\"></a>Deque</h2><blockquote>\n<p>A double-ended queue, or deque, has the feature of adding and removing elements from either end.</p>\n</blockquote>\n<ul>\n<li><p><em>Operations Time Complexities</em></p>\n<p>  <img src=\"https://user-images.githubusercontent.com/47276307/172330115-78500420-3276-4e45-8ce3-fd668b7eb14e.jpg\" alt=\"Untitled\"></p>\n</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">from collections import deque</span><br><span class=\"line\"></span><br><span class=\"line\">queue = deque([&#x27;name&#x27;,&#x27;age&#x27;,&#x27;DOB&#x27;])</span><br><span class=\"line\"></span><br><span class=\"line\">queue.append(&quot;append_from_right&quot;) # Append from right</span><br><span class=\"line\">queue.pop() # Pop from right</span><br><span class=\"line\"></span><br><span class=\"line\">queue.appendleft(&quot;fromLeft&quot;) # Append from left</span><br><span class=\"line\">queue.popleft() # Pop from left</span><br><span class=\"line\"></span><br><span class=\"line\">queue.index(element,begin_index,end_index) # Returns first index of element b/w the 2 indices.</span><br><span class=\"line\">queue.insert(index,element)</span><br><span class=\"line\">queue.remove() # removes first occurrance</span><br><span class=\"line\">queue.count() # obvious</span><br><span class=\"line\"></span><br><span class=\"line\">queue.reverse() # reverses order of queue elements</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Heapq\"><a href=\"#Heapq\" class=\"headerlink\" title=\"Heapq\"></a>Heapq</h2><blockquote>\n<p>As we know the Heap Data Structure is used to implement the Priority Queue ADT. In python we can directly access a Priority Queue implemented using a Heap by using the <strong>Heapq</strong> library&#x2F;module.</p>\n</blockquote>\n<ul>\n<li><p><em>Operations Time Complexities</em></p>\n<p>  <img src=\"https://user-images.githubusercontent.com/47276307/172330122-29cf0756-89bc-4654-a4e8-4e318156c7d1.jpg\" alt=\"Untitled\"></p>\n</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import heapq # (minHeap by Default)</span><br><span class=\"line\"></span><br><span class=\"line\">nums = [5, 7, 9, 1, 3]</span><br><span class=\"line\"></span><br><span class=\"line\">heapq.heapify(nums) # converts list into heap. Can be converted back to list by list(nums).</span><br><span class=\"line\">heapq.heappush(nums,element) # Push an element into the heap</span><br><span class=\"line\">heapq.heappop(nums) # Pop an element from the heap</span><br><span class=\"line\">#heappush(heap, ele) :- This function is used to insert the element mentioned in its arguments into heap. The order is adjusted, so as heap structure is maintained.</span><br><span class=\"line\">#heappop(heap) :- This function is used to remove and return the smallest element from heap. The order is adjusted, so as heap structure is maintained.</span><br><span class=\"line\"></span><br><span class=\"line\"># Other Methods Available in the Library</span><br><span class=\"line\"># Used to return the k largest elements from the iterable specified </span><br><span class=\"line\"># The key is a function with that accepts single element from iterable,</span><br><span class=\"line\"># and the returned value from that function is then used to rank that element in the heap</span><br><span class=\"line\">heapq.nlargest(k, iterable, key = fun)</span><br><span class=\"line\">heapq.nsmallest(k, iterable, key = fun)</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Sets\"><a href=\"#Sets\" class=\"headerlink\" title=\"Sets\"></a>Sets</h2><blockquote>\n<p>A set is a collection which is unordered, immutable, unindexed, No Duplicates.</p>\n</blockquote>\n<ul>\n<li><p><em>Operations Time Complexities</em></p>\n<p>  <img src=\"https://user-images.githubusercontent.com/47276307/172330132-7a785f5f-bbc6-43b9-b82f-794190813787.jpg\" alt=\"Untitled\"></p>\n</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">set = &#123;1,2,3&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">set.add(item)</span><br><span class=\"line\">set.remove(item)</span><br><span class=\"line\">set.discard(item) | set.remove(item) # removes item | remove will throw error if item is not there, discard will not</span><br><span class=\"line\">set.pop() # removes random item (since unordered)</span><br><span class=\"line\"></span><br><span class=\"line\">set.isdisjoint(anotherSet) # returns true if no common elements</span><br><span class=\"line\">set.issubset(anotherSet) # returns true if all elements from anotherSet is present in original set</span><br><span class=\"line\">set.issuperset(anotherSet) # returns true if all elements from original set is present in anotherSet</span><br><span class=\"line\"></span><br><span class=\"line\">set.difference(anotherSet) # returns set containing items ONLY in first set</span><br><span class=\"line\">set.difference_update(anotherSet) # removes common elements from first set [no new set is created or returned]</span><br><span class=\"line\">set.intersection(anotherSet) # returns new set with common elements</span><br><span class=\"line\">set.intersection_update(anotherSet) # modifies first set keeping only common elements</span><br><span class=\"line\">set.symmetric_difference(anotherSet) # returns set containing all non-common elements of both sets</span><br><span class=\"line\">set.symmetric_difference_update(anotherSet) # same as symmetric_difference but changes are made on original set</span><br><span class=\"line\"></span><br><span class=\"line\">set.union(anotherSet) # ...</span><br><span class=\"line\">set.update(anotherSet) # adds anotherSet without duplicate</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Tuples\"><a href=\"#Tuples\" class=\"headerlink\" title=\"Tuples\"></a>Tuples</h2><blockquote>\n<p>A tuple is a collection which is ordered, unchangeable and can contain duplicate values</p>\n</blockquote>\n<ul>\n<li><p><em>Operations Time Complexities</em></p>\n<p>  Similar to list</p>\n</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">tuple = (1,2,3,1)</span><br><span class=\"line\"></span><br><span class=\"line\">tuple.count(1) # returns occurence of an item</span><br><span class=\"line\">tuple.index(1) # returns index of 1 in array</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Strings\"><a href=\"#Strings\" class=\"headerlink\" title=\"Strings\"></a>Strings</h2><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># ** split Function **</span><br><span class=\"line\">#The split() method breaks up a string at the specified separator and returns a list of strings.</span><br><span class=\"line\">text = &#x27;Python is a fun programming language&#x27;</span><br><span class=\"line\"></span><br><span class=\"line\"># split the text from space</span><br><span class=\"line\">print(text.split(&#x27; &#x27;))</span><br><span class=\"line\"></span><br><span class=\"line\">#convert string to list</span><br><span class=\"line\">s=&quot;abcd&quot;</span><br><span class=\"line\">s=list(s)</span><br><span class=\"line\"></span><br><span class=\"line\"># Output: [&#x27;Python&#x27;, &#x27;is&#x27;, &#x27;a&#x27;, &#x27;fun&#x27;, &#x27;programming&#x27;, &#x27;language&#x27;]</span><br><span class=\"line\"></span><br><span class=\"line\"># ** count Function **</span><br><span class=\"line\">#The count() method returns the number of occurrences of a substring in the given string.</span><br><span class=\"line\">#Example</span><br><span class=\"line\">message = &#x27;python is popular programming language&#x27;</span><br><span class=\"line\"># number of occurrence of &#x27;p&#x27;</span><br><span class=\"line\">print(&#x27;Number of occurrence of p:&#x27;, message.count(&#x27;p&#x27;)) # Output: Number of occurrence of p: 4</span><br><span class=\"line\"></span><br><span class=\"line\">#The isnumeric() method returns True if all characters in a string are numeric characters. If not, it returns False.</span><br><span class=\"line\">s = &#x27;1242323&#x27;</span><br><span class=\"line\">print(s.isnumeric()) #Output: True</span><br><span class=\"line\"></span><br><span class=\"line\">#The find() method returns the index of first occurrence of the substring (if found). If not found, it returns -1.</span><br><span class=\"line\"># check the index of &#x27;fun&#x27;</span><br><span class=\"line\">print(message.find(&#x27;fun&#x27;)) # Output: 12</span><br><span class=\"line\"></span><br><span class=\"line\">#The isalnum() method returns True if all characters in the string are alphanumeric (either alphabets or numbers). If not, it returns False.</span><br><span class=\"line\"></span><br><span class=\"line\">name = &quot;M3onica Gell22er &quot;</span><br><span class=\"line\">print(name.isalnum()) # Output : False</span><br><span class=\"line\"></span><br><span class=\"line\">#The isalpha() method returns True if all characters in the string are alphabets. If not, it returns False</span><br><span class=\"line\">name = &quot;Monica&quot;</span><br><span class=\"line\">print(name.isalpha()) #output true</span><br><span class=\"line\"></span><br><span class=\"line\">#other imp functions</span><br><span class=\"line\">string.strip([chars]) #The strip() method returns a copy of the string by removing both the leading and the trailing characters (based on the string argument passed).</span><br><span class=\"line\">string.upper() #he upper() method converts all lowercase characters in a string into uppercase characters and returns it.</span><br><span class=\"line\">string.lower() #The lower() method converts all uppercase characters in a string into lowercase characters and returns it.</span><br><span class=\"line\">string.islower()</span><br><span class=\"line\">string.isdigit()</span><br><span class=\"line\">string.isupper()</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"Built-in-or-Library-functions\"><a href=\"#Built-in-or-Library-functions\" class=\"headerlink\" title=\"Built-in or Library functions\"></a>Built-in or Library functions</h1><ul>\n<li><p>Functions to iterate over list &#x2F; other iterable (tuple, dictionaries)</p>\n  <figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">** map(fun, iter) **</span><br><span class=\"line\">#fun : It is a function to which map passes each element of given iterable.</span><br><span class=\"line\">#iter : It is a iterable which is to be mapped.</span><br><span class=\"line\"></span><br><span class=\"line\">** zip(list,list) **</span><br><span class=\"line\">for elem1,elem2 in zip(firstList,secondList):</span><br><span class=\"line\">\t# will merge both lists and produce tuples with both elements</span><br><span class=\"line\">\t# Tuples will stop at shortest list (in case of both lists having different len)</span><br><span class=\"line\">#Example</span><br><span class=\"line\">&#x27;&#x27;&#x27;</span><br><span class=\"line\">a = (&quot;John&quot;, &quot;Charles&quot;, &quot;Mike&quot;)</span><br><span class=\"line\">b = (&quot;Jenny&quot;, &quot;Christy&quot;, &quot;Monica&quot;)</span><br><span class=\"line\"></span><br><span class=\"line\">x = zip(a, b)</span><br><span class=\"line\"></span><br><span class=\"line\">#use the tuple() function to display a readable version of the result:</span><br><span class=\"line\"></span><br><span class=\"line\">print(tuple(x))</span><br><span class=\"line\">o/p: ((&#x27;John&#x27;, &#x27;Jenny&#x27;), (&#x27;Charles&#x27;, &#x27;Christy&#x27;), (&#x27;Mike&#x27;, &#x27;Monica&#x27;))</span><br><span class=\"line\">&#x27;&#x27;&#x27;</span><br><span class=\"line\"></span><br><span class=\"line\">** any(list) ** [ OPPOSITE IS =&gt; ** all() ** ]</span><br><span class=\"line\">any(someList) # returns true if ANY element in list is true [any string, all numbers except 0 also count as true]</span><br><span class=\"line\"></span><br><span class=\"line\">** enumerate(list|tuple) ** </span><br><span class=\"line\"># [when you need to attach indexes to lists or tuples ]</span><br><span class=\"line\">enumerate(anyList) # [&#x27;a&#x27;,&#x27;b&#x27;,&#x27;c&#x27;] =&gt; [(0, &#x27;a&#x27;), (1, &#x27;b&#x27;), (2, &#x27;c&#x27;)]</span><br><span class=\"line\"></span><br><span class=\"line\">** filter(function|list) **</span><br><span class=\"line\">filter(myFunction,list) # returns list with elements that returned true when passed in function</span><br><span class=\"line\"></span><br><span class=\"line\">***************** import bisect ***********************</span><br><span class=\"line\"></span><br><span class=\"line\">** bisect.bisect(list,number,begin,end) ** O(log(n))</span><br><span class=\"line\"># [ returns the index where the element should be inserted </span><br><span class=\"line\">#\t\tsuch that sorting order is maintained ]</span><br><span class=\"line\">a = [1,2,4]</span><br><span class=\"line\">bisect.bisect(a,3,0,4) # [1,2,4] =&gt; 2 coz &#x27;3&#x27; should be inserted in 2nd index to maintain sorting order</span><br><span class=\"line\"></span><br><span class=\"line\"># Other variants of this functions are =&gt; bisect.bisect_left() | bisect.bisect_right()</span><br><span class=\"line\"># they have same arguments. Suppose the element we want to insert is already present</span><br><span class=\"line\"># in the sorting list, the bisect_left() will return index left of the existing number</span><br><span class=\"line\"># and the bisect_right() or bisect() will return index right to the existing number</span><br><span class=\"line\"></span><br><span class=\"line\"># ** bisect.insort(list,number,begin,end)       ** O(n) to insert</span><br><span class=\"line\"># ** bisect.insort_right(list,number,begin,end) ** </span><br><span class=\"line\"># ** bisect.insort_left(list,number,begin,end)  ** </span><br><span class=\"line\"></span><br><span class=\"line\">The above 3 functions are exact same of bisect.bisect(), the only difference</span><br><span class=\"line\">is that they return the sorted list after inserting and not the index. The</span><br><span class=\"line\">left() right() logic is also same as above.</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>Getting ASCII value of a character</p>\n  <figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">** ord(str) **</span><br><span class=\"line\"># returns ascii value of the character , Example ord(&quot;a&quot;) = 97</span><br><span class=\"line\">** chr(int) ** </span><br><span class=\"line\">#return character of given ascii value , Example chr(97) = &quot;a&quot;</span><br></pre></td></tr></table></figure></li>\n</ul>\n<h1 id=\"Clean-Code-Tips\"><a href=\"#Clean-Code-Tips\" class=\"headerlink\" title=\"Clean Code Tips\"></a>Clean Code Tips</h1><ul>\n<li><p><strong>Doc Strings -</strong> Documentation for your functions in the interview to look slic 😎</p>\n<p>  A docstring is short for documentation string.</p>\n<p>  Python docstrings (documentation strings) are the <a href=\"https://www.programiz.com/python-programming/string\">string</a> literals that appear right after the definition of a function, method, class, or module.</p>\n<p>  Triple quotes are used while writing docstrings. For example:</p>\n  <figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">def double(num):</span><br><span class=\"line\">    &quot;&quot;&quot;Function to double the value&quot;&quot;&quot;</span><br><span class=\"line\">    return 2*num</span><br></pre></td></tr></table></figure>\n<p>  Docstrings appear right after the definition of a function, class, or a module. This separates docstrings from multiline comments using triple quotes.</p>\n<p>  The docstrings are associated with the object as their <code>__doc__</code> attribute.</p>\n<p>  So, we can access the docstrings of the above function with the following lines of code:</p>\n  <figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">def double(num):</span><br><span class=\"line\">    &quot;&quot;&quot;Function to double the value&quot;&quot;&quot;</span><br><span class=\"line\">    return 2*num</span><br><span class=\"line\">print(double.__doc__)</span><br></pre></td></tr></table></figure>\n<p>  <strong>Output</strong></p>\n  <figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Function to double the value</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>Use <strong>Assert keyword</strong> in python for testing edge cases. Looks more professional.</p>\n<h3 id=\"Definition-and-Usage\"><a href=\"#Definition-and-Usage\" class=\"headerlink\" title=\"Definition and Usage\"></a>Definition and Usage</h3><p>  The <code>assert</code> keyword is used when debugging code.</p>\n<p>  The <code>assert</code> keyword lets you test if a condition in your code returns True, if not, the program will raise an AssertionError.</p>\n<p>  You can write a message to be written if the code returns False, check the example below.</p>\n  <figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">x = &quot;hello&quot;</span><br><span class=\"line\"></span><br><span class=\"line\">#if condition returns False, AssertionError is raised:</span><br><span class=\"line\">assert x == &quot;goodbye&quot;, &quot;x should be &#x27;hello&#x27;&quot;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong>ALWAYS</strong> be aware of any code snippet that is being <strong>REPEATED</strong> in your solution. <strong>MODULARITY</strong> #1 Priority. Refactoring is also an important part of interview.</p>\n<ul>\n<li>This is usually asked as a follow up after coding the solution. <em>Are there any changes you want to make to this solution?</em></li>\n</ul>\n</li>\n</ul>\n<h1 id=\"Miscellaneous\"><a href=\"#Miscellaneous\" class=\"headerlink\" title=\"Miscellaneous\"></a>Miscellaneous</h1><ul>\n<li><p>How to take multiple line input in python?</p>\n<ul>\n<li>Using split() method</li>\n<li>Using List comprehension</li>\n</ul>\n<p>  <strong>Syntax :</strong></p>\n  <figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">input().split(separator, maxsplit)</span><br></pre></td></tr></table></figure>\n<h2 id=\"Example\"><a href=\"#Example\" class=\"headerlink\" title=\"Example\"></a>Example</h2>  <figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># Python program showing how to</span><br><span class=\"line\"># multiple input using split</span><br><span class=\"line\"> </span><br><span class=\"line\"># taking two inputs at a time</span><br><span class=\"line\">x, y = input(&quot;Enter a two value: &quot;).split()</span><br><span class=\"line\">print(&quot;Number of boys: &quot;, x)</span><br><span class=\"line\">print(&quot;Number of girls: &quot;, y)</span><br><span class=\"line\">print()</span><br><span class=\"line\"> </span><br><span class=\"line\"># taking three inputs at a time</span><br><span class=\"line\">x, y, z = input(&quot;Enter a three value: &quot;).split()</span><br><span class=\"line\">print(&quot;Total number of students: &quot;, x)</span><br><span class=\"line\">print(&quot;Number of boys is : &quot;, y)</span><br><span class=\"line\">print(&quot;Number of girls is : &quot;, z)</span><br><span class=\"line\">print()</span><br><span class=\"line\"> </span><br><span class=\"line\"># taking two inputs at a time</span><br><span class=\"line\">a, b = input(&quot;Enter a two value: &quot;).split()</span><br><span class=\"line\">print(&quot;First number is &#123;&#125; and second number is &#123;&#125;&quot;.format(a, b))</span><br><span class=\"line\">print()</span><br><span class=\"line\"> </span><br><span class=\"line\"># taking multiple inputs at a time</span><br><span class=\"line\"># and type casting using list() function</span><br><span class=\"line\">x = list(map(int, input(&quot;Enter a multiple value: &quot;).split()))</span><br><span class=\"line\">print(&quot;List of students: &quot;, x)</span><br></pre></td></tr></table></figure>\n  <figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># Python program showing</span><br><span class=\"line\"># how to take multiple input</span><br><span class=\"line\"># using List comprehension</span><br><span class=\"line\"> </span><br><span class=\"line\"># taking two input at a time</span><br><span class=\"line\">x, y = [int(x) for x in input(&quot;Enter two value: &quot;).split()]</span><br><span class=\"line\">print(&quot;First Number is: &quot;, x)</span><br><span class=\"line\">print(&quot;Second Number is: &quot;, y)</span><br><span class=\"line\">print()</span><br><span class=\"line\"> </span><br><span class=\"line\"># taking three input at a time</span><br><span class=\"line\">x, y, z = [int(x) for x in input(&quot;Enter three value: &quot;).split()]</span><br><span class=\"line\">print(&quot;First Number is: &quot;, x)</span><br><span class=\"line\">print(&quot;Second Number is: &quot;, y)</span><br><span class=\"line\">print(&quot;Third Number is: &quot;, z)</span><br><span class=\"line\">print()</span><br><span class=\"line\"> </span><br><span class=\"line\"># taking two inputs at a time</span><br><span class=\"line\">x, y = [int(x) for x in input(&quot;Enter two value: &quot;).split()]</span><br><span class=\"line\">print(&quot;First number is &#123;&#125; and second number is &#123;&#125;&quot;.format(x, y))</span><br><span class=\"line\">print()</span><br><span class=\"line\"> </span><br><span class=\"line\"># taking multiple inputs at a time</span><br><span class=\"line\">x = [int(x) for x in input(&quot;Enter multiple value: &quot;).split()]</span><br><span class=\"line\">print(&quot;Number of list is: &quot;, x)</span><br><span class=\"line\"></span><br><span class=\"line\"># taking multiple inputs at a time separated by comma</span><br><span class=\"line\">x = [int(x) for x in input(&quot;Enter multiple value: &quot;).split(&quot;,&quot;)]</span><br><span class=\"line\">print(&quot;Number of list is: &quot;, x)</span><br></pre></td></tr></table></figure>\n  <figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Syntax :</span><br><span class=\"line\">math.log(a,Base)</span><br><span class=\"line\">Parameters :a : The numeric value</span><br><span class=\"line\">Base :  Base to which the logarithm has to be computed.</span><br><span class=\"line\">Return Value :</span><br><span class=\"line\">Returns natural log if 1 argument is passed and log with</span><br><span class=\"line\">specified base if 2 arguments are passed.</span><br><span class=\"line\">Exceptions :</span><br><span class=\"line\">Raises ValueError is a negative no. is passed as argument.</span><br></pre></td></tr></table></figure>\n  <figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import math</span><br><span class=\"line\">  </span><br><span class=\"line\"># Printing the log base e of 14</span><br><span class=\"line\">print (&quot;Natural logarithm of 14 is : &quot;, end=&quot;&quot;)</span><br><span class=\"line\">print (math.log(14))</span><br><span class=\"line\">  </span><br><span class=\"line\"># Printing the log base 5 of 14</span><br><span class=\"line\">print (&quot;Logarithm base 5 of 14 is : &quot;, end=&quot;&quot;)</span><br><span class=\"line\">print (math.log(14,5))</span><br></pre></td></tr></table></figure>\n<ul>\n<li>Finding the ceiling and the floor value<ul>\n<li>Ceil value means the smallest integral value greater than the number and the floor value means the greatest integral value smaller than the number. This can be easily calculated using the ceil() and floor() method respectively.</li>\n</ul>\n</li>\n</ul>\n  <figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># Python code to demonstrate the working of</span><br><span class=\"line\"># ceil() and floor()</span><br><span class=\"line\"> </span><br><span class=\"line\"># importing &quot;math&quot; for mathematical operations</span><br><span class=\"line\">import math</span><br><span class=\"line\"> </span><br><span class=\"line\">a = 2.3</span><br><span class=\"line\"> </span><br><span class=\"line\"># returning the ceil of 2.3 (i.e 3)</span><br><span class=\"line\">print (&quot;The ceil of 2.3 is : &quot;, end=&quot;&quot;)</span><br><span class=\"line\">print (math.ceil(a))</span><br><span class=\"line\"> </span><br><span class=\"line\"># returning the floor of 2.3 (i.e 2)</span><br><span class=\"line\">print (&quot;The floor of 2.3 is : &quot;, end=&quot;&quot;)</span><br><span class=\"line\">print (math.floor(a))</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<ul>\n<li>Other Important functions</li>\n</ul>\n  <figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#Constants</span><br><span class=\"line\"># Print the value of Euler e (2.718281828459045)</span><br><span class=\"line\">print (math.e)</span><br><span class=\"line\"># Print the value of pi (3.141592653589793)</span><br><span class=\"line\">print (math.pi)</span><br><span class=\"line\">print (math.gcd(b, a))</span><br><span class=\"line\">print (pow(3,4))</span><br><span class=\"line\"># print the square root of 4</span><br><span class=\"line\">print(math.sqrt(4))</span><br><span class=\"line\">a = math.pi/6</span><br><span class=\"line\">b = 30</span><br><span class=\"line\"> </span><br><span class=\"line\"># returning the converted value from radians to degrees</span><br><span class=\"line\">print (&quot;The converted value from radians to degrees is : &quot;, end=&quot;&quot;)</span><br><span class=\"line\">print (math.degrees(a))</span><br><span class=\"line\"> </span><br><span class=\"line\"># returning the converted value from degrees to radians</span><br><span class=\"line\">print (&quot;The converted value from degrees to radians is : &quot;, end=&quot;&quot;)</span><br><span class=\"line\">print (math.radians(b))</span><br></pre></td></tr></table></figure>\n  <figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">** bin(int) **</span><br><span class=\"line\">bin(anyNumber) # Returns binary version of number</span><br><span class=\"line\"></span><br><span class=\"line\">** divmod(int,int) **</span><br><span class=\"line\">divmod(dividend,divisor) # returns tuple like (quotient, remainder)</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h2 id=\"How-the-custom-comparator-works\"><a href=\"#How-the-custom-comparator-works\" class=\"headerlink\" title=\"How the custom comparator works\"></a>How the custom comparator works</h2><p>  When providing a custom comparator, it should generally return an integer&#x2F;float value that follows the following pattern (as with most other programming languages and frameworks):</p>\n<ul>\n<li>return a negative value (<code>&lt; 0</code>) when the left item should be sorted <em>before</em> the right item</li>\n<li>return a positive value (<code>&gt; 0</code>) when the left item should be sorted <em>after</em> the right item</li>\n<li>return <code>0</code> when both the left and the right item have the same weight and should be ordered “equally” without precedence</li>\n</ul>\n  <figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">from functools import cmp_to_key</span><br><span class=\"line\">sorted(mylist, key=cmp_to_key(compare))</span><br><span class=\"line\"></span><br><span class=\"line\">#Example</span><br><span class=\"line\">def compare(item1, item2):</span><br><span class=\"line\">    if fitness(item1) &lt; fitness(item2):</span><br><span class=\"line\">        return -1</span><br><span class=\"line\">    elif fitness(item1) &gt; fitness(item2):</span><br><span class=\"line\">        return 1</span><br><span class=\"line\">    else:</span><br><span class=\"line\">        return 0</span><br></pre></td></tr></table></figure></li>\n</ul>\n<blockquote>\n<p>Python integer division behaves differently with -ve numbers ex: -3&#x2F;&#x2F;2 will give -2 answer instead of -1 so always use int(-3&#x2F;2) for integer division in problems</p>\n</blockquote>\n<h1 id=\"Resources\"><a href=\"#Resources\" class=\"headerlink\" title=\"Resources\"></a>Resources</h1><p><a href=\"https://betterprogramming.pub/modulo-operation-with-negative-numbers-in-python-38cb7256bb32\">The Modulo Operation (%) With Negative Numbers in Python</a></p>\n<h3 id=\"Cheat-Sheet-PDF\"><a href=\"#Cheat-Sheet-PDF\" class=\"headerlink\" title=\"Cheat Sheet PDF\"></a>Cheat Sheet PDF</h3><p><a href=\"https://drive.google.com/file/d/1EojiCPYkyLi0f5DYW4UF3Lwp-Pwihr7q/view?usp=sharing\"><strong>Click Here</strong></a></p>\n",
            "tags": [
                "blog",
                "coding",
                "computer-science",
                "Python Cheat Sheet",
                "Leetcode"
            ]
        },
        {
            "id": "https://samirpaul1.github.io/posts/leetcode-greedy-for-beginners/",
            "url": "https://samirpaul1.github.io/posts/leetcode-greedy-for-beginners/",
            "title": "LeetCode Greedy for Beginners",
            "date_published": "2023-08-05T20:52:53.905Z",
            "content_html": "<p>Greedy for practice:</p>\n<p>Sharing good Greedy problems for practice:<br>List: <a href=\"https://leetcode.com/list/xyehq5j6\">https://leetcode.com/list/xyehq5j6</a></p>\n<p><strong>Sort&#x2F;Array</strong><br><a href=\"https://leetcode.com/problems/jump-game/\">https://leetcode.com/problems/jump-game/</a><br><a href=\"https://leetcode.com/problems/jump-game-ii/\">https://leetcode.com/problems/jump-game-ii/</a><br><a href=\"https://leetcode.com/problems/gas-station/\">https://leetcode.com/problems/gas-station/</a><br><a href=\"https://leetcode.com/problems/candy/\">https://leetcode.com/problems/candy/</a><br><a href=\"https://leetcode.com/problems/remove-k-digits/\">https://leetcode.com/problems/remove-k-digits/</a><br><a href=\"https://leetcode.com/problems/wiggle-subsequence/\">https://leetcode.com/problems/wiggle-subsequence/</a><br><a href=\"https://leetcode.com/problems/assign-cookies/\">https://leetcode.com/problems/assign-cookies/</a><br><a href=\"https://leetcode.com/problems/boats-to-save-people/\">https://leetcode.com/problems/boats-to-save-people/</a><br><a href=\"https://leetcode.com/problems/bag-of-tokens/\">https://leetcode.com/problems/bag-of-tokens/</a><br><a href=\"https://leetcode.com/problems/number-of-burgers-with-no-waste-of-ingredients/\">https://leetcode.com/problems/number-of-burgers-with-no-waste-of-ingredients/</a><br><a href=\"https://leetcode.com/problems/queue-reconstruction-by-height/\">https://leetcode.com/problems/queue-reconstruction-by-height/</a><br><a href=\"https://leetcode.com/problems/play-with-chips/\">https://leetcode.com/problems/play-with-chips/</a><br><a href=\"https://leetcode.com/problems/previous-permutation-with-one-swap/\">https://leetcode.com/problems/previous-permutation-with-one-swap/</a><br><a href=\"https://leetcode.com/problems/lemonade-change/\">https://leetcode.com/problems/lemonade-change/</a><br><a href=\"https://leetcode.com/problems/bag-of-tokens/\">https://leetcode.com/problems/bag-of-tokens/</a></p>\n<p><strong>Hash&#x2F;Multi-set:</strong><br><a href=\"https://leetcode.com/problems/task-scheduler/\">https://leetcode.com/problems/task-scheduler/</a><br><a href=\"https://leetcode.com/problems/partition-labels/\">https://leetcode.com/problems/partition-labels/</a><br><a href=\"https://leetcode.com/problems/car-pooling/\">https://leetcode.com/problems/car-pooling/</a><br><a href=\"https://leetcode.com/problems/divide-array-in-sets-of-k-consecutive-numbers/\">https://leetcode.com/problems/divide-array-in-sets-of-k-consecutive-numbers/</a><br><a href=\"https://leetcode.com/problems/group-the-people-given-the-group-size-they-belong-to/\">https://leetcode.com/problems/group-the-people-given-the-group-size-they-belong-to/</a><br><a href=\"https://leetcode.com/problems/cinema-seat-allocation/\">https://leetcode.com/problems/cinema-seat-allocation/</a><br><a href=\"https://leetcode.com/problems/construct-k-palindrome-strings/\">https://leetcode.com/problems/construct-k-palindrome-strings/</a><br><a href=\"https://leetcode.com/problems/advantage-shuffle/\">https://leetcode.com/problems/advantage-shuffle/</a></p>\n<p><strong>Strings:</strong><br><a href=\"https://leetcode.com/problems/reorganize-string/\">https://leetcode.com/problems/reorganize-string/</a><br><a href=\"https://leetcode.com/problems/string-without-aaa-or-bbb/\">https://leetcode.com/problems/string-without-aaa-or-bbb/</a><br><a href=\"https://leetcode.com/problems/check-if-a-string-can-break-another-string/\">https://leetcode.com/problems/check-if-a-string-can-break-another-string/</a><br><a href=\"https://leetcode.com/problems/remove-duplicate-letters/\">https://leetcode.com/problems/remove-duplicate-letters/</a></p>\n<p><strong>Heap:</strong><br><a href=\"https://leetcode.com/problems/last-stone-weight/\">https://leetcode.com/problems/last-stone-weight/</a><br><a href=\"https://leetcode.com/problems/reduce-array-size-to-the-half/\">https://leetcode.com/problems/reduce-array-size-to-the-half/</a></p>\n<p><strong>Stack:</strong><br><a href=\"https://leetcode.com/problems/minimum-add-to-make-parentheses-valid/\">https://leetcode.com/problems/minimum-add-to-make-parentheses-valid/</a></p>\n<p><strong>Sharing solutions for little tricky problems</strong>:</p>\n<p><a href=\"https://leetcode.com/problems/divide-array-in-sets-of-k-consecutive-numbers/\">https://leetcode.com/problems/divide-array-in-sets-of-k-consecutive-numbers/</a></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">class Solution &#123;</span><br><span class=\"line\">public:</span><br><span class=\"line\">\tbool isPossibleDivide(vector&lt;int&gt;&amp; nums, int k) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\tint n = nums.size();</span><br><span class=\"line\">\t\tif (n % k != 0) return false;</span><br><span class=\"line\">\t\tint ssize = n/k;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\tmap&lt;int, int&gt;hm;</span><br><span class=\"line\">\t\tfor (int i = 0; i &lt; n; i++)</span><br><span class=\"line\">\t\t\thm[nums[i]]++;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\tfor (auto it = hm.begin(); it != hm.end(); it++) &#123;</span><br><span class=\"line\">\t\t\tif (hm[it-&gt;first] &gt; 0) &#123;</span><br><span class=\"line\">\t\t\t\tfor (int i = k-1; i &gt;= 0; i--) &#123;</span><br><span class=\"line\">\t\t\t\t\thm[it-&gt;first+i] -= hm[it-&gt;first];</span><br><span class=\"line\">\t\t\t\t\tif (hm[it-&gt;first+i] &lt; 0)</span><br><span class=\"line\">\t\t\t\t\t\treturn false;</span><br><span class=\"line\">\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\treturn true;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<p><a href=\"https://leetcode.com/problems/car-pooling/\">https://leetcode.com/problems/car-pooling/</a></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">class Solution &#123;</span><br><span class=\"line\">public:</span><br><span class=\"line\">\tbool carPooling(vector&lt;vector&lt;int&gt;&gt;&amp; trips, int capacity) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\tint trip_len = 1001;</span><br><span class=\"line\">\t\tvector&lt;int&gt;stops(trip_len, 0);</span><br><span class=\"line\"></span><br><span class=\"line\">\t\tfor (int i = 0; i &lt; trips.size(); i++) &#123;</span><br><span class=\"line\">\t\t\tstops[trips[i][1]] += trips[i][0];</span><br><span class=\"line\">\t\t\tstops[trips[i][2]] -= trips[i][0];</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\tfor (int i = 0; i &lt; trip_len; i++) &#123;</span><br><span class=\"line\">\t\t\tif (i != 0) stops[i] += stops[i-1];</span><br><span class=\"line\">\t\t\tif (stops[i] &gt; capacity)</span><br><span class=\"line\">\t\t\t\treturn false;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">\t\treturn true;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<p><a href=\"https://leetcode.com/problems/reorganize-string/\">https://leetcode.com/problems/reorganize-string/</a></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">class Solution &#123;</span><br><span class=\"line\">\tstatic bool compare(pair&lt;char, int&gt;p1, pair&lt;char, int&gt;p2) &#123;</span><br><span class=\"line\">\t\treturn p1.second &gt; p2.second;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">public:</span><br><span class=\"line\">\tstring reorganizeString(string S) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\tint n = S.length();</span><br><span class=\"line\"></span><br><span class=\"line\">\t\tunordered_map&lt;char, int&gt;m;</span><br><span class=\"line\">\t\tvector&lt;pair&lt;char, int&gt;&gt;v;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\tfor (int i = 0; i &lt; n; i++) </span><br><span class=\"line\">\t\t\tm[S[i]]++;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\tfor(auto it = m.begin(); it != m.end(); it++) &#123;</span><br><span class=\"line\">\t\t\tif (it-&gt;second &gt; (n+1)/2)</span><br><span class=\"line\">\t\t\t\treturn &quot;&quot;;</span><br><span class=\"line\">\t\t\tv.push_back(make_pair(it-&gt;first, it-&gt;second));</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\tsort(v.begin(), v.end(), compare);</span><br><span class=\"line\">\t\tstring str;</span><br><span class=\"line\">\t\tfor (int i = 0; i &lt; v.size(); i++) &#123;</span><br><span class=\"line\">\t\t\twhile (v[i].second--)</span><br><span class=\"line\">\t\t\t\tstr += v[i].first;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\tstring ans;</span><br><span class=\"line\">\t\tint size = str.size();</span><br><span class=\"line\">\t\tint i = 0, j = (size-1)/2+1;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\twhile (i &lt; (size-1)/2+1) &#123;</span><br><span class=\"line\">\t\t\tans += str[i];</span><br><span class=\"line\">\t\t\tans += str[j];</span><br><span class=\"line\">\t\t\ti++; j++;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\treturn ans;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<p><a href=\"https://leetcode.com/problems/candy/\">https://leetcode.com/problems/candy/</a></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">class Solution &#123;</span><br><span class=\"line\">public:</span><br><span class=\"line\">\tint candy(vector&lt;int&gt;&amp; ratings) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\tint n = ratings.size();</span><br><span class=\"line\"></span><br><span class=\"line\">\t\tvector&lt;int&gt;left(n, 1); </span><br><span class=\"line\">\t\tfor (int i = 1; i &lt; n; i++) &#123;</span><br><span class=\"line\">\t\t\tif (ratings[i] &gt; ratings[i-1])</span><br><span class=\"line\">\t\t\t\tleft[i] = left[i-1]+1;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\tint sum = left[n-1];</span><br><span class=\"line\">\t\tfor (int i = n-2; i &gt;= 0; i--) &#123;</span><br><span class=\"line\">\t\t\tif (ratings[i] &gt; ratings[i+1])</span><br><span class=\"line\">\t\t\t\tleft[i] = max(left[i], left[i+1]+1);</span><br><span class=\"line\">\t\t\tsum += left[i];</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\treturn sum;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n",
            "tags": [
                "LeetCode",
                "blog",
                "coding",
                "computer-science",
                "Greedy"
            ]
        },
        {
            "id": "https://samirpaul1.github.io/posts/graph-for-beginners/",
            "url": "https://samirpaul1.github.io/posts/graph-for-beginners/",
            "title": "Graph For Beginners",
            "date_published": "2023-08-05T20:52:53.899Z",
            "content_html": "<p><strong>Graph Problems For Practice</strong></p>\n<p>Sharing some topic wise good Graph problems and sample solutions to observe on how to approach.</p>\n<p>List: <a href=\"https://leetcode.com/list/x1wy4de7\">https://leetcode.com/list/x1wy4de7</a></p>\n<ol>\n<li><p><strong>Union Find:</strong></p>\n<p> Identify if problems talks about finding groups or components.</p>\n<p> <a href=\"https://leetcode.com/problems/friend-circles/\">https://leetcode.com/problems/friend-circles/</a><br> <a href=\"https://leetcode.com/problems/redundant-connection/\">https://leetcode.com/problems/redundant-connection/</a><br> <a href=\"https://leetcode.com/problems/most-stones-removed-with-same-row-or-column/\">https://leetcode.com/problems/most-stones-removed-with-same-row-or-column/</a><br> <a href=\"https://leetcode.com/problems/number-of-operations-to-make-network-connected/\">https://leetcode.com/problems/number-of-operations-to-make-network-connected/</a><br> <a href=\"https://leetcode.com/problems/satisfiability-of-equality-equations/\">https://leetcode.com/problems/satisfiability-of-equality-equations/</a><br> <a href=\"https://leetcode.com/problems/accounts-merge/\">https://leetcode.com/problems/accounts-merge/</a></p>\n<p> All the above problems can be solved by Union Find algorithm with minor tweaks.<br> Below is a standard template for union find problems.</p>\n <figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">class Solution &#123;</span><br><span class=\"line\">\tvector&lt;int&gt;parent;</span><br><span class=\"line\">\tint find(int x) &#123;</span><br><span class=\"line\">\t\treturn parent[x] == x ? x : find(parent[x]);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">public:</span><br><span class=\"line\">\tvector&lt;int&gt; findRedundantConnection(vector&lt;vector&lt;int&gt;&gt;&amp; edges) &#123;</span><br><span class=\"line\">    </span><br><span class=\"line\">\t\tint n = edges.size();</span><br><span class=\"line\">    </span><br><span class=\"line\">\t\tparent.resize(n+1, 0);</span><br><span class=\"line\">\t\tfor (int i = 0; i &lt;= n; i++)</span><br><span class=\"line\">\t\t\tparent[i] = i;</span><br><span class=\"line\">    </span><br><span class=\"line\">\t\tvector&lt;int&gt;res(2, 0);</span><br><span class=\"line\">\t\tfor (int i = 0; i &lt; n; i++) &#123;</span><br><span class=\"line\">\t\t\tint x = find(edges[i][0]);</span><br><span class=\"line\">\t\t\tint y = find(edges[i][1]);</span><br><span class=\"line\">\t\t\tif (x != y)</span><br><span class=\"line\">\t\t\t\tparent[y] = x;</span><br><span class=\"line\">\t\t\telse &#123;</span><br><span class=\"line\">\t\t\t\tres[0] = edges[i][0];</span><br><span class=\"line\">\t\t\t\tres[1] = edges[i][1];</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">\t\treturn res;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong>Depth First Search</strong></p>\n<ol>\n<li><p><strong>Start DFS from nodes at boundary:</strong><br> <a href=\"https://leetcode.com/problems/surrounded-regions/\">https://leetcode.com/problems/surrounded-regions/</a><br> <a href=\"https://leetcode.com/problems/number-of-enclaves/\">https://leetcode.com/problems/number-of-enclaves/</a></p>\n <figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">class Solution &#123;</span><br><span class=\"line\">\tint rows, cols;</span><br><span class=\"line\">\tvoid dfs(vector&lt;vector&lt;int&gt;&gt;&amp; A, int i, int j) &#123;</span><br><span class=\"line\">\t\tif (i &lt; 0 || j &lt; 0 || i &gt;= rows || j &gt;= cols)</span><br><span class=\"line\">\t\t\treturn;</span><br><span class=\"line\">        </span><br><span class=\"line\">\t\tif (A[i][j] != 1) </span><br><span class=\"line\">\t\t\treturn;</span><br><span class=\"line\">        </span><br><span class=\"line\">\t\tA[i][j] = -1;</span><br><span class=\"line\">\t\tdfs(A, i+1, j);</span><br><span class=\"line\">\t\tdfs(A, i-1, j);</span><br><span class=\"line\">\t\tdfs(A, i, j+1);</span><br><span class=\"line\">\t\tdfs(A, i, j-1);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">public:</span><br><span class=\"line\">\tint numEnclaves(vector&lt;vector&lt;int&gt;&gt;&amp; A) &#123;</span><br><span class=\"line\">        </span><br><span class=\"line\">\t\tif (A.empty()) return 0;</span><br><span class=\"line\">        </span><br><span class=\"line\">\t\trows = A.size();</span><br><span class=\"line\">\t\tcols = A[0].size();</span><br><span class=\"line\">\t\tfor (int i = 0; i &lt; rows; i++) &#123;</span><br><span class=\"line\">\t\t\tfor (int j = 0; j &lt; cols; j++) &#123;</span><br><span class=\"line\">\t\t\t\tif (i == 0 || j == 0 || i == rows-1 || j == cols-1)</span><br><span class=\"line\">\t\t\t\t\tdfs(A, i, j);</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">        </span><br><span class=\"line\">\t\tint ans = 0;</span><br><span class=\"line\">\t\tfor (int i = 0; i &lt; rows; i++) &#123;</span><br><span class=\"line\">\t\t\tfor (int j = 0; j &lt; cols; j++) &#123;</span><br><span class=\"line\">\t\t\t\tif (A[i][j] == 1)</span><br><span class=\"line\">\t\t\t\t\tans++;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">        </span><br><span class=\"line\">\t\treturn ans;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong>Time taken to reach all nodes or share information to all graph nodes:</strong><br> <a href=\"https://leetcode.com/problems/time-needed-to-inform-all-employees/\">https://leetcode.com/problems/time-needed-to-inform-all-employees/</a></p>\n <figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">class Solution &#123;</span><br><span class=\"line\">\tvoid dfs(unordered_map&lt;int, vector&lt;int&gt;&gt;&amp;hm, int i, vector&lt;int&gt;&amp; informTime, int &amp;res, int curr) &#123;</span><br><span class=\"line\">        </span><br><span class=\"line\">\t\tcurr += informTime[i];</span><br><span class=\"line\">\t\tres = max(res, curr);</span><br><span class=\"line\">        </span><br><span class=\"line\">\t\tfor (auto it = hm[i].begin(); it != hm[i].end(); it++)</span><br><span class=\"line\">\t\t\tdfs(hm, *it, informTime, res, curr);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">public:</span><br><span class=\"line\">\tint numOfMinutes(int n, int headID, vector&lt;int&gt;&amp; manager, vector&lt;int&gt;&amp; informTime) &#123;</span><br><span class=\"line\">        </span><br><span class=\"line\">\t\tunordered_map&lt;int, vector&lt;int&gt;&gt;hm;</span><br><span class=\"line\">\t\tfor (int i = 0; i &lt; n; i++)</span><br><span class=\"line\">\t\t\tif (manager[i] != -1) hm[manager[i]].push_back(i);</span><br><span class=\"line\">        </span><br><span class=\"line\">\t\tint res = 0, curr = 0;</span><br><span class=\"line\">\t\tdfs(hm, headID, informTime, res, curr);</span><br><span class=\"line\">\t\treturn res;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong>DFS from each unvisited node&#x2F;Island problems</strong><br> <a href=\"https://leetcode.com/problems/number-of-closed-islands/\">https://leetcode.com/problems/number-of-closed-islands/</a><br> <a href=\"https://leetcode.com/problems/number-of-islands/\">https://leetcode.com/problems/number-of-islands/</a><br> <a href=\"https://leetcode.com/problems/keys-and-rooms/\">https://leetcode.com/problems/keys-and-rooms/</a><br> <a href=\"https://leetcode.com/problems/max-area-of-island/\">https://leetcode.com/problems/max-area-of-island/</a><br> <a href=\"https://leetcode.com/problems/flood-fill/\">https://leetcode.com/problems/flood-fill/</a></p>\n <figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">class Solution &#123;</span><br><span class=\"line\">\tvoid dfs(vector&lt;vector&lt;char&gt;&gt;&amp; grid, vector&lt;vector&lt;bool&gt;&gt;&amp; visited, int i, int j, int m, int n) &#123;</span><br><span class=\"line\">\t\tif (i &lt; 0 || i &gt;= m || j &lt; 0 || j &gt;= n) return;</span><br><span class=\"line\">\t\tif (grid[i][j] == &#x27;0&#x27; || visited[i][j]) return;</span><br><span class=\"line\">\t\tvisited[i][j] = true;</span><br><span class=\"line\">\t\tdfs(grid, visited, i+1, j, m, n);</span><br><span class=\"line\">\t\tdfs(grid, visited, i, j+1, m, n);</span><br><span class=\"line\">\t\tdfs(grid, visited, i-1, j, m, n);</span><br><span class=\"line\">\t\tdfs(grid, visited, i, j-1, m, n);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\tpublic:</span><br><span class=\"line\">\tint numIslands(vector&lt;vector&lt;char&gt;&gt;&amp; grid) &#123;</span><br><span class=\"line\">\t\tif (grid.empty()) return 0;</span><br><span class=\"line\">        </span><br><span class=\"line\">\t\tint m = grid.size();</span><br><span class=\"line\">\t\tint n = grid[0].size();</span><br><span class=\"line\">\t\tvector&lt;vector&lt;bool&gt;&gt;visited(m, vector&lt;bool&gt;(n, false));</span><br><span class=\"line\">        </span><br><span class=\"line\">\t\tint res = 0;</span><br><span class=\"line\">\t\tfor (int i = 0; i &lt; m; i++) &#123;</span><br><span class=\"line\">\t\t\tfor (int j = 0; j &lt; n; j++) &#123;</span><br><span class=\"line\">\t\t\t\tif (grid[i][j] == &#x27;1&#x27; &amp;&amp; !visited[i][j]) &#123;</span><br><span class=\"line\">\t\t\t\t\tdfs(grid, visited, i, j, m, n);</span><br><span class=\"line\">\t\t\t\t\tres++;</span><br><span class=\"line\">\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">        </span><br><span class=\"line\">\t\treturn res;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t&#125;;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong>Cycle Find:</strong><br> <a href=\"https://leetcode.com/problems/find-eventual-safe-states/\">https://leetcode.com/problems/find-eventual-safe-states/</a></p>\n <figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">class Solution &#123;</span><br><span class=\"line\">\tbool dfs(vector&lt;vector&lt;int&gt;&gt;&amp; graph, int v, vector&lt;int&gt;&amp; dp) &#123;</span><br><span class=\"line\">        </span><br><span class=\"line\">\t\tif (dp[v])</span><br><span class=\"line\">\t\t\treturn dp[v] == 1;</span><br><span class=\"line\">        </span><br><span class=\"line\">\t\tdp[v] = -1;</span><br><span class=\"line\">        </span><br><span class=\"line\">\t\tfor (auto it = graph[v].begin(); it != graph[v].end(); it++)</span><br><span class=\"line\">\t\t\tif (!dfs(graph, *it, dp))</span><br><span class=\"line\">\t\t\t\treturn false;</span><br><span class=\"line\">        </span><br><span class=\"line\">\t\tdp[v] = 1;</span><br><span class=\"line\">        </span><br><span class=\"line\">\t\treturn true;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">public:</span><br><span class=\"line\">\tvector&lt;int&gt; eventualSafeNodes(vector&lt;vector&lt;int&gt;&gt;&amp; graph) &#123;</span><br><span class=\"line\">        </span><br><span class=\"line\">\t\tint V = graph.size();</span><br><span class=\"line\">        </span><br><span class=\"line\">\t\tvector&lt;int&gt;res;</span><br><span class=\"line\">\t\tvector&lt;int&gt;dp(V, 0);</span><br><span class=\"line\">        </span><br><span class=\"line\">\t\tfor (int i = 0; i &lt; V; i++) &#123;    </span><br><span class=\"line\">\t\t\tif (dfs(graph, i, dp))</span><br><span class=\"line\">\t\t\t\tres.push_back(i);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">        </span><br><span class=\"line\">\t\treturn res;</span><br><span class=\"line\">\t&#125;</span><br></pre></td></tr></table></figure>\n<p> };</p>\n</li>\n</ol>\n</li>\n<li><p><strong>Breadth First Search</strong></p>\n<ol>\n<li><p><strong>Shortest Path:</strong><br> <a href=\"https://leetcode.com/problems/01-matrix/\">https://leetcode.com/problems/01-matrix/</a><br> <a href=\"https://leetcode.com/problems/as-far-from-land-as-possible/\">https://leetcode.com/problems/as-far-from-land-as-possible/</a><br> <a href=\"https://leetcode.com/problems/rotting-oranges/\">https://leetcode.com/problems/rotting-oranges/</a><br> <a href=\"https://leetcode.com/problems/shortest-path-in-binary-matrix/\">https://leetcode.com/problems/shortest-path-in-binary-matrix/</a></p>\n<p> Start BFS from nodes from which shortest path is asked for.<br> Below is the sample BFS approach to find the path.</p>\n <figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">class Solution &#123;</span><br><span class=\"line\">\tpublic:</span><br><span class=\"line\">\tvector&lt;vector&lt;int&gt;&gt; updateMatrix(vector&lt;vector&lt;int&gt;&gt;&amp; matrix) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\tif (matrix.empty()) return matrix;</span><br><span class=\"line\">\t\tint rows = matrix.size();</span><br><span class=\"line\">\t\tint cols = matrix[0].size();</span><br><span class=\"line\">\t\tqueue&lt;pair&lt;int, int&gt;&gt;pq;</span><br><span class=\"line\">\t\tfor (int i = 0; i &lt; rows; i++) &#123;</span><br><span class=\"line\">\t\t\tfor (int j = 0; j &lt; cols; j++) &#123;</span><br><span class=\"line\">\t\t\t\tif (matrix[i][j] == 0) &#123;</span><br><span class=\"line\">\t\t\t\t\tpq.push(&#123;i-1, j&#125;), pq.push(&#123;i+1, j&#125;), pq.push(&#123;i, j-1&#125;), pq.push(&#123;i, j+1&#125;); </span><br><span class=\"line\">\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\tvector&lt;vector&lt;bool&gt;&gt;visited(rows, vector&lt;bool&gt;(cols, false));</span><br><span class=\"line\">\t\tint steps = 0;</span><br><span class=\"line\">\t\twhile (!pq.empty()) &#123;</span><br><span class=\"line\">\t\t\tsteps++;</span><br><span class=\"line\">\t\t\tint size = pq.size();</span><br><span class=\"line\">\t\t\tfor (int i = 0; i &lt; size; i++) &#123;</span><br><span class=\"line\">\t\t\t\tauto front = pq.front();</span><br><span class=\"line\">\t\t\t\tint l = front.first;</span><br><span class=\"line\">\t\t\t\tint r = front.second;</span><br><span class=\"line\">\t\t\t\tpq.pop();</span><br><span class=\"line\">\t\t\t\tif (l &gt;= 0 &amp;&amp; r &gt;= 0 &amp;&amp; l &lt; rows &amp;&amp; r &lt; cols &amp;&amp; !visited[l][r] &amp;&amp; matrix[l][r] == 1) &#123;</span><br><span class=\"line\">\t\t\t\t\tvisited[l][r] = true;</span><br><span class=\"line\">\t\t\t\t\tmatrix[l][r] = steps;</span><br><span class=\"line\">\t\t\t\t\tpq.push(&#123;l-1, r&#125;), pq.push(&#123;l+1, r&#125;), pq.push(&#123;l, r-1&#125;), pq.push(&#123;l, r+1&#125;);</span><br><span class=\"line\">\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\treturn matrix;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure></li>\n</ol>\n</li>\n<li><p><strong>Graph coloring&#x2F;Bipartition</strong><br> <a href=\"https://leetcode.com/problems/possible-bipartition/\">https://leetcode.com/problems/possible-bipartition/</a><br> <a href=\"https://leetcode.com/problems/is-graph-bipartite/\">https://leetcode.com/problems/is-graph-bipartite/</a></p>\n<p> Problems asks to check if its possible to divide the graph nodes into 2 groups<br> Apply BFS for same. Below is a sample graph coloring approach.</p>\n <figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">class Solution &#123;</span><br><span class=\"line\">\tpublic:</span><br><span class=\"line\">\t\tbool isBipartite(vector&lt;vector&lt;int&gt;&gt;&amp; graph) &#123;</span><br><span class=\"line\">\t\t\tint n = graph.size();</span><br><span class=\"line\">\t\t\tvector&lt;int&gt;color(n, -1);</span><br><span class=\"line\">    </span><br><span class=\"line\">\t\t\tfor (int i = 0; i &lt; n; i++) &#123;</span><br><span class=\"line\">\t\t\t\tif (color[i] != -1) continue;</span><br><span class=\"line\">    </span><br><span class=\"line\">\t\t\t\tcolor[i] = 1;</span><br><span class=\"line\">\t\t\t\tqueue&lt;int&gt;q;</span><br><span class=\"line\">\t\t\t\tq.push(i);</span><br><span class=\"line\">    </span><br><span class=\"line\">\t\t\t\twhile (!q.empty()) &#123;</span><br><span class=\"line\">\t\t\t\t\tint t = q.front();</span><br><span class=\"line\">\t\t\t\t\tq.pop();</span><br><span class=\"line\">    </span><br><span class=\"line\">\t\t\t\t\tfor (int j = 0; j &lt; graph[t].size(); j++) &#123;</span><br><span class=\"line\">\t\t\t\t\t\tif (color[graph[t][j]] == -1) &#123;</span><br><span class=\"line\">\t\t\t\t\t\t\tcolor[graph[t][j]] = 1-color[t];</span><br><span class=\"line\">\t\t\t\t\t\t\tq.push(graph[t][j]);</span><br><span class=\"line\">\t\t\t\t\t\t&#125; else if (color[graph[t][j]] == color[t]) &#123;</span><br><span class=\"line\">\t\t\t\t\t\t\treturn false;</span><br><span class=\"line\">\t\t\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">\t\t\treturn true;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p><strong>Topological Sort:</strong><br> Check if its directed acyclic graph and we have to arrange the elements in an order in which we need to select the most independent node at first. Number of in-node 0</p>\n<p> <a href=\"https://leetcode.com/problems/course-schedule/\">https://leetcode.com/problems/course-schedule/</a><br> <a href=\"https://leetcode.com/problems/course-schedule-ii/\">https://leetcode.com/problems/course-schedule-ii/</a></p>\n<p> Below is sample approach. Find if cycle is present, if not apply topological sort.</p>\n <figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">class Solution &#123;</span><br><span class=\"line\">\tint V;</span><br><span class=\"line\">\tlist&lt;int&gt;*adj;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\tbool isCyclicUtil(int v, vector&lt;bool&gt;&amp;visited, vector&lt;bool&gt;&amp;recStack) &#123;</span><br><span class=\"line\">\t\t</span><br><span class=\"line\">\t\tvisited[v] = true;</span><br><span class=\"line\">\t\trecStack[v] = true;</span><br><span class=\"line\">\t\t</span><br><span class=\"line\">\t\tfor (auto it = adj[v].begin(); it != adj[v].end(); it++) &#123;</span><br><span class=\"line\">\t\t\tif (!visited[*it] &amp;&amp; isCyclicUtil(*it, visited, recStack))</span><br><span class=\"line\">\t\t\t\treturn true;</span><br><span class=\"line\">\t\t\telse if (recStack[*it])</span><br><span class=\"line\">\t\t\t\treturn true;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t</span><br><span class=\"line\">\t\trecStack[v] = false;</span><br><span class=\"line\">\t\treturn false;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\tbool isCyclic() &#123;</span><br><span class=\"line\">\t\tvector&lt;bool&gt;visited(V, false);</span><br><span class=\"line\">\t\tvector&lt;bool&gt;recStack(V, false);</span><br><span class=\"line\">\t\t</span><br><span class=\"line\">\t\tfor (int i = 0; i &lt; V; i++) &#123;</span><br><span class=\"line\">\t\t\tif (isCyclicUtil(i, visited, recStack))</span><br><span class=\"line\">\t\t\t\treturn true;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t</span><br><span class=\"line\">\t\treturn false;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\tvoid topologicalSortUtil(int v, vector&lt;bool&gt;&amp;visited, vector&lt;int&gt;&amp; res) &#123;</span><br><span class=\"line\">\t\tvisited[v] = true;</span><br><span class=\"line\">\t\t</span><br><span class=\"line\">\t\tfor (auto it = adj[v].begin(); it != adj[v].end(); it++)</span><br><span class=\"line\">\t\t\tif (!visited[*it])</span><br><span class=\"line\">\t\t\t\ttopologicalSortUtil(*it, visited, res);</span><br><span class=\"line\">\t\t</span><br><span class=\"line\">\t\tres.push_back(v);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\tvector&lt;int&gt;topologicalSort(int v) &#123;</span><br><span class=\"line\">\t\tvector&lt;int&gt;res;</span><br><span class=\"line\">\t\t</span><br><span class=\"line\">\t\tvector&lt;bool&gt;visited(V, false);</span><br><span class=\"line\">\t\ttopologicalSortUtil(v, visited, res);</span><br><span class=\"line\">\t\t</span><br><span class=\"line\">\t\tfor (int i = 0; i &lt; V; i++) &#123;</span><br><span class=\"line\">\t\t\tif (!visited[i])</span><br><span class=\"line\">\t\t\t\ttopologicalSortUtil(i, visited, res);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t</span><br><span class=\"line\">\t\treturn res;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\tpublic:</span><br><span class=\"line\">\tvector&lt;int&gt; findOrder(int numCourses, vector&lt;vector&lt;int&gt;&gt;&amp; prerequisites) &#123;</span><br><span class=\"line\">\t\tV = numCourses;</span><br><span class=\"line\">\t\tadj = new list&lt;int&gt;[V];</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t\tunordered_map&lt;int, vector&lt;int&gt;&gt;hm;</span><br><span class=\"line\">\t\t</span><br><span class=\"line\">\t\tfor (int i = 0; i &lt; prerequisites.size(); i++) &#123;</span><br><span class=\"line\">\t\t\tadj[prerequisites[i][0]].push_back(prerequisites[i][1]);</span><br><span class=\"line\">\t\t\thm[prerequisites[i][1]].push_back(prerequisites[i][0]);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t</span><br><span class=\"line\">\t\tif (isCyclic()) return vector&lt;int&gt;();</span><br><span class=\"line\">\t\t</span><br><span class=\"line\">\t\tint i = 0;</span><br><span class=\"line\">\t\tfor (i = 0; i &lt; V; i++) &#123;</span><br><span class=\"line\">\t\t\tif (hm.find(i) == hm.end())</span><br><span class=\"line\">\t\t\t\tbreak;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\t</span><br><span class=\"line\">\t\treturn topologicalSort(i);</span><br><span class=\"line\">\t&#125;</span><br></pre></td></tr></table></figure>\n<p> };</p>\n</li>\n<li><p><strong>Find Shortest Path (Dijkstra’s&#x2F;Bellman Ford)</strong><br> <a href=\"https://leetcode.com/problems/network-delay-time/\">https://leetcode.com/problems/network-delay-time/</a></p>\n<p> <strong>Dijkstras and Bellman Ford:</strong></p>\n <figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">class Solution &#123;</span><br><span class=\"line\">\tpublic:</span><br><span class=\"line\">\t\tint networkDelayTime(vector&lt;vector&lt;int&gt;&gt;&amp; times, int N, int K) &#123;</span><br><span class=\"line\">\t\t\t</span><br><span class=\"line\">\t\t\tpriority_queue&lt;pair&lt;int, int&gt;, vector&lt;pair&lt;int, int&gt;&gt;, greater&lt;pair&lt;int, int&gt;&gt;&gt;pq;</span><br><span class=\"line\">\t\t\tvector&lt;int&gt;dist(N+1, INT_MAX);</span><br><span class=\"line\">\t\t\t</span><br><span class=\"line\">\t\t\tpq.push(make_pair(0, K));</span><br><span class=\"line\">\t\t\tdist[K] = 0;</span><br><span class=\"line\">\t\t\t</span><br><span class=\"line\">\t\t\tunordered_map&lt;int, vector&lt;pair&lt;int, int&gt;&gt;&gt;hm;</span><br><span class=\"line\">\t\t\tfor (int i = 0; i &lt; times.size(); i++)</span><br><span class=\"line\">\t\t\t\thm[times[i][0]].push_back(make_pair(times[i][1], times[i][2]));</span><br><span class=\"line\">\t\t\t</span><br><span class=\"line\">\t\t\twhile (!pq.empty()) &#123;</span><br><span class=\"line\">\t\t\t\tpair&lt;int, int&gt;p = pq.top();</span><br><span class=\"line\">\t\t\t\tpq.pop();</span><br><span class=\"line\">\t\t\t\t</span><br><span class=\"line\">\t\t\t\tint u = p.second;</span><br><span class=\"line\">\t\t\t\tfor (auto it = hm[u].begin(); it != hm[u].end(); it++) &#123;</span><br><span class=\"line\">\t\t\t\t\tint v = it-&gt;first;</span><br><span class=\"line\">\t\t\t\t\tint w = it-&gt;second;</span><br><span class=\"line\">\t\t\t\t\t</span><br><span class=\"line\">\t\t\t\t\tif (dist[v] &gt; dist[u] + w) &#123;</span><br><span class=\"line\">\t\t\t\t\t\tdist[v] = dist[u] + w;</span><br><span class=\"line\">\t\t\t\t\t\tpq.push(make_pair(dist[v], v));</span><br><span class=\"line\">\t\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t\t</span><br><span class=\"line\">\t\t\tint res = 0;</span><br><span class=\"line\">\t\t\tfor (int i = 1; i &lt;= N; i++)</span><br><span class=\"line\">\t\t\t\tres = max(res, dist[i]);</span><br><span class=\"line\">\t\t\t</span><br><span class=\"line\">\t\t\treturn res == INT_MAX ? -1 : res;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;;</span><br><span class=\"line\">\t</span><br><span class=\"line\"></span><br><span class=\"line\">\tclass Solution &#123;</span><br><span class=\"line\">\tpublic:</span><br><span class=\"line\">\t\tint networkDelayTime(vector&lt;vector&lt;int&gt;&gt;&amp; times, int N, int K) &#123;</span><br><span class=\"line\">\t\t\t</span><br><span class=\"line\">\t\t\tint n = times.size();</span><br><span class=\"line\">\t\t\tif (!n) return 0;</span><br><span class=\"line\">\t\t\t</span><br><span class=\"line\">\t\t\tvector&lt;int&gt;dist(N+1, INT_MAX);</span><br><span class=\"line\">\t\t\tint res = 0;</span><br><span class=\"line\">\t\t\t</span><br><span class=\"line\">\t\t\tdist[K] = 0;</span><br><span class=\"line\">\t\t\tfor (int i = 0; i &lt; N; i++) &#123;</span><br><span class=\"line\">\t\t\t\tfor (int j = 0; j &lt; n; j++) &#123;</span><br><span class=\"line\">\t\t\t\t\tint u = times[j][0];</span><br><span class=\"line\">\t\t\t\t\tint v = times[j][1];</span><br><span class=\"line\">\t\t\t\t\tint w = times[j][2];</span><br><span class=\"line\">\t\t\t\t\tif (dist[u] != INT_MAX &amp;&amp; dist[u] + w &lt; dist[v])</span><br><span class=\"line\">\t\t\t\t\t\tdist[v] = w + dist[u];</span><br><span class=\"line\">\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t\t</span><br><span class=\"line\">\t\t\tfor (int i = 1; i &lt;= N; i++)</span><br><span class=\"line\">\t\t\t\tres = max(res, dist[i]);</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t\treturn res == INT_MAX ? -1 : res;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></li>\n</ol>\n<p>Complete List: Below are mostly list of problems (mostly medium level and may 1 or 2 easy) which are better to start practice with:<br>(Updated on 14th June ‘20)</p>\n<p><strong>Union Find:</strong></p>\n<ol>\n<li><a href=\"https://leetcode.com/problems/friend-circles/\">https://leetcode.com/problems/friend-circles/</a></li>\n<li><a href=\"https://leetcode.com/problems/redundant-connection/\">https://leetcode.com/problems/redundant-connection/</a></li>\n<li><a href=\"https://leetcode.com/problems/most-stones-removed-with-same-row-or-column/\">https://leetcode.com/problems/most-stones-removed-with-same-row-or-column/</a></li>\n<li><a href=\"https://leetcode.com/problems/number-of-operations-to-make-network-connected/\">https://leetcode.com/problems/number-of-operations-to-make-network-connected/</a></li>\n<li><a href=\"https://leetcode.com/problems/satisfiability-of-equality-equations/\">https://leetcode.com/problems/satisfiability-of-equality-equations/</a></li>\n<li><a href=\"https://leetcode.com/problems/accounts-merge/\">https://leetcode.com/problems/accounts-merge/</a></li>\n<li><a href=\"https://leetcode.com/problems/connecting-cities-with-minimum-cost/\">https://leetcode.com/problems/connecting-cities-with-minimum-cost/</a></li>\n</ol>\n<p><strong>DFS:</strong><br>DFS from boundary:</p>\n<ol>\n<li><a href=\"https://leetcode.com/problems/surrounded-regions/\">https://leetcode.com/problems/surrounded-regions/</a></li>\n<li><a href=\"https://leetcode.com/problems/number-of-enclaves/\">https://leetcode.com/problems/number-of-enclaves/</a></li>\n</ol>\n<p>Shortest time:</p>\n<ol>\n<li><a href=\"https://leetcode.com/problems/time-needed-to-inform-all-employees/\">https://leetcode.com/problems/time-needed-to-inform-all-employees/</a></li>\n</ol>\n<p>Islands Variants</p>\n<ol>\n<li><a href=\"https://leetcode.com/problems/number-of-closed-islands/\">https://leetcode.com/problems/number-of-closed-islands/</a></li>\n<li><a href=\"https://leetcode.com/problems/number-of-islands/\">https://leetcode.com/problems/number-of-islands/</a></li>\n<li><a href=\"https://leetcode.com/problems/keys-and-rooms/\">https://leetcode.com/problems/keys-and-rooms/</a></li>\n<li><a href=\"https://leetcode.com/problems/max-area-of-island/\">https://leetcode.com/problems/max-area-of-island/</a></li>\n<li><a href=\"https://leetcode.com/problems/flood-fill/\">https://leetcode.com/problems/flood-fill/</a></li>\n<li><a href=\"https://leetcode.com/problems/coloring-a-border/\">https://leetcode.com/problems/coloring-a-border/</a></li>\n</ol>\n<p>Hash&#x2F;DFS:</p>\n<ol>\n<li><a href=\"https://leetcode.com/problems/employee-importance/\">https://leetcode.com/problems/employee-importance/</a></li>\n<li><a href=\"https://leetcode.com/problems/find-the-town-judge/\">https://leetcode.com/problems/find-the-town-judge/</a></li>\n</ol>\n<p>Cycle Find:</p>\n<ol>\n<li><a href=\"https://leetcode.com/problems/find-eventual-safe-states/\">https://leetcode.com/problems/find-eventual-safe-states/</a></li>\n</ol>\n<p><strong>BFS:</strong><br>BFS for shortest path:</p>\n<ol>\n<li><a href=\"https://leetcode.com/problems/01-matrix/\">https://leetcode.com/problems/01-matrix/</a></li>\n<li><a href=\"https://leetcode.com/problems/as-far-from-land-as-possible/\">https://leetcode.com/problems/as-far-from-land-as-possible/</a></li>\n<li><a href=\"https://leetcode.com/problems/rotting-oranges/\">https://leetcode.com/problems/rotting-oranges/</a></li>\n<li><a href=\"https://leetcode.com/problems/shortest-path-in-binary-matrix/\">https://leetcode.com/problems/shortest-path-in-binary-matrix/</a></li>\n</ol>\n<p><strong>Graph coloring:</strong></p>\n<ol>\n<li><a href=\"https://leetcode.com/problems/possible-bipartition/\">https://leetcode.com/problems/possible-bipartition/</a></li>\n<li><a href=\"https://leetcode.com/problems/is-graph-bipartite/\">https://leetcode.com/problems/is-graph-bipartite/</a></li>\n</ol>\n<p><strong>Topological Sort:</strong></p>\n<ol>\n<li><a href=\"https://leetcode.com/problems/course-schedule-ii/\">https://leetcode.com/problems/course-schedule-ii/</a></li>\n</ol>\n<p><strong>Shortest Path:</strong></p>\n<ol>\n<li><a href=\"https://leetcode.com/problems/network-delay-time/\">https://leetcode.com/problems/network-delay-time/</a></li>\n<li><a href=\"https://leetcode.com/problems/find-the-city-with-the-smallest-number-of-neighbors-at-a-threshold-distance/\">https://leetcode.com/problems/find-the-city-with-the-smallest-number-of-neighbors-at-a-threshold-distance/</a></li>\n<li><a href=\"https://leetcode.com/problems/cheapest-flights-within-k-stops/\">https://leetcode.com/problems/cheapest-flights-within-k-stops/</a></li>\n</ol>\n",
            "tags": [
                "blog",
                "coding",
                "computer-science",
                "Graph"
            ]
        },
        {
            "id": "https://samirpaul1.github.io/posts/leetcode-all-two-pointers-problems/",
            "url": "https://samirpaul1.github.io/posts/leetcode-all-two-pointers-problems/",
            "title": "LeetCode all two pointers problems",
            "date_published": "2023-08-05T20:52:53.899Z",
            "content_html": "<table>\n<thead>\n<tr>\n<th>1. Running from both ends of an array</th>\n</tr>\n</thead>\n</table>\n<p>The first type of problems are, having two pointers at left and right end of array, then moving them to the center while processing something with them.<br><img src=\"https://user-images.githubusercontent.com/77569653/226705317-e62636ef-7fac-4897-a7d0-4625cd71826f.png\" alt=\"image\"></p>\n<ul>\n<li><p>2 Sum problem<br>  (*) <a href=\"https://leetcode.com/problems/two-sum-ii-input-array-is-sorted/\">https://leetcode.com/problems/two-sum-ii-input-array-is-sorted/</a><br>  <a href=\"https://leetcode.com/problems/3sum/\">https://leetcode.com/problems/3sum/</a><br>  <a href=\"https://leetcode.com/problems/4sum/\">https://leetcode.com/problems/4sum/</a><br>  <a href=\"https://leetcode.com/problems/number-of-subsequences-that-satisfy-the-given-sum-condition/\">https://leetcode.com/problems/number-of-subsequences-that-satisfy-the-given-sum-condition/</a><br>  <a href=\"https://leetcode.com/problems/two-sum-iv-input-is-a-bst/\">https://leetcode.com/problems/two-sum-iv-input-is-a-bst/</a><br>  <a href=\"https://leetcode.com/problems/sum-of-square-numbers/\">https://leetcode.com/problems/sum-of-square-numbers/</a><br>  <a href=\"https://leetcode.com/problems/boats-to-save-people/\">https://leetcode.com/problems/boats-to-save-people/</a><br>  <a href=\"https://leetcode.com/problems/minimize-maximum-pair-sum-in-array/\">https://leetcode.com/problems/minimize-maximum-pair-sum-in-array/</a><br>  <a href=\"https://leetcode.com/problems/3sum-with-multiplicity/\">https://leetcode.com/problems/3sum-with-multiplicity/</a></p>\n</li>\n<li><p>Trapping Water<br>  (*) <a href=\"https://leetcode.com/problems/trapping-rain-water/\">https://leetcode.com/problems/trapping-rain-water/</a><br>  <a href=\"https://leetcode.com/problems/container-with-most-water/\">https://leetcode.com/problems/container-with-most-water/</a></p>\n</li>\n<li><p>Next Permutation<br>  (*) <a href=\"https://leetcode.com/problems/next-permutation/\">https://leetcode.com/problems/next-permutation/</a><br>  <a href=\"https://leetcode.com/problems/next-greater-element-iii/\">https://leetcode.com/problems/next-greater-element-iii/</a><br>  <a href=\"https://leetcode.com/problems/minimum-adjacent-swaps-to-reach-the-kth-smallest-number/\">https://leetcode.com/problems/minimum-adjacent-swaps-to-reach-the-kth-smallest-number/</a></p>\n</li>\n<li><p>Reversing &#x2F; Swapping<br>  <a href=\"https://leetcode.com/problems/valid-palindrome/\">https://leetcode.com/problems/valid-palindrome/</a><br>  (*) <a href=\"https://leetcode.com/problems/reverse-string/\">https://leetcode.com/problems/reverse-string/</a><br>  <a href=\"https://leetcode.com/problems/reverse-vowels-of-a-string/\">https://leetcode.com/problems/reverse-vowels-of-a-string/</a><br>  <a href=\"https://leetcode.com/problems/valid-palindrome-ii/\">https://leetcode.com/problems/valid-palindrome-ii/</a><br>  <a href=\"https://leetcode.com/problems/reverse-only-letters/\">https://leetcode.com/problems/reverse-only-letters/</a><br>  <a href=\"https://leetcode.com/problems/remove-element/\">https://leetcode.com/problems/remove-element/</a><br>  <a href=\"https://leetcode.com/problems/sort-colors/\">https://leetcode.com/problems/sort-colors/</a><br>  <a href=\"https://leetcode.com/problems/flipping-an-image/\">https://leetcode.com/problems/flipping-an-image/</a><br>  <a href=\"https://leetcode.com/problems/squares-of-a-sorted-array/\">https://leetcode.com/problems/squares-of-a-sorted-array/</a><br>  <a href=\"https://leetcode.com/problems/sort-array-by-parity/\">https://leetcode.com/problems/sort-array-by-parity/</a><br>  <a href=\"https://leetcode.com/problems/sort-array-by-parity-ii/\">https://leetcode.com/problems/sort-array-by-parity-ii/</a><br>  <a href=\"https://leetcode.com/problems/pancake-sorting/\">https://leetcode.com/problems/pancake-sorting/</a><br>  <a href=\"https://leetcode.com/problems/reverse-prefix-of-word/\">https://leetcode.com/problems/reverse-prefix-of-word/</a><br>  <a href=\"https://leetcode.com/problems/reverse-string-ii/\">https://leetcode.com/problems/reverse-string-ii/</a><br>  <a href=\"https://leetcode.com/problems/reverse-words-in-a-string/\">https://leetcode.com/problems/reverse-words-in-a-string/</a><br>  <a href=\"https://leetcode.com/problems/reverse-words-in-a-string-iii/\">https://leetcode.com/problems/reverse-words-in-a-string-iii/</a></p>\n</li>\n<li><p>Others<br>  <a href=\"https://leetcode.com/problems/bag-of-tokens/\">https://leetcode.com/problems/bag-of-tokens/</a><br>  <a href=\"https://leetcode.com/problems/di-string-match/\">https://leetcode.com/problems/di-string-match/</a><br>  <a href=\"https://leetcode.com/problems/minimum-length-of-string-after-deleting-similar-ends/\">https://leetcode.com/problems/minimum-length-of-string-after-deleting-similar-ends/</a><br>  <a href=\"https://leetcode.com/problems/sentence-similarity-iii/\">https://leetcode.com/problems/sentence-similarity-iii/</a><br>  <a href=\"https://leetcode.com/problems/find-k-closest-elements/\">https://leetcode.com/problems/find-k-closest-elements/</a><br>  <a href=\"https://leetcode.com/problems/shortest-distance-to-a-character/\">https://leetcode.com/problems/shortest-distance-to-a-character/</a></p>\n</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th>2.Slow &amp; Fast Pointers</th>\n</tr>\n</thead>\n</table>\n<p>Next type is using two pointers with different speed of movement. Typically they starts from the left end, then the first pointer advances fast and give some feedback to the slow pointer and do some calculation.<br><img src=\"https://user-images.githubusercontent.com/77569653/226705223-95601d5c-7c9c-416a-a561-3bc6213afd75.png\" alt=\"image\"></p>\n<ul>\n<li><p>Linked List Operations<br>  (*) <a href=\"https://leetcode.com/problems/linked-list-cycle/\">https://leetcode.com/problems/linked-list-cycle/</a><br>  <a href=\"https://leetcode.com/problems/linked-list-cycle-ii/\">https://leetcode.com/problems/linked-list-cycle-ii/</a><br>  <a href=\"https://leetcode.com/problems/remove-nth-node-from-end-of-list/\">https://leetcode.com/problems/remove-nth-node-from-end-of-list/</a><br>  <a href=\"https://leetcode.com/problems/rotate-list/\">https://leetcode.com/problems/rotate-list/</a><br>  <a href=\"https://leetcode.com/problems/reorder-list/\">https://leetcode.com/problems/reorder-list/</a><br>  <a href=\"https://leetcode.com/problems/palindrome-linked-list/\">https://leetcode.com/problems/palindrome-linked-list/</a></p>\n</li>\n<li><p>Cyclic Detection<br>  (*) <a href=\"https://leetcode.com/problems/find-the-duplicate-number/\">https://leetcode.com/problems/find-the-duplicate-number/</a><br>  <a href=\"https://leetcode.com/problems/circular-array-loop/\">https://leetcode.com/problems/circular-array-loop/</a></p>\n</li>\n<li><p>Sliding Window&#x2F;Caterpillar Method<br>  <img src=\"https://assets.leetcode.com/users/images/29d2e356-77fe-4caf-8921-7a39d06e56d2_1642139764.6173265.jpeg\" alt=\"image\"><br>  (*) <a href=\"https://leetcode.com/problems/number-of-subarrays-with-bounded-maximum/\">https://leetcode.com/problems/number-of-subarrays-with-bounded-maximum/</a><br>  <a href=\"https://leetcode.com/problems/find-k-th-smallest-pair-distance/\">https://leetcode.com/problems/find-k-th-smallest-pair-distance/</a><br>  <a href=\"https://leetcode.com/problems/moving-stones-until-consecutive-ii/\">https://leetcode.com/problems/moving-stones-until-consecutive-ii/</a><br>  <a href=\"https://leetcode.com/problems/count-pairs-of-nodes/\">https://leetcode.com/problems/count-pairs-of-nodes/</a><br>  <a href=\"https://leetcode.com/problems/count-binary-substrings/\">https://leetcode.com/problems/count-binary-substrings/</a><br>  <a href=\"https://leetcode.com/problems/k-diff-pairs-in-an-array/\">https://leetcode.com/problems/k-diff-pairs-in-an-array/</a></p>\n</li>\n<li><p>Rotation<br>  (*) <a href=\"https://leetcode.com/problems/rotating-the-box/\">https://leetcode.com/problems/rotating-the-box/</a><br>  <a href=\"https://leetcode.com/problems/rotate-array/\">https://leetcode.com/problems/rotate-array/</a></p>\n</li>\n<li><p>String<br>  (*) <a href=\"https://leetcode.com/problems/string-compression/\">https://leetcode.com/problems/string-compression/</a><br>  <a href=\"https://leetcode.com/problems/last-substring-in-lexicographical-order/\">https://leetcode.com/problems/last-substring-in-lexicographical-order/</a></p>\n</li>\n<li><p>Remove Duplicate<br>  (*) <a href=\"https://leetcode.com/problems/remove-duplicates-from-sorted-array/\">https://leetcode.com/problems/remove-duplicates-from-sorted-array/</a><br>  <a href=\"https://leetcode.com/problems/remove-duplicates-from-sorted-array-ii/\">https://leetcode.com/problems/remove-duplicates-from-sorted-array-ii/</a><br>  <a href=\"https://leetcode.com/problems/remove-duplicates-from-sorted-list-ii/\">https://leetcode.com/problems/remove-duplicates-from-sorted-list-ii/</a><br>  <a href=\"https://leetcode.com/problems/duplicate-zeros/\">https://leetcode.com/problems/duplicate-zeros/</a></p>\n</li>\n<li><p>Others<br>  <a href=\"https://leetcode.com/problems/statistics-from-a-large-sample/\">https://leetcode.com/problems/statistics-from-a-large-sample/</a><br>  <a href=\"https://leetcode.com/problems/partition-labels/\">https://leetcode.com/problems/partition-labels/</a><br>  <a href=\"https://leetcode.com/problems/magical-string/\">https://leetcode.com/problems/magical-string/</a><br>  <a href=\"https://leetcode.com/problems/friends-of-appropriate-ages/\">https://leetcode.com/problems/friends-of-appropriate-ages/</a><br>  <a href=\"https://leetcode.com/problems/longest-mountain-in-array/\">https://leetcode.com/problems/longest-mountain-in-array/</a><br>  <a href=\"https://leetcode.com/problems/shortest-subarray-to-be-removed-to-make-array-sorted/\">https://leetcode.com/problems/shortest-subarray-to-be-removed-to-make-array-sorted/</a></p>\n</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th>3.Running from beginning of 2 arrays &#x2F; Merging 2 arrays</th>\n</tr>\n</thead>\n</table>\n<p>In this category, you will be given 2 arrays or lists, then have to process them with individual pointers.<br><img src=\"https://user-images.githubusercontent.com/77569653/226705109-0e41c781-9c08-4796-90fd-8b2169cef242.png\" alt=\"image\"></p>\n<ul>\n<li><p>Sorted arrays<br>  (*) <a href=\"https://leetcode.com/problems/merge-sorted-array/\">https://leetcode.com/problems/merge-sorted-array/</a><br>  <a href=\"https://leetcode.com/problems/heaters/\">https://leetcode.com/problems/heaters/</a><br>  <a href=\"https://leetcode.com/problems/find-the-distance-value-between-two-arrays/\">https://leetcode.com/problems/find-the-distance-value-between-two-arrays/</a></p>\n</li>\n<li><p>Intersections&#x2F;LCA like<br>  (*) <a href=\"https://leetcode.com/problems/intersection-of-two-linked-lists/\">https://leetcode.com/problems/intersection-of-two-linked-lists/</a><br>  <a href=\"https://leetcode.com/problems/intersection-of-two-arrays/\">https://leetcode.com/problems/intersection-of-two-arrays/</a><br>  <a href=\"https://leetcode.com/problems/intersection-of-two-arrays-ii/\">https://leetcode.com/problems/intersection-of-two-arrays-ii/</a></p>\n</li>\n<li><p>SubString<br>  (*) <a href=\"https://leetcode.com/problems/implement-strstr/\">https://leetcode.com/problems/implement-strstr/</a><br>  <a href=\"https://leetcode.com/problems/longest-word-in-dictionary-through-deleting/\">https://leetcode.com/problems/longest-word-in-dictionary-through-deleting/</a><br>  <a href=\"https://leetcode.com/problems/long-pressed-name/\">https://leetcode.com/problems/long-pressed-name/</a><br>  <a href=\"https://leetcode.com/problems/longest-uncommon-subsequence-ii/\">https://leetcode.com/problems/longest-uncommon-subsequence-ii/</a><br>  <a href=\"https://leetcode.com/problems/compare-version-numbers/\">https://leetcode.com/problems/compare-version-numbers/</a><br>  <a href=\"https://leetcode.com/problems/camelcase-matching/\">https://leetcode.com/problems/camelcase-matching/</a><br>  <a href=\"https://leetcode.com/problems/expressive-words/\">https://leetcode.com/problems/expressive-words/</a></p>\n</li>\n<li><p>Median Finder<br>  (*) <a href=\"https://leetcode.com/problems/find-median-from-data-stream/\">https://leetcode.com/problems/find-median-from-data-stream/</a></p>\n</li>\n<li><p>Meet-in-the-middle &#x2F; Binary Search<br>  (*) <a href=\"https://leetcode.com/problems/partition-array-into-two-arrays-to-minimize-sum-difference/\">https://leetcode.com/problems/partition-array-into-two-arrays-to-minimize-sum-difference/</a><br>  <a href=\"https://leetcode.com/problems/closest-subsequence-sum/\">https://leetcode.com/problems/closest-subsequence-sum/</a><br>  <a href=\"https://leetcode.com/problems/ways-to-split-array-into-three-subarrays/\">https://leetcode.com/problems/ways-to-split-array-into-three-subarrays/</a><br>  <a href=\"https://leetcode.com/problems/3sum-closest/\">https://leetcode.com/problems/3sum-closest/</a><br>  <a href=\"https://leetcode.com/problems/valid-triangle-number/\">https://leetcode.com/problems/valid-triangle-number/</a></p>\n</li>\n<li><p>Others<br>  <a href=\"https://leetcode.com/problems/shortest-unsorted-continuous-subarray/\">https://leetcode.com/problems/shortest-unsorted-continuous-subarray/</a><br>  <a href=\"https://leetcode.com/problems/most-profit-assigning-work/\">https://leetcode.com/problems/most-profit-assigning-work/</a><br>  <a href=\"https://leetcode.com/problems/largest-merge-of-two-strings/\">https://leetcode.com/problems/largest-merge-of-two-strings/</a><br>  <a href=\"https://leetcode.com/problems/swap-adjacent-in-lr-string/\">https://leetcode.com/problems/swap-adjacent-in-lr-string/</a></p>\n</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th>4.Split &amp; Merge of an array &#x2F; Divide &amp; Conquer</th>\n</tr>\n</thead>\n</table>\n<p>The last one is similiar to previous category but there is one thing is added. First, you need to split the given list into 2 separate lists and then do two pointers approach to merge or unify them. There aren’t many tasks here.<br><img src=\"https://user-images.githubusercontent.com/77569653/226704881-583b72b9-d759-46f6-ab8f-a81310800c30.png\" alt=\"image\"></p>\n<ul>\n<li><p>Partition<br>  (*) <a href=\"https://leetcode.com/problems/partition-list/\">https://leetcode.com/problems/partition-list/</a></p>\n</li>\n<li><p>Sorting<br>  (*) <a href=\"https://leetcode.com/problems/sort-list/\">https://leetcode.com/problems/sort-list/</a></p>\n</li>\n</ul>\n",
            "tags": [
                "LeetCode",
                "blog",
                "coding",
                "computer-science",
                "two pointers problems"
            ]
        },
        {
            "id": "https://samirpaul1.github.io/posts/binary-search-template/",
            "url": "https://samirpaul1.github.io/posts/binary-search-template/",
            "title": "Binary Search Template",
            "date_published": "2023-08-05T20:52:53.890Z",
            "content_html": "<p>Binary Search is quite easy to understand conceptually. Basically, it splits the search space into two halves and only keep the half that probably has the search target and throw away the other half that would not possibly have the answer. In this manner, we reduce the search space to half the size at every step, until we find the target. Binary Search helps us reduce the search time from linear O(n) to logarithmic O(log n). <strong>But when it comes to implementation, it’s rather difficult to write a bug-free code in just a few minutes</strong>. Some of the most common problems include:</p>\n<ul>\n<li>When to exit the loop? Should we use <code>left &lt; right</code> or <code>left &lt;= right</code> as the while loop condition?</li>\n<li>How to initialize the boundary variable <code>left</code> and <code>right</code>?</li>\n<li>How to update the boundary? How to choose the appropriate combination from <code>left = mid</code>, <code>left = mid + 1</code> and <code>right = mid</code>, <code>right = mid - 1</code>?</li>\n</ul>\n<p>A rather common misunderstanding of binary search is that people often think this technique could only be used in simple scenario like “Given a sorted array, find a specific value in it”. As a matter of fact, it can be applied to much more complicated situations.</p>\n<p>After a lot of practice in LeetCode, I’ve made a powerful binary search template and solved many Hard problems by just slightly twisting this template. I’ll share the template with you guys in this post. <strong>I don’t want to just show off the code and leave. Most importantly, I want to share the logical thinking: how to apply this general template to all sorts of problems</strong>. Hopefully, after reading this post, people wouldn’t be pissed off any more when LeetCoding, “This problem could be solved with binary search! Why didn’t I think of that before!”</p>\n<hr>\n<h1 id=\"Most-Generalized-Binary-Search\"><a href=\"#Most-Generalized-Binary-Search\" class=\"headerlink\" title=\"&gt;&gt; Most Generalized Binary Search\"></a>&gt;&gt; Most Generalized Binary Search</h1><p>Suppose we have a <strong>search space</strong>. It could be an array, a range, etc. Usually it’s sorted in ascending order. For most tasks, we can transform the requirement into the following generalized form:</p>\n<p><strong>Minimize k , s.t. condition(k) is True</strong></p>\n<p>The following code is the most generalized binary search template:</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">def binary_search(array) -&gt; int:</span><br><span class=\"line\">    def condition(value) -&gt; bool:</span><br><span class=\"line\">        pass</span><br><span class=\"line\"></span><br><span class=\"line\">    left, right = min(search_space), max(search_space) # could be [0, n], [1, n] etc. Depends on problem</span><br><span class=\"line\">    while left &lt; right:</span><br><span class=\"line\">        mid = left + (right - left) // 2</span><br><span class=\"line\">        if condition(mid):</span><br><span class=\"line\">            right = mid</span><br><span class=\"line\">        else:</span><br><span class=\"line\">            left = mid + 1</span><br><span class=\"line\">    return left</span><br></pre></td></tr></table></figure>\n\n<p>What’s really nice of this template is that, for most of the binary search problems, <strong>we only need to modify three parts after copy-pasting this template, and never need to worry about corner cases and bugs in code any more</strong>:</p>\n<ul>\n<li>Correctly initialize the boundary variables <code>left</code> and <code>right</code> to specify search space. Only one rule: set up the boundary to <strong>include all possible elements</strong>;</li>\n<li>Decide return value. Is it <code>return left</code> or <code>return left - 1</code>? Remember this: <strong>after exiting the while loop, <code>left</code> is the minimal k​ satisfying the <code>condition</code> function</strong>;</li>\n<li>Design the <code>condition</code> function. This is the most difficult and most beautiful part. Needs lots of practice.</li>\n</ul>\n<p>Below I’ll show you guys how to apply this powerful template to many LeetCode problems.</p>\n<hr>\n<h1 id=\"Basic-Application\"><a href=\"#Basic-Application\" class=\"headerlink\" title=\"&gt;&gt; Basic Application\"></a>&gt;&gt; Basic Application</h1><h2 id=\"278-First-Bad-Version-Easy\"><a href=\"#278-First-Bad-Version-Easy\" class=\"headerlink\" title=\"278. First Bad Version [Easy]\"></a><a href=\"https://leetcode.com/problems/first-bad-version/\">278. First Bad Version [Easy]</a></h2><p>You are a product manager and currently leading a team to develop a new product. Since each version is developed based on the previous version, all the versions after a bad version are also bad. Suppose you have <code>n</code> versions <code>[1, 2, ..., n]</code> and you want to find out the first bad one, which causes all the following ones to be bad. You are given an API <code>bool isBadVersion(version)</code> which will return whether <code>version</code> is bad.</p>\n<p><strong>Example:</strong></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Given n = 5, and version = 4 is the first bad version.</span><br><span class=\"line\"></span><br><span class=\"line\">call isBadVersion(3) -&gt; false</span><br><span class=\"line\">call isBadVersion(5) -&gt; true</span><br><span class=\"line\">call isBadVersion(4) -&gt; true</span><br><span class=\"line\"></span><br><span class=\"line\">Then 4 is the first bad version. </span><br></pre></td></tr></table></figure>\n\n<p>First, we initialize <code>left = 1</code> and <code>right = n</code> to include all possible values. Then we notice that we don’t even need to design the <code>condition</code> function. It’s already given by the <code>isBadVersion</code> API. Finding the first bad version is equivalent to finding the minimal k satisfying <code>isBadVersion(k) is True</code>. Our template can fit in very nicely:</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">class Solution:</span><br><span class=\"line\">    def firstBadVersion(self, n) -&gt; int:</span><br><span class=\"line\">        left, right = 1, n</span><br><span class=\"line\">        while left &lt; right:</span><br><span class=\"line\">            mid = left + (right - left) // 2</span><br><span class=\"line\">            if isBadVersion(mid):</span><br><span class=\"line\">                right = mid</span><br><span class=\"line\">            else:</span><br><span class=\"line\">                left = mid + 1</span><br><span class=\"line\">        return left</span><br></pre></td></tr></table></figure>\n\n<hr>\n<h2 id=\"69-Sqrt-x-Easy\"><a href=\"#69-Sqrt-x-Easy\" class=\"headerlink\" title=\"69. Sqrt(x) [Easy]\"></a><a href=\"https://leetcode.com/problems/sqrtx/\">69. Sqrt(x) [Easy]</a></h2><p>Implement <code>int sqrt(int x)</code>. Compute and return the square root of <em>x</em>, where <em>x</em> is guaranteed to be a non-negative integer. Since the return type is an integer, the decimal digits are truncated and only the integer part of the result is returned.</p>\n<p><strong>Example:</strong></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Input: 4</span><br><span class=\"line\">Output: 2</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Input: 8</span><br><span class=\"line\">Output: 2</span><br></pre></td></tr></table></figure>\n\n<p>Easy one. First we need to search for minimal k satisfying condition <code>k^2 &gt; x</code>, then <code>k - 1</code> is the answer to the question. We can easily come up with the solution. Notice that I set <code>right = x + 1</code> instead of <code>right = x</code> to deal with special input cases like <code>x = 0</code> and <code>x = 1</code>.</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">def mySqrt(x: int) -&gt; int:</span><br><span class=\"line\">    left, right = 0, x + 1</span><br><span class=\"line\">    while left &lt; right:</span><br><span class=\"line\">        mid = left + (right - left) // 2</span><br><span class=\"line\">        if mid * mid &gt; x:</span><br><span class=\"line\">            right = mid</span><br><span class=\"line\">        else:</span><br><span class=\"line\">            left = mid + 1</span><br><span class=\"line\">    return left - 1  # `left` is the minimum k value, `k - 1` is the answer</span><br></pre></td></tr></table></figure>\n\n<hr>\n<h2 id=\"35-Search-Insert-Position-Easy\"><a href=\"#35-Search-Insert-Position-Easy\" class=\"headerlink\" title=\"35. Search Insert Position [Easy]\"></a><a href=\"https://leetcode.com/problems/search-insert-position/\">35. Search Insert Position [Easy]</a></h2><p>Given a sorted array and a target value, return the index if the target is found. If not, return the index where it would be if it were inserted in order. You may assume no duplicates in the array.</p>\n<p><strong>Example:</strong></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Input: [1,3,5,6], 5</span><br><span class=\"line\">Output: 2</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Input: [1,3,5,6], 2</span><br><span class=\"line\">Output: 1</span><br></pre></td></tr></table></figure>\n\n<p>Very classic application of binary search. We are looking for the minimal k value satisfying <code>nums[k] &gt;= target</code>, and we can just copy-paste our template. Notice that our solution is correct regardless of whether the input array <code>nums</code> has duplicates. Also notice that the input <code>target</code> might be larger than all elements in <code>nums</code> and therefore needs to placed at the end of the array. That’s why we should initialize <code>right = len(nums)</code> instead of <code>right = len(nums) - 1</code>.</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">class Solution:</span><br><span class=\"line\">    def searchInsert(self, nums: List[int], target: int) -&gt; int:</span><br><span class=\"line\">        left, right = 0, len(nums)</span><br><span class=\"line\">        while left &lt; right:</span><br><span class=\"line\">            mid = left + (right - left) // 2</span><br><span class=\"line\">            if nums[mid] &gt;= target:</span><br><span class=\"line\">                right = mid</span><br><span class=\"line\">            else:</span><br><span class=\"line\">                left = mid + 1</span><br><span class=\"line\">        return left</span><br></pre></td></tr></table></figure>\n\n<hr>\n<h1 id=\"Advanced-Application\"><a href=\"#Advanced-Application\" class=\"headerlink\" title=\"&gt;&gt; Advanced Application\"></a>&gt;&gt; Advanced Application</h1><p>The above problems are quite easy to solve, because they already give us the array to be searched. We’d know that we should use binary search to solve them at first glance. However, <strong>more often are the situations where the search space and search target are not so readily available</strong>. Sometimes we won’t even realize that the problem should be solved with binary search – we might just turn to dynamic programming or DFS and get stuck for a very long time.</p>\n<p>As for the question “When can we use binary search?”, my answer is that, <strong>If we can discover some kind of monotonicity, for example, if <code>condition(k) is True</code> then <code>condition(k + 1) is True</code>, then we can consider binary search</strong>.</p>\n<h2 id=\"1011-Capacity-To-Ship-Packages-Within-D-Days-Medium\"><a href=\"#1011-Capacity-To-Ship-Packages-Within-D-Days-Medium\" class=\"headerlink\" title=\"1011. Capacity To Ship Packages Within D Days [Medium]\"></a><a href=\"https://leetcode.com/problems/capacity-to-ship-packages-within-d-days/\">1011. Capacity To Ship Packages Within D Days [Medium]</a></h2><p>A conveyor belt has packages that must be shipped from one port to another within <code>D</code> days. The <code>i</code>-th package on the conveyor belt has a weight of <code>weights[i]</code>. Each day, we load the ship with packages on the conveyor belt (in the order given by <code>weights</code>). We may not load more weight than the maximum weight capacity of the ship.</p>\n<p>Return the least weight capacity of the ship that will result in all the packages on the conveyor belt being shipped within <code>D</code> days.</p>\n<p><strong>Example :</strong></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Input: weights = [1,2,3,4,5,6,7,8,9,10], D = 5</span><br><span class=\"line\">Output: 15</span><br><span class=\"line\">Explanation: </span><br><span class=\"line\">A ship capacity of 15 is the minimum to ship all the packages in 5 days like this:</span><br><span class=\"line\">1st day: 1, 2, 3, 4, 5</span><br><span class=\"line\">2nd day: 6, 7</span><br><span class=\"line\">3rd day: 8</span><br><span class=\"line\">4th day: 9</span><br><span class=\"line\">5th day: 10</span><br><span class=\"line\"></span><br><span class=\"line\">Note that the cargo must be shipped in the order given, so using a ship of capacity 14 and splitting the packages into parts like (2, 3, 4, 5), (1, 6, 7), (8), (9), (10) is not allowed. </span><br></pre></td></tr></table></figure>\n\n<p>Binary search probably would not come to our mind when we first meet this problem. We might automatically treat <code>weights</code> as search space and then realize we’ve entered a dead end after wasting lots of time. In fact, we are looking for the minimal one among all feasible capacities. We dig out the monotonicity of this problem: if we can successfully ship all packages within <code>D</code> days with capacity <code>m</code>, then we can definitely ship them all with any capacity larger than <code>m</code>. Now we can design a <code>condition</code> function, let’s call it <code>feasible</code>, given an input <code>capacity</code>, it returns whether it’s possible to ship all packages within <code>D</code> days. This can run in a greedy way: if there’s still room for the current package, we put this package onto the conveyor belt, otherwise we wait for the next day to place this package. If the total days needed exceeds <code>D</code>, we return <code>False</code>, otherwise we return <code>True</code>.</p>\n<p>Next, we need to initialize our boundary correctly. Obviously <code>capacity</code> should be at least <code>max(weights)</code>, otherwise the conveyor belt couldn’t ship the heaviest package. On the other hand, <code>capacity</code> need not be more than<code>sum(weights)</code>, because then we can ship all packages in just one day.</p>\n<p>Now we’ve got all we need to apply our binary search template:</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">def shipWithinDays(weights: List[int], D: int) -&gt; int:</span><br><span class=\"line\">    def feasible(capacity) -&gt; bool:</span><br><span class=\"line\">        days = 1</span><br><span class=\"line\">        total = 0</span><br><span class=\"line\">        for weight in weights:</span><br><span class=\"line\">            total += weight</span><br><span class=\"line\">            if total &gt; capacity:  # too heavy, wait for the next day</span><br><span class=\"line\">                total = weight</span><br><span class=\"line\">                days += 1</span><br><span class=\"line\">                if days &gt; D:  # cannot ship within D days</span><br><span class=\"line\">                    return False</span><br><span class=\"line\">        return True</span><br><span class=\"line\"></span><br><span class=\"line\">    left, right = max(weights), sum(weights)</span><br><span class=\"line\">    while left &lt; right:</span><br><span class=\"line\">        mid = left + (right - left) // 2</span><br><span class=\"line\">        if feasible(mid):</span><br><span class=\"line\">            right = mid</span><br><span class=\"line\">        else:</span><br><span class=\"line\">            left = mid + 1</span><br><span class=\"line\">    return left</span><br></pre></td></tr></table></figure>\n\n<hr>\n<h2 id=\"410-Split-Array-Largest-Sum-Hard\"><a href=\"#410-Split-Array-Largest-Sum-Hard\" class=\"headerlink\" title=\"410. Split Array Largest Sum [Hard]\"></a><a href=\"https://leetcode.com/problems/split-array-largest-sum/\">410. Split Array Largest Sum [Hard]</a></h2><p>Given an array which consists of non-negative integers and an integer <em>m</em>, you can split the array into <em>m</em> non-empty continuous subarrays. Write an algorithm to minimize the largest sum among these <em>m</em> subarrays.</p>\n<p><strong>Example:</strong></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Input:</span><br><span class=\"line\">nums = [7,2,5,10,8]</span><br><span class=\"line\">m = 2</span><br><span class=\"line\"></span><br><span class=\"line\">Output:</span><br><span class=\"line\">18</span><br><span class=\"line\"></span><br><span class=\"line\">Explanation:</span><br><span class=\"line\">There are four ways to split nums into two subarrays. The best way is to split it into [7,2,5] and [10,8], where the largest sum among the two subarrays is only 18.</span><br></pre></td></tr></table></figure>\n\n<p>If you take a close look, you would probably see how similar this problem is with LC 1011 above. Similarly, we can design a <code>feasible</code> function: given an input <code>threshold</code>, then decide if we can split the array into several subarrays such that every subarray-sum is less than or equal to <code>threshold</code>. In this way, we discover the monotonicity of the problem: if <code>feasible(m)</code> is <code>True</code>, then all inputs larger than <code>m</code> can satisfy <code>feasible</code> function. You can see that the solution code is exactly the same as LC 1011.</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">def splitArray(nums: List[int], m: int) -&gt; int:        </span><br><span class=\"line\">    def feasible(threshold) -&gt; bool:</span><br><span class=\"line\">        count = 1</span><br><span class=\"line\">        total = 0</span><br><span class=\"line\">        for num in nums:</span><br><span class=\"line\">            total += num</span><br><span class=\"line\">            if total &gt; threshold:</span><br><span class=\"line\">                total = num</span><br><span class=\"line\">                count += 1</span><br><span class=\"line\">                if count &gt; m:</span><br><span class=\"line\">                    return False</span><br><span class=\"line\">        return True</span><br><span class=\"line\"></span><br><span class=\"line\">    left, right = max(nums), sum(nums)</span><br><span class=\"line\">    while left &lt; right:</span><br><span class=\"line\">        mid = left + (right - left) // 2</span><br><span class=\"line\">        if feasible(mid):</span><br><span class=\"line\">            right = mid     </span><br><span class=\"line\">        else:</span><br><span class=\"line\">            left = mid + 1</span><br><span class=\"line\">    return left</span><br></pre></td></tr></table></figure>\n\n<p>But we probably would have doubts: It’s true that <code>left</code> returned by our solution is the minimal value satisfying <code>feasible</code>, but how can we know that we can split the original array to <strong>actually get this subarray-sum</strong>? For example, let’s say <code>nums = [7,2,5,10,8]</code> and <code>m = 2</code>. We have 4 different ways to split the array to get 4 different largest subarray-sum correspondingly: <code>25:[[7], [2,5,10,8]]</code>, <code>23:[[7,2], [5,10,8]]</code>, <code>18:[[7,2,5], [10,8]]</code>, <code>24:[[7,2,5,10], [8]]</code>. Only 4 values. But our search space <code>[max(nums), sum(nums)] = [10, 32]</code> has much more that just 4 values. That is, no matter how we split the input array, we cannot get most of the values in our search space.</p>\n<p>Let’s say <code>k</code> is the minimal value satisfying <code>feasible</code> function. We can prove the correctness of our solution with <strong>proof by contradiction</strong>. Assume that no subarray’s sum is equal to <code>k</code>, that is, every subarray sum is less than <code>k</code>. The variable <code>total</code> inside <code>feasible</code> function keeps track of the total weights of current load. If our assumption is correct, then <code>total</code> would always be less than <code>k</code>. As a result, <code>feasible(k - 1)</code> must be <code>True</code>, because <code>total</code> would at most be equal to <code>k - 1</code> and would never trigger the if-clause <code>if total &gt; threshold</code>, <strong>therefore <code>feasible(k - 1)</code> must have the same output as <code>feasible(k)</code>, which is <code>True</code></strong>. But we already know that <code>k</code> is the minimal value satisfying <code>feasible</code> function, <strong>so <code>feasible(k - 1)</code> has to be <code>False</code>, which is a contradiction</strong>. So our assumption is incorrect. Now we’ve proved that our algorithm is correct.</p>\n<hr>\n<h2 id=\"875-Koko-Eating-Bananas-Medium\"><a href=\"#875-Koko-Eating-Bananas-Medium\" class=\"headerlink\" title=\"875. Koko Eating Bananas [Medium]\"></a><a href=\"https://leetcode.com/problems/koko-eating-bananas/\">875. Koko Eating Bananas [Medium]</a></h2><p>Koko loves to eat bananas. There are <code>N</code> piles of bananas, the <code>i</code>-th pile has <code>piles[i]</code> bananas. The guards have gone and will come back in <code>H</code> hours. Koko can decide her bananas-per-hour eating speed of <code>K</code>. Each hour, she chooses some pile of bananas, and eats K bananas from that pile. If the pile has less than <code>K</code> bananas, she eats all of them instead, and won’t eat any more bananas during this hour.</p>\n<p>Koko likes to eat slowly, but still wants to finish eating all the bananas before the guards come back. <strong>Return the minimum integer <code>K</code> such that she can eat all the bananas within <code>H</code> hours</strong>.</p>\n<p><strong>Example :</strong></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Input: piles = [3,6,7,11], H = 8</span><br><span class=\"line\">Output: 4</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Input: piles = [30,11,23,4,20], H = 5</span><br><span class=\"line\">Output: 30</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Input: piles = [30,11,23,4,20], H = 6</span><br><span class=\"line\">Output: 23</span><br></pre></td></tr></table></figure>\n\n<p>Very similar to LC 1011 and LC 410 mentioned above. Let’s design a <code>feasible</code> function, given an input <code>speed</code>, determine whether Koko can finish all bananas within <code>H</code> hours with hourly eating speed <code>speed</code>. Obviously, the lower bound of the search space is 1, and upper bound is <code>max(piles)</code>, because Koko can only choose one pile of bananas to eat every hour.</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">def minEatingSpeed(piles: List[int], H: int) -&gt; int:</span><br><span class=\"line\">    def feasible(speed) -&gt; bool:</span><br><span class=\"line\">        # return sum(math.ceil(pile / speed) for pile in piles) &lt;= H  # slower        </span><br><span class=\"line\">        return sum((pile - 1) // speed + 1 for pile in piles) &lt;= H  # faster</span><br><span class=\"line\"></span><br><span class=\"line\">    left, right = 1, max(piles)</span><br><span class=\"line\">    while left &lt; right:</span><br><span class=\"line\">        mid = left  + (right - left) // 2</span><br><span class=\"line\">        if feasible(mid):</span><br><span class=\"line\">            right = mid</span><br><span class=\"line\">        else:</span><br><span class=\"line\">            left = mid + 1</span><br><span class=\"line\">    return left</span><br></pre></td></tr></table></figure>\n\n<hr>\n<h2 id=\"1482-Minimum-Number-of-Days-to-Make-m-Bouquets-Medium\"><a href=\"#1482-Minimum-Number-of-Days-to-Make-m-Bouquets-Medium\" class=\"headerlink\" title=\"1482. Minimum Number of Days to Make m Bouquets [Medium]\"></a><a href=\"https://leetcode.com/problems/minimum-number-of-days-to-make-m-bouquets/\">1482. Minimum Number of Days to Make m Bouquets [Medium]</a></h2><p>Given an integer array <code>bloomDay</code>, an integer <code>m</code> and an integer <code>k</code>. We need to make <code>m</code> bouquets. To make a bouquet, you need to use <code>k</code> <strong>adjacent flowers</strong> from the garden. The garden consists of <code>n</code> flowers, the <code>ith</code> flower will bloom in the <code>bloomDay[i]</code> and then can be used in <strong>exactly one</strong> bouquet. Return <em>the minimum number of days</em> you need to wait to be able to make <code>m</code> bouquets from the garden. If it is impossible to make <code>m</code> bouquets return <strong>-1</strong>.</p>\n<p><strong>Examples:</strong></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Input: bloomDay = [1,10,3,10,2], m = 3, k = 1</span><br><span class=\"line\">Output: 3</span><br><span class=\"line\">Explanation: Let&#x27;s see what happened in the first three days. x means flower bloomed and _ means flower didn&#x27;t bloom in the garden.</span><br><span class=\"line\">We need 3 bouquets each should contain 1 flower.</span><br><span class=\"line\">After day 1: [x, _, _, _, _]   // we can only make one bouquet.</span><br><span class=\"line\">After day 2: [x, _, _, _, x]   // we can only make two bouquets.</span><br><span class=\"line\">After day 3: [x, _, x, _, x]   // we can make 3 bouquets. The answer is 3.</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Input: bloomDay = [1,10,3,10,2], m = 3, k = 2</span><br><span class=\"line\">Output: -1</span><br><span class=\"line\">Explanation: We need 3 bouquets each has 2 flowers, that means we need 6 flowers. We only have 5 flowers so it is impossible to get the needed bouquets and we return -1.</span><br></pre></td></tr></table></figure>\n\n<p>Now that we’ve solved three advanced problems above, this one should be pretty easy to do. The monotonicity of this problem is very clear: if we can make <code>m</code> bouquets after waiting for <code>d</code> days, then we can definitely finish that as well if we wait for more than <code>d</code> days.</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">def minDays(bloomDay: List[int], m: int, k: int) -&gt; int:</span><br><span class=\"line\">    def feasible(days) -&gt; bool:</span><br><span class=\"line\">        bonquets, flowers = 0, 0</span><br><span class=\"line\">        for bloom in bloomDay:</span><br><span class=\"line\">            if bloom &gt; days:</span><br><span class=\"line\">                flowers = 0</span><br><span class=\"line\">            else:</span><br><span class=\"line\">                bonquets += (flowers + 1) // k</span><br><span class=\"line\">                flowers = (flowers + 1) % k</span><br><span class=\"line\">        return bonquets &gt;= m</span><br><span class=\"line\"></span><br><span class=\"line\">    if len(bloomDay) &lt; m * k:</span><br><span class=\"line\">        return -1</span><br><span class=\"line\">    left, right = 1, max(bloomDay)</span><br><span class=\"line\">    while left &lt; right:</span><br><span class=\"line\">        mid = left + (right - left) // 2</span><br><span class=\"line\">        if feasible(mid):</span><br><span class=\"line\">            right = mid</span><br><span class=\"line\">        else:</span><br><span class=\"line\">            left = mid + 1</span><br><span class=\"line\">    return left</span><br></pre></td></tr></table></figure>\n\n<hr>\n<h2 id=\"668-Kth-Smallest-Number-in-Multiplication-Table-Hard\"><a href=\"#668-Kth-Smallest-Number-in-Multiplication-Table-Hard\" class=\"headerlink\" title=\"668. Kth Smallest Number in Multiplication Table [Hard]\"></a><a href=\"https://leetcode.com/problems/kth-smallest-number-in-multiplication-table/description/\">668. Kth Smallest Number in Multiplication Table [Hard]</a></h2><p>Nearly every one have used the <a href=\"https://en.wikipedia.org/wiki/Multiplication_table\">Multiplication Table</a>. But could you find out the <code>k-th</code> smallest number quickly from the multiplication table? Given the height <code>m</code> and the length <code>n</code> of a <code>m * n</code> Multiplication Table, and a positive integer <code>k</code>, you need to return the <code>k-th</code> smallest number in this table.</p>\n<p><strong>Example :</strong></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Input: m = 3, n = 3, k = 5</span><br><span class=\"line\">Output: 3</span><br><span class=\"line\">Explanation: </span><br><span class=\"line\">The Multiplication Table:</span><br><span class=\"line\">1\t2\t3</span><br><span class=\"line\">2\t4\t6</span><br><span class=\"line\">3\t6\t9</span><br><span class=\"line\"></span><br><span class=\"line\">The 5-th smallest number is 3 (1, 2, 2, 3, 3).</span><br></pre></td></tr></table></figure>\n\n<p>For Kth-Smallest problems like this, what comes to our mind first is Heap. Usually we can maintain a Min-Heap and just pop the top of the Heap for k times. However, that doesn’t work out in this problem. We don’t have every single number in the entire Multiplication Table, instead, we only have the height and the length of the table. If we are to apply Heap method, we need to explicitly calculate these <code>m * n</code> values and save them to a heap. The time complexity and space complexity of this process are both O(mn), which is quite inefficient. This is when binary search comes in. Remember we say that designing <code>condition</code> function is the most difficult part? In order to find the k-th smallest value in the table, we can design an <code>enough</code> function, given an input <code>num</code>, determine whether there’re at least k values less than or equal to <code>num</code>. <strong>The minimal <code>num</code> satisfying <code>enough</code> function is the answer we’re looking for</strong>. Recall that the key to binary search is discovering monotonicity. In this problem, if <code>num</code> satisfies <code>enough</code>, then of course any value larger than <code>num</code> can satisfy. This monotonicity is the fundament of our binary search algorithm.</p>\n<p>Let’s consider search space. Obviously the lower bound should be 1, and the upper bound should be the largest value in the Multiplication Table, which is <code>m * n</code>, then we have search space <code>[1, m * n]</code>. The overwhelming advantage of binary search solution to heap solution is that it doesn’t need to explicitly calculate all numbers in that table, all it needs is just picking up one value out of the search space and apply <code>enough</code> function to this value, to determine should we keep the left half or the right half of the search space. In this way, binary search solution only requires constant space complexity, much better than heap solution.</p>\n<p>Next let’s consider how to implement <code>enough</code> function. It can be observed that every row in the Multiplication Table is just multiples of its index. For example, all numbers in 3rd row <code>[3,6,9,12,15...]</code> are multiples of 3. Therefore, we can just go row by row to count the total number of entries less than or equal to input <code>num</code>. Following is the complete solution.</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">def findKthNumber(m: int, n: int, k: int) -&gt; int:</span><br><span class=\"line\">    def enough(num) -&gt; bool:</span><br><span class=\"line\">        count = 0</span><br><span class=\"line\">        for val in range(1, m + 1):  # count row by row</span><br><span class=\"line\">            add = min(num // val, n)</span><br><span class=\"line\">            if add == 0:  # early exit</span><br><span class=\"line\">                break</span><br><span class=\"line\">            count += add</span><br><span class=\"line\">        return count &gt;= k                </span><br><span class=\"line\"></span><br><span class=\"line\">    left, right = 1, n * m</span><br><span class=\"line\">    while left &lt; right:</span><br><span class=\"line\">        mid = left + (right - left) // 2</span><br><span class=\"line\">        if enough(mid):</span><br><span class=\"line\">            right = mid</span><br><span class=\"line\">        else:</span><br><span class=\"line\">            left = mid + 1</span><br><span class=\"line\">    return left </span><br></pre></td></tr></table></figure>\n\n<p>In LC 410 above, we have doubt “Is the result from binary search actually a subarray sum?”. Here we have a similar doubt: “<strong>Is the result from binary search actually in the Multiplication Table?</strong>“. The answer is yes, and we also can apply proof by contradiction. Denote <code>num</code> as the minimal input that satisfies <code>enough</code> function. Let’s assume that <code>num</code> is not in the table, which means that <code>num</code> is not divisible by any <code>val</code> in <code>[1, m]</code>, that is, <code>num % val &gt; 0</code>. Therefore, changing the input from <code>num</code> to <code>num - 1</code> doesn’t have any effect on the expression <code>add = min(num // val, n)</code>. So <code>enough(num - 1)</code> would also return <code>True</code>, same as <code>enough(num)</code>. But we already know <code>num</code> is the minimal input satisfying <code>enough</code> function, so <code>enough(num - 1)</code> has to be <code>False</code>. Contradiction! The opposite of our original assumption is true: <code>num</code> is actually in the table.</p>\n<hr>\n<h2 id=\"719-Find-K-th-Smallest-Pair-Distance-Hard\"><a href=\"#719-Find-K-th-Smallest-Pair-Distance-Hard\" class=\"headerlink\" title=\"719. Find K-th Smallest Pair Distance [Hard]\"></a><a href=\"https://leetcode.com/problems/find-k-th-smallest-pair-distance/\">719. Find K-th Smallest Pair Distance [Hard]</a></h2><p>Given an integer array, return the k-th smallest <strong>distance</strong> among all the pairs. The distance of a pair (A, B) is defined as the absolute difference between A and B.</p>\n<p><strong>Example :</strong></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Input:</span><br><span class=\"line\">nums = [1,3,1]</span><br><span class=\"line\">k = 1</span><br><span class=\"line\">Output: 0 </span><br><span class=\"line\">Explanation:</span><br><span class=\"line\">Following are all the pairs. The 1st smallest distance pair is (1,1), and its distance is 0.</span><br><span class=\"line\">(1,3) -&gt; 2</span><br><span class=\"line\">(1,1) -&gt; 0</span><br><span class=\"line\">(3,1) -&gt; 2</span><br></pre></td></tr></table></figure>\n\n<p>Very similar to LC 668 above, both are about finding Kth-Smallest. Just like LC 668, We can design an <code>enough</code> function, given an input <code>distance</code>, determine whether there’re at least k pairs whose distances are less than or equal to <code>distance</code>. We can sort the input array and use two pointers (fast pointer and slow pointer, pointed at a pair) to scan it. Both pointers go from leftmost end. If the current pair pointed at has a distance less than or equal to <code>distance</code>, all pairs between these pointers are valid (since the array is already sorted), we move forward the fast pointer. Otherwise, we move forward the slow pointer. By the time both pointers reach the rightmost end, we finish our scan and see if total counts exceed k. Here is the implementation:</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">def enough(distance) -&gt; bool:  # two pointers</span><br><span class=\"line\">    count, i, j = 0, 0, 0</span><br><span class=\"line\">    while i &lt; n or j &lt; n:</span><br><span class=\"line\">        while j &lt; n and nums[j] - nums[i] &lt;= distance:  # move fast pointer</span><br><span class=\"line\">            j += 1</span><br><span class=\"line\">        count += j - i - 1  # count pairs</span><br><span class=\"line\">        i += 1  # move slow pointer</span><br><span class=\"line\">    return count &gt;= k</span><br></pre></td></tr></table></figure>\n\n<p>Obviously, our search space should be <code>[0, max(nums) - min(nums)]</code>. Now we are ready to copy-paste our template:</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">def smallestDistancePair(nums: List[int], k: int) -&gt; int:</span><br><span class=\"line\">    nums.sort()</span><br><span class=\"line\">    n = len(nums)</span><br><span class=\"line\">    left, right = 0, nums[-1] - nums[0]</span><br><span class=\"line\">    while left &lt; right:</span><br><span class=\"line\">        mid = left + (right - left) // 2</span><br><span class=\"line\">        if enough(mid):</span><br><span class=\"line\">            right = mid</span><br><span class=\"line\">        else:</span><br><span class=\"line\">            left = mid + 1</span><br><span class=\"line\">    return left</span><br></pre></td></tr></table></figure>\n\n<hr>\n<h2 id=\"1201-Ugly-Number-III-Medium\"><a href=\"#1201-Ugly-Number-III-Medium\" class=\"headerlink\" title=\"1201. Ugly Number III [Medium]\"></a><a href=\"https://leetcode.com/problems/ugly-number-iii/\">1201. Ugly Number III [Medium]</a></h2><p>Write a program to find the <code>n</code>-th ugly number. Ugly numbers are <strong>positive integers</strong> which are divisible by <code>a</code> <strong>or</strong> <code>b</code> <strong>or</strong> <code>c</code>.</p>\n<p><strong>Example :</strong></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Input: n = 3, a = 2, b = 3, c = 5</span><br><span class=\"line\">Output: 4</span><br><span class=\"line\">Explanation: The ugly numbers are 2, 3, 4, 5, 6, 8, 9, 10... The 3rd is 4.</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Input: n = 4, a = 2, b = 3, c = 4</span><br><span class=\"line\">Output: 6</span><br><span class=\"line\">Explanation: The ugly numbers are 2, 3, 4, 6, 8, 9, 10, 12... The 4th is 6.</span><br></pre></td></tr></table></figure>\n\n<p>Nothing special. Still finding the Kth-Smallest. We need to design an <code>enough</code> function, given an input <code>num</code>, determine whether there are at least n ugly numbers less than or equal to <code>num</code>. Since <code>a</code> might be a multiple of <code>b</code> or <code>c</code>, or the other way round, we need the help of greatest common divisor to avoid counting duplicate numbers.</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">def nthUglyNumber(n: int, a: int, b: int, c: int) -&gt; int:</span><br><span class=\"line\">    def enough(num) -&gt; bool:</span><br><span class=\"line\">        total = num//a + num//b + num//c - num//ab - num//ac - num//bc + num//abc</span><br><span class=\"line\">        return total &gt;= n</span><br><span class=\"line\"></span><br><span class=\"line\">    ab = a * b // math.gcd(a, b)</span><br><span class=\"line\">    ac = a * c // math.gcd(a, c)</span><br><span class=\"line\">    bc = b * c // math.gcd(b, c)</span><br><span class=\"line\">    abc = a * bc // math.gcd(a, bc)</span><br><span class=\"line\">    left, right = 1, 10 ** 10</span><br><span class=\"line\">    while left &lt; right:</span><br><span class=\"line\">        mid = left + (right - left) // 2</span><br><span class=\"line\">        if enough(mid):</span><br><span class=\"line\">            right = mid</span><br><span class=\"line\">        else:</span><br><span class=\"line\">            left = mid + 1</span><br><span class=\"line\">    return left</span><br></pre></td></tr></table></figure>\n\n<hr>\n<h2 id=\"1283-Find-the-Smallest-Divisor-Given-a-Threshold-Medium\"><a href=\"#1283-Find-the-Smallest-Divisor-Given-a-Threshold-Medium\" class=\"headerlink\" title=\"1283. Find the Smallest Divisor Given a Threshold [Medium]\"></a><a href=\"https://leetcode.com/problems/find-the-smallest-divisor-given-a-threshold/\">1283. Find the Smallest Divisor Given a Threshold [Medium]</a></h2><p>Given an array of integers <code>nums</code> and an integer <code>threshold</code>, we will choose a positive integer divisor and divide all the array by it and sum the result of the division. Find the <strong>smallest</strong> divisor such that the result mentioned above is less than or equal to <code>threshold</code>.</p>\n<p>Each result of division is rounded to the nearest integer greater than or equal to that element. (For example: 7&#x2F;3 &#x3D; 3 and 10&#x2F;2 &#x3D; 5). It is guaranteed that there will be an answer.</p>\n<p><strong>Example :</strong></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Input: nums = [1,2,5,9], threshold = 6</span><br><span class=\"line\">Output: 5</span><br><span class=\"line\">Explanation: We can get a sum to 17 (1+2+5+9) if the divisor is 1. </span><br><span class=\"line\">If the divisor is 4 we can get a sum to 7 (1+1+2+3) and if the divisor is 5 the sum will be 5 (1+1+1+2). </span><br></pre></td></tr></table></figure>\n\n<p>After so many problems introduced above, this one should be a piece of cake. We don’t even need to bother to design a <code>condition</code> function, because the problem has already told us explicitly what condition we need to satisfy.</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">def smallestDivisor(nums: List[int], threshold: int) -&gt; int:</span><br><span class=\"line\">    def condition(divisor) -&gt; bool:</span><br><span class=\"line\">        return sum((num - 1) // divisor + 1 for num in nums) &lt;= threshold</span><br><span class=\"line\"></span><br><span class=\"line\">    left, right = 1, max(nums)</span><br><span class=\"line\">    while left &lt; right:</span><br><span class=\"line\">        mid = left + (right - left) // 2</span><br><span class=\"line\">        if condition(mid):</span><br><span class=\"line\">            right = mid</span><br><span class=\"line\">        else:</span><br><span class=\"line\">            left = mid + 1</span><br><span class=\"line\">    return left</span><br></pre></td></tr></table></figure>\n\n<hr>\n<h1 id=\"End\"><a href=\"#End\" class=\"headerlink\" title=\"End\"></a>End</h1><p>Wow, thank you so much for making it to the end! Really appreciate that. As you can see from the python codes above, they all look very similar to each other. That’s because I copy-pasted my own template all the time. No exception. This is the strong proof of my template’s powerfulness and adaptability. I believe everyone can acquire this binary search template to solve many problems. All we need is just more practice to build up our ability to discover the monotonicity of the problem and to design a beautiful <code>condition</code> function.</p>\n<p>Hope this helps.</p>\n<p><strong>Reference</strong></p>\n<ul>\n<li><a href=\"https://leetcode.com/problems/split-array-largest-sum/discuss/89819/C%2B%2B-Fast-Very-clear-explanation-Clean-Code-Solution-with-Greedy-Algorithm-and-Binary-Search\">[C++ &#x2F; Fast &#x2F; Very clear explanation &#x2F; Clean Code] Solution with Greedy Algorithm and Binary Search</a></li>\n<li><a href=\"https://leetcode.com/problems/find-k-th-smallest-pair-distance/discuss/109082/Approach-the-problem-using-the-%22trial-and-error%22-algorithm\">Approach the problem using the “trial and error” algorithm</a></li>\n<li><a href=\"https://leetcode.com/problems/binary-search/discuss/423162/Binary-Search-101-The-Ultimate-Binary-Search-Handbook\">Binary Search 101 The-Ultimate-Binary-Search-Handbook - LeetCode</a></li>\n<li><a href=\"https://leetcode.com/problems/ugly-number-iii/discuss/387539/cpp-Binary-Search-with-picture-and-Binary-Search-Template\">ugly-number-iii Binary Search with picture &amp; Binary Search Template - LeetCode</a></li>\n</ul>\n",
            "tags": [
                "blog",
                "coding",
                "computer-science",
                "Binary Search"
            ]
        },
        {
            "id": "https://samirpaul1.github.io/posts/dynamic-programming-patterns/",
            "url": "https://samirpaul1.github.io/posts/dynamic-programming-patterns/",
            "title": "Dynamic Programming Patterns",
            "date_published": "2023-08-05T20:52:53.890Z",
            "content_html": "<p><img src=\"https://user-images.githubusercontent.com/77569653/226705479-a4d6c0a3-0191-4d45-8bf6-597ffaa5de40.png\" alt=\"Banner\"></p>\n<p>Before starting the topic let me introduce myself. I am a Mobile Developer currently working in Warsaw and spending my free time for interview preparations. I started to prepare for interviews two years ago. At that time I should say I could not solve the two sum problem. Easy problems seemed to me like hard ones so most of the time I had to look at editorials and discuss section. Currently, I have solved ~800 problems and time to time participate in contests. I usually solve 3 problems in a contest and sometimes 4 problems. Ok, lets come back to the topic.</p>\n<p>Recently I have concentrated my attention on Dynamic Programming cause its one of the hardest topics in an interview prep. After solving ~140 problems in DP I have noticed that there are few patterns that can be found in different problems. So I did a research on that and find the following topics. I will not give complete ways how to solve problems but these patterns may be helpful in solving DP.</p>\n<h1 id=\"Patterns\"><a href=\"#Patterns\" class=\"headerlink\" title=\"Patterns\"></a>Patterns</h1><hr>\n<p><a href=\"https://leetcode.com/discuss/study-guide/458695/Dynamic-Programming-Patterns#Minimum-(Maximum)-Path-to-Reach-a-Target\">Minimum (Maximum) Path to Reach a Target</a><br><a href=\"https://leetcode.com/discuss/study-guide/458695/Dynamic-Programming-Patterns#distinct-ways\">Distinct Ways</a><br><a href=\"https://leetcode.com/discuss/study-guide/458695/Dynamic-Programming-Patterns#Merging-Intervals\">Merging Intervals</a><br><a href=\"https://leetcode.com/discuss/study-guide/458695/Dynamic-Programming-Patterns#DP-on-Strings\">DP on Strings</a><br><a href=\"https://leetcode.com/discuss/study-guide/458695/Dynamic-Programming-Patterns#Decision-Making\">Decision Making</a></p>\n<h1 id=\"Minimum-Maximum-Path-to-Reach-a-Target\"><a href=\"#Minimum-Maximum-Path-to-Reach-a-Target\" class=\"headerlink\" title=\"Minimum (Maximum) Path to Reach a Target\"></a>Minimum (Maximum) Path to Reach a Target</h1><hr>\n<p>Problem list: <a href=\"https://leetcode.com/list/55ac4kuc\">https://leetcode.com/list/55ac4kuc</a></p>\n<p>Generate problem statement for this pattern</p>\n<h3 id=\"Statement\"><a href=\"#Statement\" class=\"headerlink\" title=\"Statement\"></a>Statement</h3><blockquote>\n<p>Given a target find minimum (maximum) cost &#x2F; path &#x2F; sum to reach the target.</p>\n</blockquote>\n<h3 id=\"Approach\"><a href=\"#Approach\" class=\"headerlink\" title=\"Approach\"></a>Approach</h3><blockquote>\n<p>Choose minimum (maximum) path among all possible paths before the current state, then add value for the current state.</p>\n</blockquote>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">routes[i] = min(routes[i-1], routes[i-2], ... , routes[i-k]) + cost[i]</span><br></pre></td></tr></table></figure>\n\n<p>Generate optimal solutions for all values in the target and return the value for the target.</p>\n<h3 id=\"Top-Down\"><a href=\"#Top-Down\" class=\"headerlink\" title=\"Top-Down\"></a>Top-Down</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">for (int j = 0; j &lt; ways.size(); ++j) &#123;</span><br><span class=\"line\">    result = min(result, topDown(target - ways[j]) + cost/ path / sum);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">return memo[/*state parameters*/] = result;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Bottom-Up\"><a href=\"#Bottom-Up\" class=\"headerlink\" title=\"Bottom-Up\"></a>Bottom-Up</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">for (int i = 1; i &lt;= target; ++i) &#123;</span><br><span class=\"line\">   for (int j = 0; j &lt; ways.size(); ++j) &#123;</span><br><span class=\"line\">       if (ways[j] &lt;= i) &#123;</span><br><span class=\"line\">           dp[i] = min(dp[i], dp[i - ways[j]] + cost / path / sum) ;</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"> </span><br><span class=\"line\">return dp[target]</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Similar-Problems\"><a href=\"#Similar-Problems\" class=\"headerlink\" title=\"Similar Problems\"></a>Similar Problems</h3><p><a href=\"https://leetcode.com/problems/min-cost-climbing-stairs/\">746. Min Cost Climbing Stairs</a> <code>Easy</code></p>\n<h3 id=\"Top-Down-1\"><a href=\"#Top-Down-1\" class=\"headerlink\" title=\"Top-Down\"></a>Top-Down</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">int result = min(minCost(n-1, cost, memo), minCost(n-2, cost, memo)) + (n == cost.size() ? 0 : cost[n]);</span><br><span class=\"line\">return memo[n] = result;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Bottom-Up-1\"><a href=\"#Bottom-Up-1\" class=\"headerlink\" title=\"Bottom-Up\"></a>Bottom-Up</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">for (int i = 2; i &lt;= n; ++i) &#123;</span><br><span class=\"line\">   dp[i] = min(dp[i-1], dp[i-2]) + (i == n ? 0 : cost[i]);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"> </span><br><span class=\"line\">return dp[n]</span><br></pre></td></tr></table></figure>\n\n<p><a href=\"https://leetcode.com/problems/minimum-path-sum/\">64. Minimum Path Sum</a> <code>Medium</code></p>\n<h3 id=\"Top-Down-2\"><a href=\"#Top-Down-2\" class=\"headerlink\" title=\"Top-Down\"></a>Top-Down</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">int result = min(pathSum(i+1, j, grid, memo), pathSum(i, j+1, grid, memo)) + grid[i][j];</span><br><span class=\"line\">    </span><br><span class=\"line\">return memo[i][j] = result;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Bottom-Up-2\"><a href=\"#Bottom-Up-2\" class=\"headerlink\" title=\"Bottom-Up\"></a>Bottom-Up</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">for (int i = 1; i &lt; n; ++i) &#123;</span><br><span class=\"line\">   for (int j = 1; j &lt; m; ++j) &#123;</span><br><span class=\"line\">       grid[i][j] = min(grid[i-1][j], grid[i][j-1]) + grid[i][j];</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"> </span><br><span class=\"line\">return grid[n-1][m-1]</span><br></pre></td></tr></table></figure>\n\n<p><a href=\"https://leetcode.com/problems/coin-change/\">322. Coin Change</a> <code>Medium</code></p>\n<h3 id=\"Top-Down-3\"><a href=\"#Top-Down-3\" class=\"headerlink\" title=\"Top-Down\"></a>Top-Down</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">for (int i = 0; i &lt; coins.size(); ++i) &#123;</span><br><span class=\"line\">    if (coins[i] &lt;= target) &#123; // check validity of a sub-problem</span><br><span class=\"line\">        result = min(ans, CoinChange(target - coins[i], coins) + 1);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">return memo[target] = result;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Bottom-Up-3\"><a href=\"#Bottom-Up-3\" class=\"headerlink\" title=\"Bottom-Up\"></a>Bottom-Up</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">for (int j = 1; j &lt;= amount; ++j) &#123;</span><br><span class=\"line\">   for (int i = 0; i &lt; coins.size(); ++i) &#123;</span><br><span class=\"line\">       if (coins[i] &lt;= j) &#123;</span><br><span class=\"line\">           dp[j] = min(dp[j], dp[j - coins[i]] + 1);</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><a href=\"https://leetcode.com/problems/minimum-falling-path-sum/\">931. Minimum Falling Path Sum</a> <code>Medium</code></p>\n<p><a href=\"https://leetcode.com/problems/minimum-cost-for-tickets/\">983. Minimum Cost For Tickets</a> <code>Medium</code></p>\n<p><a href=\"https://leetcode.com/problems/2-keys-keyboard/\">650. 2 Keys Keyboard</a> <code>Medium</code></p>\n<p><a href=\"https://leetcode.com/problems/perfect-squares/\">279. Perfect Squares</a> <code>Medium</code></p>\n<p><a href=\"https://leetcode.com/problems/last-stone-weight-ii/\">1049. Last Stone Weight II</a> <code>Medium</code></p>\n<p><a href=\"https://leetcode.com/problems/triangle/\">120. Triangle</a> <code>Medium</code></p>\n<p><a href=\"https://leetcode.com/problems/ones-and-zeroes/\">474. Ones and Zeroes</a> <code>Medium</code></p>\n<p><a href=\"https://leetcode.com/problems/maximal-square/\">221. Maximal Square</a> <code>Medium</code></p>\n<p><a href=\"https://leetcode.com/problems/coin-change/\">322. Coin Change</a> <code>Medium</code></p>\n<p><a href=\"https://leetcode.com/problems/tiling-a-rectangle-with-the-fewest-squares/\">1240. Tiling a Rectangle with the Fewest Squares</a> <code>Hard</code></p>\n<p><a href=\"https://leetcode.com/problems/dungeon-game/\">174. Dungeon Game</a> <code>Hard</code></p>\n<p><a href=\"https://leetcode.com/problems/minimum-number-of-refueling-stops/\">871. Minimum Number of Refueling Stops</a> <code>Hard</code></p>\n<h1 id=\"Distinct-Ways\"><a href=\"#Distinct-Ways\" class=\"headerlink\" title=\"Distinct Ways\"></a>Distinct Ways</h1><hr>\n<p>Problem List: <a href=\"https://leetcode.com/list/55ajm50i\">https://leetcode.com/list/55ajm50i</a></p>\n<p>Generate problem statement for this pattern</p>\n<h3 id=\"Statement-1\"><a href=\"#Statement-1\" class=\"headerlink\" title=\"Statement\"></a>Statement</h3><blockquote>\n<p>Given a target find a number of distinct ways to reach the target.</p>\n</blockquote>\n<h3 id=\"Approach-1\"><a href=\"#Approach-1\" class=\"headerlink\" title=\"Approach\"></a>Approach</h3><blockquote>\n<p>Sum all possible ways to reach the current state.</p>\n</blockquote>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">routes[i] = routes[i-1] + routes[i-2], ... , + routes[i-k]</span><br></pre></td></tr></table></figure>\n\n<p>Generate sum for all values in the target and return the value for the target.</p>\n<h3 id=\"Top-Down-4\"><a href=\"#Top-Down-4\" class=\"headerlink\" title=\"Top-Down\"></a>Top-Down</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">for (int j = 0; j &lt; ways.size(); ++j) &#123;</span><br><span class=\"line\">    result += topDown(target - ways[j]);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">return memo[/*state parameters*/] = result;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Bottom-Up-4\"><a href=\"#Bottom-Up-4\" class=\"headerlink\" title=\"Bottom-Up\"></a>Bottom-Up</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">for (int i = 1; i &lt;= target; ++i) &#123;</span><br><span class=\"line\">   for (int j = 0; j &lt; ways.size(); ++j) &#123;</span><br><span class=\"line\">       if (ways[j] &lt;= i) &#123;</span><br><span class=\"line\">           dp[i] += dp[i - ways[j]];</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"> </span><br><span class=\"line\">return dp[target]</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Similar-Problems-1\"><a href=\"#Similar-Problems-1\" class=\"headerlink\" title=\"Similar Problems\"></a>Similar Problems</h3><p><a href=\"https://leetcode.com/problems/climbing-stairs/\">70. Climbing Stairs</a> <code>Easy</code></p>\n<h3 id=\"Top-Down-5\"><a href=\"#Top-Down-5\" class=\"headerlink\" title=\"Top-Down\"></a>Top-Down</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">int result = climbStairs(n-1, memo) + climbStairs(n-2, memo); </span><br><span class=\"line\">    </span><br><span class=\"line\">return memo[n] = result;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Bottom-Up-5\"><a href=\"#Bottom-Up-5\" class=\"headerlink\" title=\"Bottom-Up\"></a>Bottom-Up</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">for (int stair = 2; stair &lt;= n; ++stair) &#123;</span><br><span class=\"line\">   for (int step = 1; step &lt;= 2; ++step) &#123;</span><br><span class=\"line\">       dp[stair] += dp[stair-step];   </span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><a href=\"https://leetcode.com/problems/unique-paths/\">62. Unique Paths</a> <code>Medium</code></p>\n<h3 id=\"Top-Down-6\"><a href=\"#Top-Down-6\" class=\"headerlink\" title=\"Top-Down\"></a>Top-Down</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">int result = UniquePaths(x-1, y) + UniquePaths(x, y-1);</span><br><span class=\"line\"></span><br><span class=\"line\">return memo[x][y] = result;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Bottom-Up-6\"><a href=\"#Bottom-Up-6\" class=\"headerlink\" title=\"Bottom-Up\"></a>Bottom-Up</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">for (int i = 1; i &lt; m; ++i) &#123;</span><br><span class=\"line\">   for (int j = 1; j &lt; n; ++j) &#123;</span><br><span class=\"line\">       dp[i][j] = dp[i][j-1] + dp[i-1][j];</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><a href=\"https://leetcode.com/problems/number-of-dice-rolls-with-target-sum/\">1155. Number of Dice Rolls With Target Sum</a> <code>Medium</code></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">for (int rep = 1; rep &lt;= d; ++rep) &#123;</span><br><span class=\"line\">   vector&lt;int&gt; new_ways(target+1);</span><br><span class=\"line\">   for (int already = 0; already &lt;= target; ++already) &#123;</span><br><span class=\"line\">       for (int pipe = 1; pipe &lt;= f; ++pipe) &#123;</span><br><span class=\"line\">           if (already - pipe &gt;= 0) &#123;</span><br><span class=\"line\">               new_ways[already] += ways[already - pipe];</span><br><span class=\"line\">               new_ways[already] %= mod;</span><br><span class=\"line\">           &#125;</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">   ways = new_ways;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>Note</strong></p>\n<p>Some questions point out the number of repetitions, in that case, add one more loop to simulate every repetition.</p>\n<p><a href=\"https://leetcode.com/problems/knight-probability-in-chessboard/\">688. Knight Probability in Chessboard</a> <code>Medium</code></p>\n<p><a href=\"https://leetcode.com/problems/target-sum/\">494. Target Sum</a> <code>Medium</code></p>\n<p><a href=\"https://leetcode.com/problems/combination-sum-iv/\">377. Combination Sum IV</a> <code>Medium</code></p>\n<p><a href=\"https://leetcode.com/problems/knight-dialer/\">935. Knight Dialer</a> <code>Medium</code></p>\n<p><a href=\"https://leetcode.com/problems/dice-roll-simulation/\">1223. Dice Roll Simulation</a> <code>Medium</code></p>\n<p><a href=\"https://leetcode.com/problems/partition-equal-subset-sum/\">416. Partition Equal Subset Sum</a> <code>Medium</code></p>\n<p><a href=\"https://leetcode.com/problems/soup-servings/\">808. Soup Servings</a> <code>Medium</code></p>\n<p><a href=\"https://leetcode.com/problems/domino-and-tromino-tiling/\">790. Domino and Tromino Tiling</a> <code>Medium</code></p>\n<p><a href=\"https://leetcode.com/problems/minimum-swaps-to-make-sequences-increasing/\">801. Minimum Swaps To Make Sequences Increasing</a></p>\n<p><a href=\"https://leetcode.com/problems/number-of-longest-increasing-subsequence/\">673. Number of Longest Increasing Subsequence</a> <code>Medium</code></p>\n<p><a href=\"https://leetcode.com/problems/unique-paths-ii/\">63. Unique Paths II</a> <code>Medium</code></p>\n<p><a href=\"https://leetcode.com/problems/out-of-boundary-paths/\">576. Out of Boundary Paths</a> <code>Medium</code></p>\n<p><a href=\"https://leetcode.com/problems/number-of-ways-to-stay-in-the-same-place-after-some-steps/\">1269. Number of Ways to Stay in the Same Place After Some Steps</a> <code>Hard</code></p>\n<p><a href=\"https://leetcode.com/problems/count-vowels-permutation/\">1220. Count Vowels Permutation</a> <code>Hard</code></p>\n<h1 id=\"Merging-Intervals\"><a href=\"#Merging-Intervals\" class=\"headerlink\" title=\"Merging Intervals\"></a>Merging Intervals</h1><hr>\n<p>Problem List: <a href=\"https://leetcode.com/list/55aj8s16\">https://leetcode.com/list/55aj8s16</a></p>\n<p>Generate problem statement for this pattern</p>\n<h3 id=\"Statement-2\"><a href=\"#Statement-2\" class=\"headerlink\" title=\"Statement\"></a>Statement</h3><blockquote>\n<p>Given a set of numbers find an optimal solution for a problem considering the current number and the best you can get from the left and right sides.</p>\n</blockquote>\n<h3 id=\"Approach-2\"><a href=\"#Approach-2\" class=\"headerlink\" title=\"Approach\"></a>Approach</h3><blockquote>\n<p>Find all optimal solutions for every interval and return the best possible answer.</p>\n</blockquote>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// from i to j</span><br><span class=\"line\">dp[i][j] = dp[i][k] + result[k] + dp[k+1][j]</span><br></pre></td></tr></table></figure>\n\n<p>Get the best from the left and right sides and add a solution for the current position.</p>\n<h3 id=\"Top-Down-7\"><a href=\"#Top-Down-7\" class=\"headerlink\" title=\"Top-Down\"></a>Top-Down</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">for (int k = i; k &lt;= j; ++k) &#123;</span><br><span class=\"line\">    result = max(result, topDown(nums, i, k-1) + result[k] + topDown(nums, k+1, j));</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">return memo[/*state parameters*/] = result;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Bottom-Up-7\"><a href=\"#Bottom-Up-7\" class=\"headerlink\" title=\"Bottom-Up\"></a>Bottom-Up</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">for(int l = 1; l&lt;n; l++) &#123;</span><br><span class=\"line\">   for(int i = 0; i&lt;n-l; i++) &#123;</span><br><span class=\"line\">       int j = i+l;</span><br><span class=\"line\">       for(int k = i; k&lt;j; k++) &#123;</span><br><span class=\"line\">           dp[i][j] = max(dp[i][j], dp[i][k] + result[k] + dp[k+1][j]);</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"> </span><br><span class=\"line\">return dp[0][n-1];</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">for(int l = 1; l&lt;n; l++) &#123;</span><br><span class=\"line\">   for(int i = 0; i&lt;n-l; i++) &#123;</span><br><span class=\"line\">       int j = i+l;</span><br><span class=\"line\">       for(int k = i; k&lt;j; k++) &#123;</span><br><span class=\"line\">           dp[i][j] = max(dp[i][j], dp[i][k] + result[k] + dp[k+1][j]);</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"> </span><br><span class=\"line\">return dp[0][n-1]</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Similar-Problems-2\"><a href=\"#Similar-Problems-2\" class=\"headerlink\" title=\"Similar Problems\"></a>Similar Problems</h3><p><a href=\"https://leetcode.com/problems/minimum-cost-tree-from-leaf-values/\">1130. Minimum Cost Tree From Leaf Values</a> <code>Medium</code></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">for (int l = 1; l &lt; n; ++l) &#123;</span><br><span class=\"line\">   for (int i = 0; i &lt; n - l; ++i) &#123;</span><br><span class=\"line\">       int j = i + l;</span><br><span class=\"line\">       dp[i][j] = INT_MAX;</span><br><span class=\"line\">       for (int k = i; k &lt; j; ++k) &#123;</span><br><span class=\"line\">           dp[i][j] = min(dp[i][j], dp[i][k] + dp[k+1][j] + maxs[i][k] * maxs[k+1][j]);</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><a href=\"https://leetcode.com/problems/unique-binary-search-trees/\">96. Unique Binary Search Trees</a> <code>Medium</code></p>\n<p><a href=\"https://leetcode.com/problems/minimum-score-triangulation-of-polygon/\">1039. Minimum Score Triangulation of Polygon</a> <code>Medium</code></p>\n<p><a href=\"https://leetcode.com/problems/remove-boxes/\">546. Remove Boxes</a> <code>Medium</code></p>\n<p><a href=\"https://leetcode.com/problems/minimum-cost-to-merge-stones/\">1000. Minimum Cost to Merge Stones</a> <code>Medium</code></p>\n<p><a href=\"https://leetcode.com/problems/burst-balloons/\">312. Burst Balloons</a> <code>Hard</code></p>\n<h3 id=\"Top-Down-8\"><a href=\"#Top-Down-8\" class=\"headerlink\" title=\"Top-Down\"></a>Top-Down</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">for (int k = i; k &lt;= j; ++k) &#123;</span><br><span class=\"line\">    result = max(result, topDown(nums, i, k-1, memo) + (i-1 &gt;= 0 ? nums[i-1] : 1) * nums[k] * (j+1 &lt; nums.size() ? nums[j+1] : 1) + topDown(nums, k+1, j, memo));</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">return memo[i][j] = result;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Bottom-Up-8\"><a href=\"#Bottom-Up-8\" class=\"headerlink\" title=\"Bottom-Up\"></a>Bottom-Up</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">for(int l = 1; l &lt; n; l++) &#123;</span><br><span class=\"line\">    for(int i = 0; i &lt; n-l; i++) &#123;</span><br><span class=\"line\">        int j = i+l;</span><br><span class=\"line\">        for(int k = i; k &lt;= j; k++) &#123;</span><br><span class=\"line\">            dp[i][j] = max(dp[i][j], (((k&gt;i &amp;&amp; k&gt;0) ? dp[i][k-1] : 0) + (i&gt;0 ? nums[i-1] : 1) * nums[k] * (j&lt;n-1 ? nums[j+1] : 1) + ((k&lt;j &amp;&amp; k&lt;n-1) ? dp[k+1][j] : 0)));</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">return dp[0][n-1];</span><br></pre></td></tr></table></figure>\n\n<p><a href=\"https://leetcode.com/problems/guess-number-higher-or-lower-ii/\">375. Guess Number Higher or Lower II</a> <code>Medium</code></p>\n<h1 id=\"DP-on-Strings\"><a href=\"#DP-on-Strings\" class=\"headerlink\" title=\"DP on Strings\"></a>DP on Strings</h1><hr>\n<p>Problem List: <a href=\"https://leetcode.com/list/55afh7m7\">https://leetcode.com/list/55afh7m7</a></p>\n<p>General problem statement for this pattern can vary but most of the time you are given two strings where lengths of those strings are not big</p>\n<h3 id=\"Statement-3\"><a href=\"#Statement-3\" class=\"headerlink\" title=\"Statement\"></a>Statement</h3><blockquote>\n<p>Given two strings <code>s1</code> and <code>s2</code>, return <code>some result</code>.</p>\n</blockquote>\n<h3 id=\"Approach-3\"><a href=\"#Approach-3\" class=\"headerlink\" title=\"Approach\"></a>Approach</h3><blockquote>\n<p>Most of the problems on this pattern requires a solution that can be accepted in O(n^2) complexity.</p>\n</blockquote>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// i - indexing string s1</span><br><span class=\"line\">// j - indexing string s2</span><br><span class=\"line\">for (int i = 1; i &lt;= n; ++i) &#123;</span><br><span class=\"line\">   for (int j = 1; j &lt;= m; ++j) &#123;</span><br><span class=\"line\">       if (s1[i-1] == s2[j-1]) &#123;</span><br><span class=\"line\">           dp[i][j] = /*code*/;</span><br><span class=\"line\">       &#125; else &#123;</span><br><span class=\"line\">           dp[i][j] = /*code*/;</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>If you are given one string <code>s</code> the approach may little vary</p>\n</blockquote>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">for (int l = 1; l &lt; n; ++l) &#123;</span><br><span class=\"line\">   for (int i = 0; i &lt; n-l; ++i) &#123;</span><br><span class=\"line\">       int j = i + l;</span><br><span class=\"line\">       if (s[i] == s[j]) &#123;</span><br><span class=\"line\">           dp[i][j] = /*code*/;</span><br><span class=\"line\">       &#125; else &#123;</span><br><span class=\"line\">           dp[i][j] = /*code*/;</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><a href=\"https://leetcode.com/problems/longest-common-subsequence/\">1143. Longest Common Subsequence</a> <code>Medium</code></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">for (int i = 1; i &lt;= n; ++i) &#123;</span><br><span class=\"line\">   for (int j = 1; j &lt;= m; ++j) &#123;</span><br><span class=\"line\">       if (text1[i-1] == text2[j-1]) &#123;</span><br><span class=\"line\">           dp[i][j] = dp[i-1][j-1] + 1;</span><br><span class=\"line\">       &#125; else &#123;</span><br><span class=\"line\">           dp[i][j] = max(dp[i-1][j], dp[i][j-1]);</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><a href=\"https://leetcode.com/problems/palindromic-substrings/\">647. Palindromic Substrings</a> <code>Medium</code></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">for (int l = 1; l &lt; n; ++l) &#123;</span><br><span class=\"line\">   for (int i = 0; i &lt; n-l; ++i) &#123;</span><br><span class=\"line\">       int j = i + l;</span><br><span class=\"line\">       if (s[i] == s[j] &amp;&amp; dp[i+1][j-1] == j-i-1) &#123;</span><br><span class=\"line\">           dp[i][j] = dp[i+1][j-1] + 2;</span><br><span class=\"line\">       &#125; else &#123;</span><br><span class=\"line\">           dp[i][j] = 0;</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><a href=\"https://leetcode.com/problems/longest-palindromic-subsequence/\">516. Longest Palindromic Subsequence</a> <code>Medium</code></p>\n<p><a href=\"https://leetcode.com/problems/shortest-common-supersequence/\">1092. Shortest Common Supersequence</a> <code>Medium</code></p>\n<p><a href=\"https://leetcode.com/problems/edit-distance/\">72. Edit Distance</a> <code>Hard</code></p>\n<p><a href=\"https://leetcode.com/problems/distinct-subsequences/\">115. Distinct Subsequences</a> <code>Hard</code></p>\n<p><a href=\"https://leetcode.com/problems/minimum-ascii-delete-sum-for-two-strings/\">712. Minimum ASCII Delete Sum for Two Strings</a> <code>Medium</code></p>\n<p><a href=\"https://leetcode.com/problems/longest-palindromic-substring/\">5. Longest Palindromic Substring</a> <code>Medium</code></p>\n<h1 id=\"Decision-Making\"><a href=\"#Decision-Making\" class=\"headerlink\" title=\"Decision Making\"></a>Decision Making</h1><hr>\n<p>Problem List: <a href=\"https://leetcode.com/list/55af7bu7\">https://leetcode.com/list/55af7bu7</a></p>\n<p>The general problem statement for this pattern is forgiven situation decide whether to use or not to use the current state. So, the problem requires you to make a decision at a current state.</p>\n<h3 id=\"Statement-4\"><a href=\"#Statement-4\" class=\"headerlink\" title=\"Statement\"></a>Statement</h3><blockquote>\n<p>Given a set of values find an answer with an option to choose or ignore the current value.</p>\n</blockquote>\n<h3 id=\"Approach-4\"><a href=\"#Approach-4\" class=\"headerlink\" title=\"Approach\"></a>Approach</h3><blockquote>\n<p>If you decide to choose the current value use the previous result where the value was ignored; vice-versa, if you decide to ignore the current value use previous result where value was used.</p>\n</blockquote>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// i - indexing a set of values</span><br><span class=\"line\">// j - options to ignore j values</span><br><span class=\"line\">for (int i = 1; i &lt; n; ++i) &#123;</span><br><span class=\"line\">   for (int j = 1; j &lt;= k; ++j) &#123;</span><br><span class=\"line\">       dp[i][j] = max(&#123;dp[i][j], dp[i-1][j] + arr[i], dp[i-1][j-1]&#125;);</span><br><span class=\"line\">       dp[i][j-1] = max(&#123;dp[i][j-1], dp[i-1][j-1] + arr[i], arr[i]&#125;);</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><a href=\"https://leetcode.com/problems/house-robber/\">198. House Robber</a> <code>Easy</code></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">for (int i = 1; i &lt; n; ++i) &#123;</span><br><span class=\"line\">   dp[i][1] = max(dp[i-1][0] + nums[i], dp[i-1][1]);</span><br><span class=\"line\">   dp[i][0] = dp[i-1][1];</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><a href=\"https://leetcode.com/problems/best-time-to-buy-and-sell-stock/\">121. Best Time to Buy and Sell Stock</a> <code>Easy</code></p>\n<p><a href=\"https://leetcode.com/problems/best-time-to-buy-and-sell-stock-with-transaction-fee/\">714. Best Time to Buy and Sell Stock with Transaction Fee</a> <code>Medium</code></p>\n<p><a href=\"https://leetcode.com/problems/best-time-to-buy-and-sell-stock-with-cooldown/\">309. Best Time to Buy and Sell Stock with Cooldown</a> <code>Medium</code></p>\n<p><a href=\"https://leetcode.com/problems/best-time-to-buy-and-sell-stock-iii/\">123. Best Time to Buy and Sell Stock III</a> <code>Hard</code></p>\n<p><a href=\"https://leetcode.com/problems/best-time-to-buy-and-sell-stock-iv/\">188. Best Time to Buy and Sell Stock IV</a> <code>Hard</code></p>\n<p>I hope these tips will be helpful 😊</p>\n",
            "tags": [
                "blog",
                "coding",
                "computer-science",
                "Dynamic Programming",
                "Patterns"
            ]
        },
        {
            "id": "https://samirpaul1.github.io/posts/dp-for-beginners/",
            "url": "https://samirpaul1.github.io/posts/dp-for-beginners/",
            "title": "DP for Beginners",
            "date_published": "2023-08-05T20:52:53.890Z",
            "content_html": "<p><strong>Longest Increasing Subsequence variants:</strong><br><a href=\"https://leetcode.com/problems/longest-increasing-subsequence/\">https://leetcode.com/problems/longest-increasing-subsequence/</a><br><a href=\"https://leetcode.com/problems/largest-divisible-subset/\">https://leetcode.com/problems/largest-divisible-subset/</a><br><a href=\"https://leetcode.com/problems/russian-doll-envelopes/\">https://leetcode.com/problems/russian-doll-envelopes/</a><br><a href=\"https://leetcode.com/problems/maximum-length-of-pair-chain/\">https://leetcode.com/problems/maximum-length-of-pair-chain/</a><br><a href=\"https://leetcode.com/problems/number-of-longest-increasing-subsequence/\">https://leetcode.com/problems/number-of-longest-increasing-subsequence/</a><br><a href=\"https://leetcode.com/problems/delete-and-earn/\">https://leetcode.com/problems/delete-and-earn/</a><br><a href=\"https://leetcode.com/problems/longest-string-chain/\">https://leetcode.com/problems/longest-string-chain/</a></p>\n<p><strong>Partition Subset:</strong><br><a href=\"https://leetcode.com/problems/partition-equal-subset-sum/\">https://leetcode.com/problems/partition-equal-subset-sum/</a><br><a href=\"https://leetcode.com/problems/last-stone-weight-ii/\">https://leetcode.com/problems/last-stone-weight-ii/</a></p>\n<p><strong>BitMasking:</strong><br><a href=\"https://leetcode.com/problems/partition-to-k-equal-sum-subsets/\">https://leetcode.com/problems/partition-to-k-equal-sum-subsets/</a></p>\n<p><strong>Longest Common Subsequence Variant:</strong><br><a href=\"https://leetcode.com/problems/longest-common-subsequence/\">https://leetcode.com/problems/longest-common-subsequence/</a><br><a href=\"https://leetcode.com/problems/edit-distance/\">https://leetcode.com/problems/edit-distance/</a><br><a href=\"https://leetcode.com/problems/distinct-subsequences/\">https://leetcode.com/problems/distinct-subsequences/</a><br><a href=\"https://leetcode.com/problems/minimum-ascii-delete-sum-for-two-strings/\">https://leetcode.com/problems/minimum-ascii-delete-sum-for-two-strings/</a></p>\n<p><strong>Palindrome:</strong><br><a href=\"https://leetcode.com/problems/palindrome-partitioning-ii/\">https://leetcode.com/problems/palindrome-partitioning-ii/</a><br><a href=\"https://leetcode.com/problems/palindromic-substrings/\">https://leetcode.com/problems/palindromic-substrings/</a></p>\n<p><strong>Coin Change variant:</strong><br><a href=\"https://leetcode.com/problems/coin-change/\">https://leetcode.com/problems/coin-change/</a><br><a href=\"https://leetcode.com/problems/coin-change-2/\">https://leetcode.com/problems/coin-change-2/</a><br><a href=\"https://leetcode.com/problems/combination-sum-iv/\">https://leetcode.com/problems/combination-sum-iv/</a><br><a href=\"https://leetcode.com/problems/perfect-squares/\">https://leetcode.com/problems/perfect-squares/</a><br><a href=\"https://leetcode.com/problems/minimum-cost-for-tickets/\">https://leetcode.com/problems/minimum-cost-for-tickets/</a></p>\n<p><strong>Matrix multiplication variant:</strong><br><a href=\"https://leetcode.com/problems/minimum-score-triangulation-of-polygon/\">https://leetcode.com/problems/minimum-score-triangulation-of-polygon/</a><br><a href=\"https://leetcode.com/problems/minimum-cost-tree-from-leaf-values/\">https://leetcode.com/problems/minimum-cost-tree-from-leaf-values/</a><br><a href=\"https://leetcode.com/problems/burst-balloons/\">https://leetcode.com/problems/burst-balloons/</a></p>\n<p><strong>Matrix&#x2F;2D Array:</strong><br><a href=\"https://leetcode.com/problems/matrix-block-sum/\">https://leetcode.com/problems/matrix-block-sum/</a><br><a href=\"https://leetcode.com/problems/range-sum-query-2d-immutable/\">https://leetcode.com/problems/range-sum-query-2d-immutable/</a><br><a href=\"https://leetcode.com/problems/dungeon-game/\">https://leetcode.com/problems/dungeon-game/</a><br><a href=\"https://leetcode.com/problems/triangle/\">https://leetcode.com/problems/triangle/</a><br><a href=\"https://leetcode.com/problems/maximal-square/\">https://leetcode.com/problems/maximal-square/</a><br><a href=\"https://leetcode.com/problems/minimum-falling-path-sum/\">https://leetcode.com/problems/minimum-falling-path-sum/</a></p>\n<p><strong>Hash + DP:</strong><br><a href=\"https://leetcode.com/problems/target-sum/\">https://leetcode.com/problems/target-sum/</a><br><a href=\"https://leetcode.com/problems/longest-arithmetic-sequence/\">https://leetcode.com/problems/longest-arithmetic-sequence/</a><br><a href=\"https://leetcode.com/problems/longest-arithmetic-subsequence-of-given-difference/\">https://leetcode.com/problems/longest-arithmetic-subsequence-of-given-difference/</a><br><a href=\"https://leetcode.com/problems/maximum-product-of-splitted-binary-tree/\">https://leetcode.com/problems/maximum-product-of-splitted-binary-tree/</a></p>\n<p><strong>State machine:</strong><br><a href=\"https://leetcode.com/problems/best-time-to-buy-and-sell-stock/\">https://leetcode.com/problems/best-time-to-buy-and-sell-stock/</a><br><a href=\"https://leetcode.com/problems/best-time-to-buy-and-sell-stock-ii/\">https://leetcode.com/problems/best-time-to-buy-and-sell-stock-ii/</a><br><a href=\"https://leetcode.com/problems/best-time-to-buy-and-sell-stock-iii/\">https://leetcode.com/problems/best-time-to-buy-and-sell-stock-iii/</a><br><a href=\"https://leetcode.com/problems/best-time-to-buy-and-sell-stock-iv/\">https://leetcode.com/problems/best-time-to-buy-and-sell-stock-iv/</a><br><a href=\"https://leetcode.com/problems/best-time-to-buy-and-sell-stock-with-cooldown/\">https://leetcode.com/problems/best-time-to-buy-and-sell-stock-with-cooldown/</a><br><a href=\"https://leetcode.com/problems/best-time-to-buy-and-sell-stock-with-transaction-fee/\">https://leetcode.com/problems/best-time-to-buy-and-sell-stock-with-transaction-fee/</a></p>\n<p><strong>Depth First Search + DP:</strong><br><a href=\"https://leetcode.com/problems/out-of-boundary-paths/\">https://leetcode.com/problems/out-of-boundary-paths/</a><br><a href=\"https://leetcode.com/problems/knight-probability-in-chessboard/\">https://leetcode.com/problems/knight-probability-in-chessboard/</a></p>\n<p><strong>Minimax DP:</strong><br><a href=\"https://leetcode.com/problems/predict-the-winner/\">https://leetcode.com/problems/predict-the-winner/</a><br><a href=\"https://leetcode.com/problems/stone-game/\">https://leetcode.com/problems/stone-game/</a></p>\n<p><strong>Misc:</strong><br><a href=\"https://leetcode.com/problems/greatest-sum-divisible-by-three/\">https://leetcode.com/problems/greatest-sum-divisible-by-three/</a><br><a href=\"https://leetcode.com/problems/decode-ways/\">https://leetcode.com/problems/decode-ways/</a><br><a href=\"https://leetcode.com/problems/perfect-squares/\">https://leetcode.com/problems/perfect-squares/</a><br><a href=\"https://leetcode.com/problems/count-numbers-with-unique-digits/\">https://leetcode.com/problems/count-numbers-with-unique-digits/</a><br><a href=\"https://leetcode.com/problems/longest-turbulent-subarray/\">https://leetcode.com/problems/longest-turbulent-subarray/</a><br><a href=\"https://leetcode.com/problems/number-of-dice-rolls-with-target-sum/\">https://leetcode.com/problems/number-of-dice-rolls-with-target-sum/</a></p>\n<hr>\n<h1 id=\"Sample-solutions-for-each-of-above-problem-type\"><a href=\"#Sample-solutions-for-each-of-above-problem-type\" class=\"headerlink\" title=\"Sample solutions for each of above problem type:\"></a>Sample solutions for each of above problem type:</h1><hr>\n<p><strong>Longest Increasing Subsequence</strong><br><a href=\"https://leetcode.com/problems/longest-increasing-subsequence/\">https://leetcode.com/problems/longest-increasing-subsequence/</a><br><a href=\"https://leetcode.com/problems/largest-divisible-subset/\">https://leetcode.com/problems/largest-divisible-subset/</a><br><a href=\"https://leetcode.com/problems/russian-doll-envelopes/\">https://leetcode.com/problems/russian-doll-envelopes/</a><br><a href=\"https://leetcode.com/problems/maximum-length-of-pair-chain/\">https://leetcode.com/problems/maximum-length-of-pair-chain/</a><br><a href=\"https://leetcode.com/problems/number-of-longest-increasing-subsequence/\">https://leetcode.com/problems/number-of-longest-increasing-subsequence/</a><br><a href=\"https://leetcode.com/problems/delete-and-earn/\">https://leetcode.com/problems/delete-and-earn/</a><br><a href=\"https://leetcode.com/problems/longest-string-chain/\">https://leetcode.com/problems/longest-string-chain/</a></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">class Solution &#123;</span><br><span class=\"line\">public:</span><br><span class=\"line\">\tint lengthOfLIS(vector&lt;int&gt;&amp; nums) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\tint n = nums.size();</span><br><span class=\"line\"></span><br><span class=\"line\">\t\tvector&lt;int&gt;LIS(n+1, 1);</span><br><span class=\"line\"></span><br><span class=\"line\">\t\tfor (int i = 0; i &lt; n; i++) &#123;</span><br><span class=\"line\">\t\t\tfor (int j = 0; j &lt; i; j++) &#123;</span><br><span class=\"line\">\t\t\t\tif (nums[i] &gt; nums[j])</span><br><span class=\"line\">\t\t\t\t\tLIS[i] = max(LIS[i], 1 + LIS[j]);</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\tint ans = 0;</span><br><span class=\"line\">\t\tfor (int i = 0; i &lt; n; i++) &#123;</span><br><span class=\"line\">\t\t\tans = max(ans, LIS[i]);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\treturn ans;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<p><strong>Partition Subset Sum:</strong><br><a href=\"https://leetcode.com/problems/partition-equal-subset-sum/\">https://leetcode.com/problems/partition-equal-subset-sum/</a><br><a href=\"https://leetcode.com/problems/last-stone-weight-ii/\">https://leetcode.com/problems/last-stone-weight-ii/</a></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">class Solution &#123;</span><br><span class=\"line\">public:</span><br><span class=\"line\">\tbool canPartition(vector&lt;int&gt;&amp; nums) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\tint n = nums.size();</span><br><span class=\"line\"></span><br><span class=\"line\">\t\tint sum = 0;</span><br><span class=\"line\">\t\tfor (int i = 0; i &lt; n; i++)</span><br><span class=\"line\">\t\t\tsum += nums[i];</span><br><span class=\"line\"></span><br><span class=\"line\">\t\tif (sum % 2 != 0) return false;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\tint target = sum/2;</span><br><span class=\"line\">\t\tvector&lt;bool&gt;dp(target+1, false);</span><br><span class=\"line\"></span><br><span class=\"line\">\t\tdp[0] = true;</span><br><span class=\"line\">\t\tfor (int i = 0; i &lt; n; i++) &#123;</span><br><span class=\"line\">\t\t\tfor (int j = target; j &gt;= nums[i]; j--) &#123;</span><br><span class=\"line\">\t\t\t\tdp[j] = dp[j] | dp[j - nums[i]];</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\treturn dp[target];</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<p><strong>BitMasking in DP:</strong><br><a href=\"https://leetcode.com/problems/partition-to-k-equal-sum-subsets/\">https://leetcode.com/problems/partition-to-k-equal-sum-subsets/</a></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">class Solution &#123;</span><br><span class=\"line\">\tint dp[(1&lt;&lt;16) + 2];</span><br><span class=\"line\">public:</span><br><span class=\"line\">\tbool canPartitionKSubsets(vector&lt;int&gt;&amp; nums, int k) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\tint n = nums.size();</span><br><span class=\"line\"></span><br><span class=\"line\">\t\tfill(dp, dp+(1&lt;&lt;16)+2, -1);</span><br><span class=\"line\"></span><br><span class=\"line\">\t\tint sum = 0;</span><br><span class=\"line\">\t\tfor (int i = 0; i &lt; n; i++)</span><br><span class=\"line\">\t\t\tsum += nums[i];</span><br><span class=\"line\"></span><br><span class=\"line\">\t\tif (sum % k != 0) return false;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\tint target = sum/k;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\tdp[0] = 0;</span><br><span class=\"line\">\t\tfor (int mask = 0; mask &lt; (1&lt;&lt;n); mask++) &#123;</span><br><span class=\"line\">\t\t\tif (dp[mask] == -1) continue;</span><br><span class=\"line\">\t\t\tfor (int i = 0; i &lt; n; i++) &#123;</span><br><span class=\"line\">\t\t\t\tif (!(mask &amp; (1 &lt;&lt; i)) &amp;&amp; dp[mask] + nums[i] &lt;= target)</span><br><span class=\"line\">\t\t\t\t\tdp[mask | (1 &lt;&lt; i)] = (dp[mask] + nums[i]) % target;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\treturn dp[(1&lt;&lt;n)-1] == 0;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<p><strong>Longest Common Subsequence</strong><br><a href=\"https://leetcode.com/problems/longest-common-subsequence/\">https://leetcode.com/problems/longest-common-subsequence/</a><br><a href=\"https://leetcode.com/problems/edit-distance/\">https://leetcode.com/problems/edit-distance/</a><br><a href=\"https://leetcode.com/problems/distinct-subsequences/\">https://leetcode.com/problems/distinct-subsequences/</a><br><a href=\"https://leetcode.com/problems/minimum-ascii-delete-sum-for-two-strings/\">https://leetcode.com/problems/minimum-ascii-delete-sum-for-two-strings/</a></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">class Solution &#123;</span><br><span class=\"line\">\tint longestCommonSubsequenceUtil(string text1, string text2, int n, int m) &#123;</span><br><span class=\"line\">\t\tif (n == 0 || m == 0)</span><br><span class=\"line\">\t\t\treturn 0;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\tvector&lt;vector&lt;int&gt;&gt;L(n+1, vector&lt;int&gt;(m+1, 0));</span><br><span class=\"line\"></span><br><span class=\"line\">\t\tfor (int i = 0; i &lt;= n; i++) &#123;</span><br><span class=\"line\">\t\t\tfor (int j = 0; j &lt;= m; j++) &#123;</span><br><span class=\"line\">\t\t\t\tif (i == 0 || j == 0)</span><br><span class=\"line\">\t\t\t\t\tL[i][j] = 0;</span><br><span class=\"line\">\t\t\t\telse if (text1[i-1] == text2[j-1])</span><br><span class=\"line\">\t\t\t\t\tL[i][j] = 1 + L[i-1][j-1];</span><br><span class=\"line\">\t\t\t\telse</span><br><span class=\"line\">\t\t\t\t\tL[i][j] = max(L[i][j-1], L[i-1][j]);</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\treturn L[n][m];</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">public:</span><br><span class=\"line\">\tint longestCommonSubsequence(string text1, string text2) &#123;</span><br><span class=\"line\">\t\tint n = text1.size();</span><br><span class=\"line\">\t\tint m = text2.size();</span><br><span class=\"line\"></span><br><span class=\"line\">\t\treturn longestCommonSubsequenceUtil(text1, text2, n, m);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<p><strong>Palindrome:</strong><br><a href=\"https://leetcode.com/problems/palindrome-partitioning-ii/\">https://leetcode.com/problems/palindrome-partitioning-ii/</a><br><a href=\"https://leetcode.com/problems/palindromic-substrings/\">https://leetcode.com/problems/palindromic-substrings/</a></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">class Solution &#123;</span><br><span class=\"line\">public:</span><br><span class=\"line\">\tint minCut(string s) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\tint n = s.length();</span><br><span class=\"line\"></span><br><span class=\"line\">\t\tint res[n];</span><br><span class=\"line\">\t\tbool P[n][n];</span><br><span class=\"line\"></span><br><span class=\"line\">\t\tfor (int i = 0; i &lt; n; i++)</span><br><span class=\"line\">\t\t\tP[i][i] = true;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">\t\tfor (int L = 2; L &lt;= n; L++) &#123;</span><br><span class=\"line\">\t\t\tfor (int i = 0; i &lt; n-L+1; i++) &#123;</span><br><span class=\"line\">\t\t\t\tint j = i+L-1;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t\t\tif (L == 2) &#123;</span><br><span class=\"line\">\t\t\t\t\tP[i][j] = (s[i] == s[j]);</span><br><span class=\"line\">\t\t\t\t&#125; else &#123;</span><br><span class=\"line\">\t\t\t\t\tP[i][j] = (s[i] == s[j]) &amp;&amp; P[i+1][j-1];</span><br><span class=\"line\">\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\tfor (int i = 0; i &lt; n; i++) &#123;</span><br><span class=\"line\">\t\t\tif (P[0][i])</span><br><span class=\"line\">\t\t\t\tres[i] = 0;</span><br><span class=\"line\">\t\t\telse &#123;</span><br><span class=\"line\">\t\t\t\tres[i] = INT_MAX;</span><br><span class=\"line\">\t\t\t\tfor (int j = 0; j &lt; i; j++) &#123;</span><br><span class=\"line\">\t\t\t\t\tif (P[j+1][i] &amp;&amp; res[i] &gt; 1 + res[j])</span><br><span class=\"line\">\t\t\t\t\t\tres[i] = 1+res[j];</span><br><span class=\"line\">\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\treturn res[n-1] == INT_MAX ? 1 : res[n-1];</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<p><strong>Coin Change:</strong><br><a href=\"https://leetcode.com/problems/coin-change/\">https://leetcode.com/problems/coin-change/</a><br><a href=\"https://leetcode.com/problems/coin-change-2/\">https://leetcode.com/problems/coin-change-2/</a><br><a href=\"https://leetcode.com/problems/combination-sum-iv/\">https://leetcode.com/problems/combination-sum-iv/</a><br><a href=\"https://leetcode.com/problems/perfect-squares/\">https://leetcode.com/problems/perfect-squares/</a><br><a href=\"https://leetcode.com/problems/minimum-cost-for-tickets/\">https://leetcode.com/problems/minimum-cost-for-tickets/</a></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">class Solution &#123;</span><br><span class=\"line\">public:</span><br><span class=\"line\">\tint coinChange(vector&lt;int&gt;&amp; coins, int amount) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\tint n = coins.size();</span><br><span class=\"line\">\t\tif (n == 0) return 0;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\tvector&lt;int&gt;res(amount+1, INT_MAX);</span><br><span class=\"line\"></span><br><span class=\"line\">\t\tres[0] = 0;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\tfor (int i = 0; i &lt; n; i++) &#123;</span><br><span class=\"line\">\t\t\tfor (int j =  coins[i]; j &lt;= amount; j++) &#123;</span><br><span class=\"line\">\t\t\t\tif (res[j-coins[i]] != INT_MAX)</span><br><span class=\"line\">\t\t\t\t\tres[j] = min(res[j], 1+res[j-coins[i]]);</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\treturn res[amount] != INT_MAX ? res[amount] : -1;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<p><strong>Matrix multiplication:</strong><br><a href=\"https://leetcode.com/problems/minimum-score-triangulation-of-polygon/\">https://leetcode.com/problems/minimum-score-triangulation-of-polygon/</a><br><a href=\"https://leetcode.com/problems/minimum-cost-tree-from-leaf-values/\">https://leetcode.com/problems/minimum-cost-tree-from-leaf-values/</a><br><a href=\"https://leetcode.com/problems/burst-balloons/\">https://leetcode.com/problems/burst-balloons/</a></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">class Solution &#123;</span><br><span class=\"line\">public:</span><br><span class=\"line\">\tint minScoreTriangulation(vector&lt;int&gt;&amp; A) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\tint n = A.size();        </span><br><span class=\"line\">\t\tvector&lt;vector&lt;int&gt;&gt;dp(n, vector&lt;int&gt;(n, 0));</span><br><span class=\"line\"></span><br><span class=\"line\">\t\tfor (int L = 2; L &lt;= n; L++) &#123;</span><br><span class=\"line\">\t\t\tfor (int i = 0; i+L &lt; n; i++) &#123;</span><br><span class=\"line\">\t\t\t\tint j = i+L;</span><br><span class=\"line\">\t\t\t\tdp[i][j] = INT_MAX;</span><br><span class=\"line\">\t\t\t\tfor (int k = i+1; k &lt; j; k++) &#123;</span><br><span class=\"line\">\t\t\t\t\tdp[i][j] = min(dp[i][j], dp[i][k] + dp[k][j] + A[i]*A[k]*A[j]);</span><br><span class=\"line\">\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\treturn dp[0][n-1];</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<p><strong>Matrix&#x2F;2D Array:</strong><br><a href=\"https://leetcode.com/problems/matrix-block-sum/\">https://leetcode.com/problems/matrix-block-sum/</a><br><a href=\"https://leetcode.com/problems/range-sum-query-2d-immutable/\">https://leetcode.com/problems/range-sum-query-2d-immutable/</a><br><a href=\"https://leetcode.com/problems/dungeon-game/\">https://leetcode.com/problems/dungeon-game/</a><br><a href=\"https://leetcode.com/problems/triangle/\">https://leetcode.com/problems/triangle/</a><br><a href=\"https://leetcode.com/problems/maximal-square/\">https://leetcode.com/problems/maximal-square/</a><br><a href=\"https://leetcode.com/problems/minimum-falling-path-sum/\">https://leetcode.com/problems/minimum-falling-path-sum/</a></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">class Solution &#123;</span><br><span class=\"line\">public:</span><br><span class=\"line\">\tvector&lt;vector&lt;int&gt;&gt; matrixBlockSum(vector&lt;vector&lt;int&gt;&gt;&amp; mat, int K) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">\t\tint m = mat.size();</span><br><span class=\"line\">\t\tint n = mat[0].size();</span><br><span class=\"line\"></span><br><span class=\"line\">\t\tvector&lt;vector&lt;int&gt;&gt;sum(m+1, vector&lt;int&gt;(n+1, 0));</span><br><span class=\"line\">\t\tfor (int i = 1; i &lt;= m; i++) &#123;</span><br><span class=\"line\">\t\t\tfor (int j = 1; j &lt;= n; j++) &#123;</span><br><span class=\"line\">\t\t\t\tsum[i][j] = sum[i-1][j] + sum[i][j-1] - sum[i-1][j-1] + mat[i-1][j-1];</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\tvector&lt;vector&lt;int&gt;&gt;res(m, vector&lt;int&gt;(n, 0));</span><br><span class=\"line\">\t\tfor (int i = 0; i &lt; m; i++) &#123;</span><br><span class=\"line\">\t\t\tfor (int j = 0; j &lt; n; j++) &#123;</span><br><span class=\"line\">\t\t\t\tint r1 = max(0, i-K); int c1 = max(0, j-K);</span><br><span class=\"line\">\t\t\t\tint r2 = min(m-1, i+K); int c2 = min(n-1, j+K);</span><br><span class=\"line\">\t\t\t\tr1++; r2++;</span><br><span class=\"line\">\t\t\t\tc1++; c2++;</span><br><span class=\"line\">\t\t\t\tres[i][j] = sum[r2][c2] - (sum[r2][c1-1] + sum[r1-1][c2]- sum[r1-1][c1-1]);</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\treturn res;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<p><strong>Hash + DP:</strong><br><a href=\"https://leetcode.com/problems/target-sum/\">https://leetcode.com/problems/target-sum/</a><br><a href=\"https://leetcode.com/problems/longest-arithmetic-sequence/\">https://leetcode.com/problems/longest-arithmetic-sequence/</a><br><a href=\"https://leetcode.com/problems/longest-arithmetic-subsequence-of-given-difference/\">https://leetcode.com/problems/longest-arithmetic-subsequence-of-given-difference/</a><br><a href=\"https://leetcode.com/problems/maximum-product-of-splitted-binary-tree/\">https://leetcode.com/problems/maximum-product-of-splitted-binary-tree/</a></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">class Solution &#123;</span><br><span class=\"line\">public:</span><br><span class=\"line\">\tint findTargetSumWays(vector&lt;int&gt;&amp; nums, int S) &#123;</span><br><span class=\"line\">\t\tint n = nums.size();</span><br><span class=\"line\">\t\tunordered_map&lt;int, int&gt;hm;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\thm[0] = 1;</span><br><span class=\"line\">\t\tfor (int i = 0; i &lt; n; i++) &#123;</span><br><span class=\"line\">\t\t\tauto mp = hm;</span><br><span class=\"line\">\t\t\thm.clear();</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t\tfor (auto it = mp.begin(); it != mp.end(); it++) &#123;</span><br><span class=\"line\">\t\t\t\thm[it-&gt;first + nums[i]] += it-&gt;second;</span><br><span class=\"line\">\t\t\t\thm[it-&gt;first - nums[i]] += it-&gt;second;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\treturn hm[S];</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<p><strong>State machine:</strong><br><a href=\"https://leetcode.com/problems/best-time-to-buy-and-sell-stock/\">https://leetcode.com/problems/best-time-to-buy-and-sell-stock/</a><br><a href=\"https://leetcode.com/problems/best-time-to-buy-and-sell-stock-ii/\">https://leetcode.com/problems/best-time-to-buy-and-sell-stock-ii/</a><br><a href=\"https://leetcode.com/problems/best-time-to-buy-and-sell-stock-iii/\">https://leetcode.com/problems/best-time-to-buy-and-sell-stock-iii/</a><br><a href=\"https://leetcode.com/problems/best-time-to-buy-and-sell-stock-iv/\">https://leetcode.com/problems/best-time-to-buy-and-sell-stock-iv/</a><br><a href=\"https://leetcode.com/problems/best-time-to-buy-and-sell-stock-with-cooldown/\">https://leetcode.com/problems/best-time-to-buy-and-sell-stock-with-cooldown/</a><br><a href=\"https://leetcode.com/problems/best-time-to-buy-and-sell-stock-with-transaction-fee/\">https://leetcode.com/problems/best-time-to-buy-and-sell-stock-with-transaction-fee/</a></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">class Solution &#123;</span><br><span class=\"line\">public:</span><br><span class=\"line\">\tint maxProfit(vector&lt;int&gt;&amp; prices, int fee) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\tint n = prices.size();</span><br><span class=\"line\">\t\tvector&lt;int&gt;buy(n, 0);</span><br><span class=\"line\">\t\tvector&lt;int&gt;sell(n, 0);</span><br><span class=\"line\"></span><br><span class=\"line\">\t\tbuy[0] = -prices[0], sell[0] = 0;</span><br><span class=\"line\">\t\tfor (int i = 1; i &lt; n; i++) &#123;</span><br><span class=\"line\">\t\t\tbuy[i] = max(buy[i-1], sell[i-1]-prices[i]);</span><br><span class=\"line\">\t\t\tsell[i] = max(sell[i-1], buy[i-1]+prices[i]-fee);</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\treturn sell[n-1];</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<p>Depth First Search +DP:<br><a href=\"https://leetcode.com/problems/out-of-boundary-paths/\">https://leetcode.com/problems/out-of-boundary-paths/</a><br><a href=\"https://leetcode.com/problems/knight-probability-in-chessboard/\">https://leetcode.com/problems/knight-probability-in-chessboard/</a></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">class Solution &#123;</span><br><span class=\"line\">\tint mod = 1000000007;</span><br><span class=\"line\">\tint dfs(int m, int n, int N, int r, int c,  vector&lt;vector&lt;vector&lt;int&gt;&gt;&gt;&amp; dp) &#123;</span><br><span class=\"line\">\t\tif (r &lt; 0 || c &lt; 0 || r &gt;= m || c &gt;= n) return 1;</span><br><span class=\"line\">\t\tif (N == 0) return 0;</span><br><span class=\"line\">\t\tif (dp[N][r][c] != -1) return dp[N][r][c]%mod;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\tint moves = 0;</span><br><span class=\"line\">\t\tmoves =  (moves + dfs(m, n, N-1, r, c+1, dp))%mod;</span><br><span class=\"line\">\t\tmoves =  (moves + dfs(m, n, N-1, r, c-1, dp))%mod;</span><br><span class=\"line\">\t\tmoves =  (moves + dfs(m, n, N-1, r+1, c, dp))%mod;</span><br><span class=\"line\">\t\tmoves =  (moves + dfs(m, n, N-1, r-1, c, dp))%mod;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\tdp[N][r][c] = moves%mod;</span><br><span class=\"line\">\t\treturn dp[N][r][c];</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">public:</span><br><span class=\"line\">\tint findPaths(int m, int n, int N, int i, int j) &#123;</span><br><span class=\"line\">\t\tvector&lt;vector&lt;vector&lt;int&gt;&gt;&gt;dp(N+1, vector&lt;vector&lt;int&gt;&gt;(m+1, vector&lt;int&gt;(n+1, -1)));</span><br><span class=\"line\">\t\treturn dfs(m, n, N, i, j, dp);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<p><strong>Minimax DP:</strong><br><a href=\"https://leetcode.com/problems/predict-the-winner/\">https://leetcode.com/problems/predict-the-winner/</a><br><a href=\"https://leetcode.com/problems/stone-game/\">https://leetcode.com/problems/stone-game/</a></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">class Solution &#123;</span><br><span class=\"line\">public:</span><br><span class=\"line\">\tbool PredictTheWinner(vector&lt;int&gt;&amp; nums) &#123;</span><br><span class=\"line\">\t\tint n = nums.size();</span><br><span class=\"line\"></span><br><span class=\"line\">\t\tint res[n][n];</span><br><span class=\"line\"></span><br><span class=\"line\">\t\tfor (int i = 0; i &lt; n; i++)</span><br><span class=\"line\">\t\t\tres[i][i] = nums[i];</span><br><span class=\"line\"></span><br><span class=\"line\">\t\tfor (int l = 2; l &lt;= n; l++) &#123;</span><br><span class=\"line\">\t\t\tfor (int i = 0; i+l-1 &lt; n; i++) &#123;</span><br><span class=\"line\">\t\t\t\tint j = i+l-1;</span><br><span class=\"line\">\t\t\t\tint a = (i+1 &lt;= j-1) ? res[i+1][j-1] : 0;</span><br><span class=\"line\">\t\t\t\tint b = (i+2 &lt;= j) ? res[i+2][j] : 0;</span><br><span class=\"line\">\t\t\t\tint c = (i &lt;= j-2) ? res[i][j-2] : 0;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t\t\tres[i][j] = max(nums[i] + min(a,b), nums[j] + min(a, c));</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\tint total = 0;</span><br><span class=\"line\">\t\tfor (int i = 0; i &lt; n; i++)</span><br><span class=\"line\">\t\t\ttotal += nums[i];</span><br><span class=\"line\"></span><br><span class=\"line\">\t\treturn res[0][n-1] &gt;= total - res[0][n-1];</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n\n<p><strong>Miscellaneous:</strong><br><a href=\"https://leetcode.com/problems/greatest-sum-divisible-by-three/\">https://leetcode.com/problems/greatest-sum-divisible-by-three/</a><br><a href=\"https://leetcode.com/problems/decode-ways/\">https://leetcode.com/problems/decode-ways/</a><br><a href=\"https://leetcode.com/problems/count-numbers-with-unique-digits/\">https://leetcode.com/problems/count-numbers-with-unique-digits/</a><br><a href=\"https://leetcode.com/problems/longest-turbulent-subarray/\">https://leetcode.com/problems/longest-turbulent-subarray/</a><br><a href=\"https://leetcode.com/problems/number-of-dice-rolls-with-target-sum/\">https://leetcode.com/problems/number-of-dice-rolls-with-target-sum/</a></p>\n",
            "tags": [
                "blog",
                "coding",
                "computer-science",
                "dp"
            ]
        },
        {
            "id": "https://samirpaul1.github.io/posts/embed-music/",
            "url": "https://samirpaul1.github.io/posts/embed-music/",
            "title": "Embed MusicApp",
            "date_published": "2023-08-05T20:52:53.890Z",
            "content_html": "<p>Embed <a href=\"https://samirpaul1.github.io/music/embed\"><b>samirpaul.in&#x2F;music&#x2F;embed</b></a> music player(Lofi Study Music) to any website:</p>\n<h3 id=\"Demo\"><a href=\"#Demo\" class=\"headerlink\" title=\"Demo:\"></a>Demo:</h3><iframe src=\"https://samirpaul1.github.io/music/embed/index.html\"\n  title=\"Embed MusicApp\"\n    frameborder=\"0\"\n    loading=\"lazy\"\n    marginheight=\"0\"\n    marginwidth=\"0\"\n    width=\"100%\"\n    height=\"223\"\n    scrolling=\"no\">\n</iframe>\n\n\n<h3 id=\"Code\"><a href=\"#Code\" class=\"headerlink\" title=\"Code:\"></a>Code:</h3><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">iframe</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;https://samirpaul1.github.io/music/embed&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">  <span class=\"attr\">title</span>=<span class=\"string\">&quot;Embed MusicApp&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">\t<span class=\"attr\">frameborder</span>=<span class=\"string\">&quot;0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">\t<span class=\"attr\">loading</span>=<span class=\"string\">&quot;lazy&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">\t<span class=\"attr\">marginheight</span>=<span class=\"string\">&quot;0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">\t<span class=\"attr\">marginwidth</span>=<span class=\"string\">&quot;0&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">\t<span class=\"attr\">width</span>=<span class=\"string\">&quot;100%&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">\t<span class=\"attr\">height</span>=<span class=\"string\">&quot;223&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">\t<span class=\"attr\">scrolling</span>=<span class=\"string\">&quot;no&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">iframe</span>&gt;</span></span><br></pre></td></tr></table></figure>\n",
            "tags": [
                "blog",
                "coding",
                "computer-science",
                "embed-musicapp",
                "music",
                "embeded",
                "music-player"
            ]
        },
        {
            "id": "https://samirpaul1.github.io/posts/url-shortening-service/",
            "url": "https://samirpaul1.github.io/posts/url-shortening-service/",
            "title": "URL Shortening Service",
            "date_published": "2023-08-05T20:52:53.888Z",
            "content_html": "<h1 id=\"URL-Shortening-Service\"><a href=\"#URL-Shortening-Service\" class=\"headerlink\" title=\"URL Shortening Service\"></a>URL Shortening Service</h1><h2 id=\"Summary\"><a href=\"#Summary\" class=\"headerlink\" title=\"Summary\"></a>Summary</h2><p><img src=\"https://raw.githubusercontent.com/SamirPaulb/assets/main/blog/system-design/short-url-overview.png\" alt=\"overview\"><br><img src=\"https://raw.githubusercontent.com/SamirPaulb/assets/main/blog/system-design/short-url-detail.png\" alt=\"summary\"></p>\n<h2 id=\"Requirements\"><a href=\"#Requirements\" class=\"headerlink\" title=\"Requirements\"></a>Requirements</h2><ul>\n<li><p>Functional Requirements</p>\n<ul>\n<li>Given a URL, generate a shorter and unique alias (short link).</li>\n<li>When users access a short link, redirect to the original link.</li>\n<li>Users should optionally be able to pick a custom short link for their URL.</li>\n<li>Links will expire after a standard default timespan. Users should also be able to specify the expiration time.</li>\n</ul>\n</li>\n<li><p>Non-Functional Requirements</p>\n<ul>\n<li>The system should be highly available. This is required because, if our service is down, all the URL redirections will start failing.</li>\n<li>URL redirection should happen in real-time with minimal latency.</li>\n<li>Shortened links should not be guessable (not predictable).</li>\n</ul>\n</li>\n<li><p>Extended Requirements</p>\n<ul>\n<li>Analytics; e.g., how many times a redirection happened?</li>\n<li>Be accessible through REST APIs by other services.</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"Capacity-Estimation-and-Constraints\"><a href=\"#Capacity-Estimation-and-Constraints\" class=\"headerlink\" title=\"Capacity Estimation and Constraints\"></a>Capacity Estimation and Constraints</h2><ul>\n<li><p>Assumption</p>\n<ul>\n<li>Read-heavy. More redirection requests compared to new URL shortenings.</li>\n<li>Assume <strong>100:1</strong> ratio between read and write.</li>\n</ul>\n</li>\n<li><p>Traffic estimates</p>\n<ul>\n<li><strong>500M</strong> new URL shortenings per month, 100 * 500M &#x3D;&gt; 50B redirections per month.</li>\n<li>New URL shortenings per second<ul>\n<li>500 million &#x2F; (30 days * 24 hours * 3600 seconds) &#x3D; <strong>~200 URLs&#x2F;s</strong></li>\n</ul>\n</li>\n<li>URLs redirections per second<ul>\n<li>50 billion &#x2F; (30 days * 24 hours * 3600 sec) &#x3D; <strong>~19K&#x2F;s</strong></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><p>Storage estimates</p>\n<ul>\n<li>Assume storing every URL shortening request for 5 years, each object takes <strong>500 bytes</strong></li>\n<li>Total objects: 500 million * 5 years * 12 months &#x3D; <strong>30 billion</strong></li>\n<li>Total storage: 30 billion * 500 bytes &#x3D; <strong>15 TB</strong></li>\n</ul>\n</li>\n<li><p>Bandwidth estimates</p>\n<ul>\n<li>Write: 200 URL&#x2F;s * 500 bytes&#x2F;URL &#x3D; <strong>100 KB&#x2F;s</strong></li>\n<li>Read: 19K URL&#x2F;s * 500 bytes&#x2F;URL &#x3D; <strong>~9 MB&#x2F;s</strong></li>\n</ul>\n</li>\n<li><p>Cache memory estimates</p>\n<ul>\n<li>Follow the 80-20 rule, assuming 20% of URLs generate 80% of traffic, cache 20% hot URLs</li>\n<li>Requests per day: 19K * 3600 seconds * 24 hours &#x3D; <strong>~1.7 billion&#x2F;day</strong></li>\n<li>Cache 20%: 0.2 * 1.7 billion * 500 bytes &#x3D; <strong>~170GB</strong></li>\n</ul>\n</li>\n<li><p>Summary</p>\n<ul>\n<li>Assuming 500 million new URLs per month and 100:1 read:write ratio</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th>Category</th>\n<th>Calculation</th>\n<th>Estimate</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>New URLs</td>\n<td>500 million &#x2F; (30 days * 24 hours * 3600 seconds)</td>\n<td>200 &#x2F;s</td>\n</tr>\n<tr>\n<td>URL redirections</td>\n<td>500 million * 100 &#x2F; (30 days * 24 hours * 3600 seconds)</td>\n<td>19 K&#x2F;s</td>\n</tr>\n<tr>\n<td>Incoming data</td>\n<td>500 bytes&#x2F;URL * 200 URL&#x2F;s</td>\n<td>100 KB&#x2F;s</td>\n</tr>\n<tr>\n<td>Outgoing data</td>\n<td>500 bytes&#x2F;URL * 19K URL&#x2F;s</td>\n<td>9 MB&#x2F;s</td>\n</tr>\n<tr>\n<td>Storage for 5 years</td>\n<td>500 bytes&#x2F;URL * 500 million * 60 months</td>\n<td>15 TB</td>\n</tr>\n<tr>\n<td>Memory for cache</td>\n<td>19K URL * 3600 seconds * 24 hours * 500 bytes * 20%</td>\n<td>170 GB</td>\n</tr>\n</tbody></table>\n</li>\n</ul>\n<h2 id=\"System-APIs\"><a href=\"#System-APIs\" class=\"headerlink\" title=\"System APIs\"></a>System APIs</h2><h3 id=\"createUrl\"><a href=\"#createUrl\" class=\"headerlink\" title=\"createUrl\"></a><code>createUrl</code></h3><ul>\n<li>Parameters<table>\n<thead>\n<tr>\n<th>Name</th>\n<th>Type</th>\n<th>Note</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>api_dev_key</code></td>\n<td><code>string</code></td>\n<td>The API developer key of a registered account. This will be used to, among other things, throttle users based on their allocated quota.</td>\n</tr>\n<tr>\n<td><code>original_url</code></td>\n<td><code>string</code></td>\n<td>Original URL to be shortened.</td>\n</tr>\n<tr>\n<td><code>custom_alias</code></td>\n<td><code>string</code></td>\n<td>Optional custom key for the URL.</td>\n</tr>\n<tr>\n<td><code>user_name</code></td>\n<td><code>string</code></td>\n<td>Optional user name to be used in encoding.</td>\n</tr>\n<tr>\n<td><code>expire_date</code></td>\n<td><code>string</code></td>\n<td>Optional expiration date for the shortened URL.</td>\n</tr>\n</tbody></table>\n</li>\n<li>Return<ul>\n<li><code>string</code></li>\n<li>A successful insertion returns the shortened URL; otherwise, it returns an error code.</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"deleteUrl\"><a href=\"#deleteUrl\" class=\"headerlink\" title=\"deleteUrl\"></a><code>deleteUrl</code></h3><ul>\n<li>Parameters<table>\n<thead>\n<tr>\n<th>Name</th>\n<th>Type</th>\n<th>Note</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>api_dev_key</code></td>\n<td><code>string</code></td>\n<td>The API developer key of a registered account. This will be used to, among other things, throttle users based on their allocated quota.</td>\n</tr>\n<tr>\n<td><code>url_key</code></td>\n<td><code>string</code></td>\n<td>Short URL.</td>\n</tr>\n</tbody></table>\n</li>\n<li>Return<ul>\n<li><code>string</code></li>\n<li>A successful deletion returns ‘URL Removed’.</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"Database-design\"><a href=\"#Database-design\" class=\"headerlink\" title=\"Database design\"></a>Database design</h2><ul>\n<li><p>Observations</p>\n<ul>\n<li>Need to store billions of records.</li>\n<li>Each object is small (less than 1K).</li>\n<li>No relationships between records—other than storing which user created a URL.</li>\n<li>Read-heavy.</li>\n<li>A NoSQL choice would also be easier to scale.</li>\n<li>Comment: SQL with sharding should also work</li>\n</ul>\n</li>\n<li><p>Schema</p>\n<ul>\n<li>URL<table>\n<thead>\n<tr>\n<th>Column</th>\n<th>Type</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>hash</code></td>\n<td>varchar(16)</td>\n</tr>\n<tr>\n<td><code>original_url</code></td>\n<td>varchar(512)</td>\n</tr>\n<tr>\n<td><code>creation_date</code></td>\n<td>datetime</td>\n</tr>\n<tr>\n<td><code>expiration_date</code></td>\n<td>datetime</td>\n</tr>\n<tr>\n<td><code>user_id</code></td>\n<td>int</td>\n</tr>\n</tbody></table>\n</li>\n<li>User<table>\n<thead>\n<tr>\n<th>Column</th>\n<th>Type</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><code>name</code></td>\n<td>varchar(20)</td>\n</tr>\n<tr>\n<td><code>email</code></td>\n<td>varchar(32)</td>\n</tr>\n<tr>\n<td><code>creation_date</code></td>\n<td>datetime</td>\n</tr>\n<tr>\n<td><code>last_login</code></td>\n<td>datetime</td>\n</tr>\n</tbody></table>\n</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"Basic-System-Design-and-Algorithm\"><a href=\"#Basic-System-Design-and-Algorithm\" class=\"headerlink\" title=\"Basic System Design and Algorithm\"></a>Basic System Design and Algorithm</h2><h3 id=\"Encoding-actual-URL\"><a href=\"#Encoding-actual-URL\" class=\"headerlink\" title=\"Encoding actual URL\"></a>Encoding actual URL</h3><ul>\n<li>Compute unique hash<ul>\n<li><code>base64</code>: A-Z, a-z, 0-9, <code>-</code>, <code>.</code></li>\n<li>6 letters: 64 ^ 6 &#x3D; ~68.7 billion</li>\n<li>8 letters: 64 ^ 8 &#x3D; ~281 trillion</li>\n<li>Use 6 letters</li>\n<li><code>MD5</code> generates 128 bit hash value</li>\n<li>Each <code>base64</code> character encodes 6 bits</li>\n<li><code>base64</code> encoding generates 22 characters</li>\n<li>Select 8 characters</li>\n</ul>\n</li>\n<li>Issues with this approach<ul>\n<li>Same URL from multiple users</li>\n<li>URL-encoded</li>\n</ul>\n</li>\n<li>Workaround<ul>\n<li>Append an increasing sequence number to each input URL, and generate a hash for it</li>\n<li>Append user id to input URL</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"Generating-keys-offline\"><a href=\"#Generating-keys-offline\" class=\"headerlink\" title=\"Generating keys offline\"></a>Generating keys offline</h3><ul>\n<li><p>Standalone Key Generation Service (KGS)</p>\n<ul>\n<li>Generate random 6 letter strings and store them in a database (key DB)</li>\n<li>When a short URL is needed, take one from the key DB</li>\n</ul>\n</li>\n<li><p>Key DB size</p>\n<ul>\n<li>6 characters&#x2F;key * 68.7B unique keys &#x3D; 412 GB</li>\n</ul>\n</li>\n<li><p>Concurrency issue</p>\n<ul>\n<li>If there are multiple servers reading keys concurrently, two or more servers try to read the same key from the database.</li>\n</ul>\n</li>\n<li><p>Workaround</p>\n<ul>\n<li>Servers can use KGS to read&#x2F;mark keys in the database.</li>\n<li>KGS can use two tables to store keys: one for keys that are not used yet, and one for all the used keys.</li>\n<li>KGS can always keep some keys in memory so that it can quickly provide them whenever a server needs them.</li>\n<li>KGS needs to make sure not to give the same key to multiple servers.</li>\n<li>Comment: keys are sharded. Each KGS server only serves one application server.</li>\n</ul>\n</li>\n<li><p>Key lookup</p>\n<ul>\n<li>When a key is found, issue an “HTTP 302 Redirect” status and passing the stored URL.</li>\n<li>When a key is not found, issue an “HTTP 404 Not Found”, or redirect to homepage.</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"UUID\"><a href=\"#UUID\" class=\"headerlink\" title=\"UUID\"></a>UUID</h3><p>Replace KGS with UUID.</p>\n<h2 id=\"Data-Partitioning-and-Replication\"><a href=\"#Data-Partitioning-and-Replication\" class=\"headerlink\" title=\"Data Partitioning and Replication\"></a>Data Partitioning and Replication</h2><ul>\n<li><p>Range Based Partitioning</p>\n<ul>\n<li>Store URLs in separate partitions based on the first letter of the URL or the hash key.</li>\n<li>Combine certain less frequently occurring letters into one database partition.</li>\n</ul>\n</li>\n<li><p>Problem with this approach</p>\n<ul>\n<li>Unbalanced servers.</li>\n</ul>\n</li>\n<li><p>Hash-Based Partitioning</p>\n<ul>\n<li>Take a hash of the short URL we are storing, and calculate which partition to use based upon the hash.</li>\n<li>Use consistent hashing</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"Cache\"><a href=\"#Cache\" class=\"headerlink\" title=\"Cache\"></a>Cache</h2><ul>\n<li>Eviction policy<ul>\n<li>LRU: discard the least recently used URL first</li>\n</ul>\n</li>\n<li>Cache update<ul>\n<li>Cache miss: hit backend database and pass new entry to all cache replicas</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"Load-Balancer-LB\"><a href=\"#Load-Balancer-LB\" class=\"headerlink\" title=\"Load Balancer (LB)\"></a>Load Balancer (LB)</h2><ul>\n<li>LB locations<ul>\n<li>Between Clients and Application servers</li>\n<li>Between Application Servers and database servers</li>\n<li>Between Application Servers and Cache servers</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"DB-Sweeping\"><a href=\"#DB-Sweeping\" class=\"headerlink\" title=\"DB Sweeping\"></a>DB Sweeping</h2><p>A separate Cleanup service can run periodically to remove expired links from our storage and cache.</p>\n<h2 id=\"Telemetry\"><a href=\"#Telemetry\" class=\"headerlink\" title=\"Telemetry\"></a>Telemetry</h2><p>Statistics about the system: how many times a short URL has been used</p>\n<h2 id=\"Security-and-Permissions\"><a href=\"#Security-and-Permissions\" class=\"headerlink\" title=\"Security and Permissions\"></a>Security and Permissions</h2><ul>\n<li>Store permission level (public&#x2F;private) with each URL in the database</li>\n<li>Send an error (HTTP 401) for unauthorized access</li>\n</ul>\n",
            "tags": [
                "blog",
                "coding",
                "computer-science",
                "system-design",
                "design-interview",
                "preparation",
                "short-url",
                "url-shortner"
            ]
        },
        {
            "id": "https://samirpaul1.github.io/posts/system-design-interview-for-it-companies/",
            "url": "https://samirpaul1.github.io/posts/system-design-interview-for-it-companies/",
            "title": "System design interview for IT companies",
            "date_published": "2023-08-05T20:52:53.883Z",
            "content_html": "<p><img src=\"/assets/img/system-design/systemcycle.png\" alt=\"system development life cycle\"></p>\n<blockquote>\n<p>How to prepare system design questions for an IT company</p>\n</blockquote>\n<p>Original source and Credit: <a href=\"https://github.com/checkcheckzz/system-design-interview\">https://github.com/checkcheckzz/system-design-interview</a></p>\n<hr>\n<p>System design is a very broad topic. Even a software engineer with many years of working experience at a top IT company may not be an expert on system design. If you want to become an expert, you need to read many books, articles, and solve real large scale system design problems.</p>\n<p>This repository only teaches you how to handle the system design interview with a systematic approach in a short time. You can dive into each topic if you have time. Of course, welcome to add your thoughts!</p>\n<h2 id=\"Table-of-Contents\"><a href=\"#Table-of-Contents\" class=\"headerlink\" title=\"Table of Contents\"></a><a name='toc'>Table of Contents</a></h2><ul>\n<li><input disabled=\"\" type=\"checkbox\"> <a href=\"#tips\">System Design Interview Tips</a></li>\n<li><input disabled=\"\" type=\"checkbox\"> <a href=\"#intro\">Basic Knowledge about System Design</a></li>\n<li><input disabled=\"\" type=\"checkbox\"> <a href=\"#blog\">Company Engineering Blogs</a></li>\n<li><input disabled=\"\" type=\"checkbox\"> <a href=\"#system\">Products and Systems</a></li>\n<li><input disabled=\"\" type=\"checkbox\"> <a href=\"#qs\">Hot Questions and Reference</a></li>\n<li><input disabled=\"\" type=\"checkbox\"> <a href=\"#bk\">Good Books</a></li>\n<li><input disabled=\"\" type=\"checkbox\"> <a href=\"#ood\">Object Oriented Design</a></li>\n</ul>\n<h3 id=\"⬆-System-Design-Interview-Tips\"><a href=\"#⬆-System-Design-Interview-Tips\" class=\"headerlink\" title=\"[⬆] System Design Interview Tips:\"></a><a href=\"#toc\">[⬆]</a> <a name='tips'>System Design Interview Tips:</a></h3><p><strong>Clarify the constraints and identify the user cases</strong></p>\n<p>Spend a few minutes questioning the interviewer and agreeing on the scope of the system.<br>Remember to make sure you know all the requirements the interviewer didn’t tell you about in the beginning.</p>\n<p>User cases indicate the main functions of the system, and constraints list the scale of the system such as requests<br>per second, requests types, data written per second, data read per second.</p>\n<p><strong>High-level architecture design</strong></p>\n<p>Sketch the important components and the connections between them, but don’t go into some details.<br>Usually, a scalable system includes webserver (load balancer), service (service partition), database (primary&#x2F;secondary database cluster plug cache).</p>\n<p><strong>Component design</strong></p>\n<p>For each component, you need to write the specific APIs for each component. You may need to finish<br>the detailed OOD design for a particular function. You may also need to design the database schema for the database.</p>\n<h3 id=\"⬆-Basic-Knowledge-about-System-Design\"><a href=\"#⬆-Basic-Knowledge-about-System-Design\" class=\"headerlink\" title=\"[⬆] Basic Knowledge about System Design:\"></a><a href=\"#toc\">[⬆]</a> <a name='intro'>Basic Knowledge about System Design:</a></h3><p>Here are some articles about system design related topics.  </p>\n<ul>\n<li><a href=\"https://blog.pramp.com/system-design-interview-process-e91aae2dbe83\">The Anatomy Of A System Design Interview</a></li>\n<li><a href=\"https://blog.pramp.com/how-to-succeed-in-a-system-design-interview-27b35de0df26\">How to Succeed in a System Design Interview</a></li>\n<li><a href=\"http://www.palantir.com/2011/10/how-to-rock-a-systems-design-interview/\">How to Rock a Systems Design Interview</a></li>\n<li><a href=\"http://www.hiredintech.com/app#system-design\">System Interview</a></li>\n<li><a href=\"http://www.lecloud.net/tagged/scalability\">Scalability for Dummies</a></li>\n<li><a href=\"http://www.aosabook.org/en/distsys.html\">Scalable Web Architecture and Distributed Systems</a></li>\n<li><a href=\"http://everythingisdata.wordpress.com/2009/10/17/numbers-everyone-should-know/\">Numbers Everyone Should Know</a></li>\n<li><a href=\"https://pages.cs.wisc.edu/~zuyu/files/fallacies.pdf\">Fallacies of distributed systems</a></li>\n<li><a href=\"http://horicky.blogspot.com/2010/10/scalable-system-design-patterns.html\">Scalable System Design Patterns</a></li>\n<li><a href=\"http://lethain.com/introduction-to-architecting-systems-for-scale/\">Introduction to Architecting Systems for Scale</a></li>\n<li><a href=\"http://snarfed.org/transactions_across_datacenters_io.html\">Transactions Across Datacenters</a></li>\n<li><a href=\"http://ksat.me/a-plain-english-introduction-to-cap-theorem\">A Plain English Introduction to CAP Theorem</a></li>\n<li><a href=\"https://github.com/henryr/cap-faq\">The CAP FAQ</a></li>\n<li><a href=\"http://research.microsoft.com/en-us/um/people/lamport/pubs/paxos-simple.pdf\">Paxos Made Simple</a></li>\n<li><a href=\"http://www.tom-e-white.com/2007/11/consistent-hashing.html\">Consistent Hashing</a></li>\n<li><a href=\"http://horicky.blogspot.com/2009/11/nosql-patterns.html\">NOSQL Patterns</a></li>\n<li><a href=\"http://www.slideshare.net/jboner/scalability-availability-stability-patterns\">Scalability, Availability &amp; Stability Patterns</a></li>\n</ul>\n<p>Of course, if you want to dive into system related topics, here is a good collection of reading list about <a href=\"https://github.com/mmcgrana/services-engineering\">services-engineering</a>, and<br>a good collection of material about <a href=\"http://dancres.github.io/Pages/\">distributed systems</a>.</p>\n<h3 id=\"⬆-Company-Engineering-Blogs\"><a href=\"#⬆-Company-Engineering-Blogs\" class=\"headerlink\" title=\"[⬆] Company Engineering Blogs:\"></a><a href=\"#toc\">[⬆]</a> <a name='blog'>Company Engineering Blogs:</a></h3><p>If you are going to have an onsite with a company, you should read their engineering blog. </p>\n<ul>\n<li><a href=\"http://highscalability.com/\">High Scalability</a></li>\n<li><a href=\"https://github.com/blog/category/engineering\">The GitHub Blog</a></li>\n<li><a href=\"http://engineering.quora.com/\">Engineering at Quora</a></li>\n<li><a href=\"http://engineeringblog.yelp.com/\">Yelp Engineering Blog</a></li>\n<li><a href=\"https://engineering.twitter.com/\">Twitter Engineering</a></li>\n<li><a href=\"https://www.facebook.com/Engineering\">Facebook Engineering</a></li>\n<li><a href=\"http://eng.yammer.com/blog/\">Yammer Engineering</a></li>\n<li><a href=\"http://codeascraft.com/\">Etsy Code as Craft</a></li>\n<li><a href=\"http://engineering.foursquare.com/\">Foursquare Engineering Blog</a></li>\n<li><a href=\"https://medium.com/airbnb-engineering\">Airbnb Engineering</a></li>\n<li><a href=\"http://engineering.webengage.com/\">WebEngage Engineering Blog</a></li>\n<li><a href=\"http://engineering.linkedin.com/blog\">LinkedIn Engineering</a></li>\n<li><a href=\"http://techblog.netflix.com/\">The Netflix Tech Blog</a></li>\n<li><a href=\"https://www.simple.com/engineering/\">BankSimple Simple Blog</a></li>\n<li><a href=\"http://corner.squareup.com/\">Square The Corner</a></li>\n<li><a href=\"https://developers.soundcloud.com/blog/\">SoundCloud Backstage Blog</a></li>\n<li><a href=\"http://code.flickr.net/\">Flickr Code</a></li>\n<li><a href=\"http://instagram-engineering.tumblr.com/\">Instagram Engineering</a></li>\n<li><a href=\"https://tech.dropbox.com/\">Dropbox Tech Blog</a></li>\n<li><a href=\"http://blog.cloudera.com/\">Cloudera Developer Blog</a></li>\n<li><a href=\"http://bandcamptech.wordpress.com/\">Bandcamp Tech</a></li>\n<li><a href=\"http://tech.oyster.com/\">Oyster Tech Blog</a></li>\n<li><a href=\"http://www.redditblog.com/\">THE REDDIT BLOG</a></li>\n<li><a href=\"https://engineering.groupon.com/\">Groupon Engineering Blog</a></li>\n<li><a href=\"http://devblog.songkick.com/\">Songkick Technology Blog</a></li>\n<li><a href=\"https://ai.googleblog.com/\">Google AI Blog</a></li>\n<li><a href=\"https://developers.googleblog.com/\">Google Developers Blog</a></li>\n<li><a href=\"http://engineering.pinterest.com/\">Pinterest Engineering Blog</a></li>\n<li><a href=\"http://www.twilio.com/engineering\">Twilio Engineering Blog</a></li>\n<li><a href=\"http://word.bitly.com/\">Bitly Engineering Blog</a></li>\n<li><a href=\"https://eng.uber.com/\">Uber Engineering Blog </a></li>\n<li><a href=\"http://engineering.godaddy.com/\">Godaddy Engineering</a></li>\n<li><a href=\"http://blogs.splunk.com/\">Splunk Blog</a></li>\n<li><a href=\"https://building.coursera.org/\">Coursera Engineering Blog</a></li>\n<li><a href=\"https://www.paypal-engineering.com/\">PayPal Engineering Blog</a></li>\n<li><a href=\"https://engblog.nextdoor.com/\">Nextdoor Engineering Blog</a></li>\n<li><a href=\"https://blog.booking.com/\">Booking.com Development Blog</a></li>\n<li><a href=\"https://engineering.microsoft.com/\">Microsoft Engineering Blog</a></li>\n<li><a href=\"https://blog.scalyr.com/\">Scalyr Engineering Blog</a></li>\n<li><a href=\"https://medium.com/myntra-engineering\">Myntra Engineering Blog</a></li>\n<li><a href=\"https://www.fastly.com/blog/\">Fastly Blog</a></li>\n<li><a href=\"https://aws.amazon.com/blogs/architecture/\">AWS Architecture Blog</a></li>\n<li><a href=\"https://eng.lyft.com/\">Lyft Engineering Blog</a></li>\n<li><a href=\"https://medium.com/wish-engineering\">Wish Engineering</a></li>\n<li><a href=\"https://doordash.engineering/\">Doordash Engineering</a></li>\n<li><a href=\"https://community.snowflake.com/s/blog\">SnowFlake Blog</a> </li>\n<li><a href=\"https://medium.com/palantir/tech/home\">Palantir Blog</a></li>\n</ul>\n<h3 id=\"⬆-Products-and-Systems\"><a href=\"#⬆-Products-and-Systems\" class=\"headerlink\" title=\"[⬆] Products and Systems:\"></a><a href=\"#toc\">[⬆]</a> <a name='system'>Products and Systems:</a></h3><p>The following papers&#x2F;articles&#x2F;slides can help you to understand the general design idea of different real products and systems. </p>\n<ul>\n<li><a href=\"http://static.googleusercontent.com/media/research.google.com/zh-CN/us/archive/mapreduce-osdi04.pdf\">MapReduce: Simplified Data Processing on Large Clusters</a></li>\n<li><a href=\"http://www.read.seas.harvard.edu/~kohler/class/cs239-w08/chang06bigtable.pdf\">Bigtable: A Distributed Storage System for Structured Data</a></li>\n<li><a href=\"http://static.googleusercontent.com/media/research.google.com/zh-CN/us/archive/gfs-sosp2003.pdf\">The Google File System</a></li>\n<li><a href=\"http://static.googleusercontent.com/external_content/untrusted_dlcp/research.google.com/en/us/archive/chubby-osdi06.pdf\">The Chubby lock service for loosely-coupled distributed systems</a></li>\n<li><a href=\"http://www.read.seas.harvard.edu/~kohler/class/cs239-w08/decandia07dynamo.pdf\">Dynamo: Amazon’s Highly Available Key-value Store</a></li>\n<li><a href=\"http://www.slideshare.net/oemebamo/introduction-to-memcached\">Introduction to Memcached</a></li>\n<li><a href=\"http://www.slideshare.net/planetcassandra/cassandra-introduction-features-30103666\">Cassandra Introduction Features</a></li>\n<li><a href=\"http://www.slideshare.net/alexbaranau/intro-to-hbase\">Introduction to HBase</a></li>\n<li><a href=\"http://www.slideshare.net/mdirolf/introduction-to-mongodb\">Introduction to MongoDB</a></li>\n<li><a href=\"http://www.slideshare.net/dvirsky/introduction-to-redis\">Introduction to Redis</a></li>\n<li><a href=\"http://www.slideshare.net/previa/storm-16094009\">Storm</a></li>\n<li><a href=\"http://www.slideshare.net/sauravhaloi/introduction-to-apache-zookeeper\">Introduction to Zookeeper</a></li>\n<li><a href=\"http://www.slideshare.net/mumrah/kafka-talk-tri-hug\">Kafka</a></li>\n<li><a href=\"http://highscalability.com/youtube-architecture\">YouTube Architecture</a></li>\n<li><a href=\"http://highscalability.com/blog/2013/4/15/scaling-pinterest-from-0-to-10s-of-billions-of-page-views-a.html\">Scaling Pinterest</a></li>\n<li><a href=\"http://highscalability.com/google-architecture\">Google Architecture</a></li>\n<li><a href=\"http://highscalability.com/scaling-twitter-making-twitter-10000-percent-faster\">Scaling Twitter</a></li>\n<li><a href=\"http://highscalability.com/blog/2014/2/26/the-whatsapp-architecture-facebook-bought-for-19-billion.html\">The WhatsApp Architecture</a></li>\n<li><a href=\"http://highscalability.com/flickr-architecture\">Flickr Architecture</a></li>\n<li><a href=\"http://highscalability.com/amazon-architecture\">Amazon Architecture</a></li>\n<li><a href=\"http://highscalability.com/blog/2009/8/5/stack-overflow-architecture.html\">Stack Overflow Architecture</a></li>\n<li><a href=\"http://highscalability.com/blog/2012/5/21/pinterest-architecture-update-18-million-visitors-10x-growth.html\">Pinterest Architecture</a></li>\n<li><a href=\"http://highscalability.com/blog/2012/2/13/tumblr-architecture-15-billion-page-views-a-month-and-harder.html\">Tumblr Architecture</a></li>\n<li><a href=\"http://highscalability.com/blog/2011/12/6/instagram-architecture-14-million-users-terabytes-of-photos.html\">Instagram Architecture</a></li>\n<li><a href=\"http://highscalability.com/blog/2011/6/27/tripadvisor-architecture-40m-visitors-200m-dynamic-page-view.html\">TripAdvisor Architecture</a></li>\n<li><a href=\"http://highscalability.com/blog/2013/6/18/scaling-mailbox-from-0-to-one-million-users-in-6-weeks-and-1.html\">Scaling Mailbox</a></li>\n<li><a href=\"http://highscalability.com/blog/2013/9/23/salesforce-architecture-how-they-handle-13-billion-transacti.html\">Salesforce Architecture </a></li>\n<li><a href=\"http://highscalability.com/blog/2013/11/4/espns-architecture-at-scale-operating-at-100000-duh-nuh-nuhs.html\">ESPN Architecture</a></li>\n<li><a href=\"http://highscalability.com/blog/2015/9/14/how-uber-scales-their-real-time-market-platform.html\">Uber Architecture</a></li>\n<li><a href=\"https://www.youtube.com/watch?v=PE4gwstWhmc\">DropBox Design</a></li>\n<li><a href=\"http://www.splunk.com/view/SP-CAAABF9\">Splunk Architecture</a></li>\n</ul>\n<h3 id=\"⬆-Hot-Questions-and-Reference\"><a href=\"#⬆-Hot-Questions-and-Reference\" class=\"headerlink\" title=\"[⬆] Hot Questions and Reference:\"></a><a href=\"#toc\">[⬆]</a> <a name='qs'>Hot Questions and Reference:</a></h3><p>There are some good references for each question. The references here are slides and articles. </p>\n<p><strong>Design a CDN network</strong><br>Reference:  </p>\n<ul>\n<li><a href=\"https://kilthub.cmu.edu/articles/journal_contribution/Globally_distributed_content_delivery/6605972\">Globally Distributed Content Delivery</a></li>\n</ul>\n<p><strong>Design a Google document system</strong><br>Reference:  </p>\n<ul>\n<li><a href=\"https://code.google.com/p/google-mobwrite/\">google-mobwrite</a></li>\n<li><a href=\"https://neil.fraser.name/writing/sync/\">Differential Synchronization</a></li>\n</ul>\n<p><strong>Design a random ID generation system</strong><br>Reference: </p>\n<ul>\n<li><a href=\"https://blog.twitter.com/2010/announcing-snowflake\">Announcing Snowflake</a> </li>\n<li><a href=\"https://github.com/twitter/snowflake/\">snowflake</a></li>\n</ul>\n<p><strong>Design a key-value database</strong><br>Reference:   </p>\n<ul>\n<li><a href=\"http://www.slideshare.net/dvirsky/introduction-to-redis\">Introduction to Redis</a></li>\n</ul>\n<p><strong>Design the Facebook news feed function</strong><br>Reference:   </p>\n<ul>\n<li><a href=\"http://www.quora.com/What-are-best-practices-for-building-something-like-a-News-Feed\">What are best practices for building something like a News Feed?</a> </li>\n<li><a href=\"http://www.quora.com/Activity-Streams/What-are-the-scaling-issues-to-keep-in-mind-while-developing-a-social-network-feed\">What are the scaling issues to keep in mind while developing a social network feed?</a> </li>\n<li><a href=\"http://www.slideshare.net/danmckinley/etsy-activity-feeds-architecture\">Activity Feeds Architecture</a></li>\n</ul>\n<p><strong>Design the Facebook timeline function</strong><br>Reference: </p>\n<ul>\n<li><a href=\"https://www.facebook.com/note.php?note_id=10150468255628920\">Building Timeline</a> </li>\n<li><a href=\"http://highscalability.com/blog/2012/1/23/facebook-timeline-brought-to-you-by-the-power-of-denormaliza.html\">Facebook Timeline</a></li>\n</ul>\n<p><strong>Design a function to return the top k requests during past time interval</strong><br>Reference:  </p>\n<ul>\n<li><a href=\"http://www.cse.ust.hk/~raywong/comp5331/References/EfficientComputationOfFrequentAndTop-kElementsInDataStreams.pdf\">Efficient Computation of Frequent and Top-k Elements in Data Streams</a></li>\n<li><a href=\"http://davis.wpi.edu/xmdv/docs/EDBT11-diyang.pdf\">An Optimal Strategy for Monitoring Top-k Queries in Streaming Windows</a></li>\n</ul>\n<p><strong>Design an online multiplayer card game</strong><br>Reference:  </p>\n<ul>\n<li><a href=\"http://www.indieflashblog.com/how-to-create-an-asynchronous-multiplayer-game.html\">How to Create an Asynchronous Multiplayer Game</a>   </li>\n<li><a href=\"http://www.indieflashblog.com/how-to-create-async-part2.html\">How to Create an Asynchronous Multiplayer Game Part 2: Saving the Game State to Online Database</a>  </li>\n<li><a href=\"http://www.indieflashblog.com/how-to-create-async-part3.html\">How to Create an Asynchronous Multiplayer Game Part 3: Loading Games from the Database</a>  </li>\n<li><a href=\"http://www.indieflashblog.com/how-to-create-async-part4-html.html#comment-4447\">How to Create an Asynchronous Multiplayer Game Part 4: Matchmaking</a>  </li>\n<li><a href=\"http://buildnewgames.com/real-time-multiplayer/\">Real Time Multiplayer in HTML5</a></li>\n</ul>\n<p><strong>Design a graph search function</strong><br>Reference:   </p>\n<ul>\n<li><a href=\"https://www.facebook.com/notes/facebook-engineering/under-the-hood-building-out-the-infrastructure-for-graph-search/10151347573598920\">Building out the infrastructure for Graph Search</a></li>\n<li><a href=\"https://www.facebook.com/notes/facebook-engineering/under-the-hood-indexing-and-ranking-in-graph-search/10151361720763920\">Indexing and ranking in Graph Search</a> </li>\n<li><a href=\"https://www.facebook.com/notes/facebook-engineering/under-the-hood-the-natural-language-interface-of-graph-search/10151432733048920\">The natural language interface of Graph Search</a> and <a href=\"http://www.erlang-factory.com/upload/presentations/31/EugeneLetuchy-ErlangatFacebook.pdf\">Erlang at Facebook</a></li>\n</ul>\n<p><strong>Design a picture sharing system</strong><br>Reference:   </p>\n<ul>\n<li><a href=\"http://highscalability.com/flickr-architecture\">Flickr Architecture</a> </li>\n<li><a href=\"http://highscalability.com/blog/2011/12/6/instagram-architecture-14-million-users-terabytes-of-photos.html\">Instagram Architecture</a></li>\n</ul>\n<p><strong>Design a search engine</strong><br>Reference:  </p>\n<ul>\n<li><a href=\"http://programmers.stackexchange.com/questions/38324/interview-question-how-would-you-implement-google-search\">How would you implement Google Search?</a>  </li>\n<li><a href=\"http://www.ardendertat.com/2012/01/11/implementing-search-engines/\">Implementing Search Engines</a></li>\n</ul>\n<p><strong>Design a recommendation system</strong><br>Reference:  </p>\n<ul>\n<li><a href=\"http://tech.hulu.com/blog/2011/09/19/recommendation-system.html\">Hulu’s Recommendation System</a>  </li>\n<li><a href=\"http://ijcai13.org/files/tutorial_slides/td3.pdf\">Recommender Systems</a></li>\n</ul>\n<p><strong>Design a tinyurl system</strong><br>Reference: </p>\n<ul>\n<li><a href=\"http://n00tc0d3r.blogspot.com/\">System Design for Big Data-tinyurl</a> </li>\n<li><a href=\"https://developers.google.com/url-shortener/?csw=1\">URL Shortener API</a></li>\n</ul>\n<p><strong>Design a garbage collection system</strong><br>Reference:   </p>\n<ul>\n<li><a href=\"http://journal.stuffwithstuff.com/2013/12/08/babys-first-garbage-collector/\">Baby’s First Garbage Collector</a></li>\n</ul>\n<p><strong>Design a scalable web crawling system</strong><br>Reference:  </p>\n<ul>\n<li><a href=\"https://www.quora.com/How-can-I-build-a-web-crawler-from-scratch\">How can I build a web crawler from scratch?</a></li>\n</ul>\n<p><strong>Design the Facebook chat function</strong><br>Reference:   </p>\n<ul>\n<li><a href=\"http://www.erlang-factory.com/upload/presentations/31/EugeneLetuchy-ErlangatFacebook.pdf\">Erlang at Facebook</a>  </li>\n<li><a href=\"https://www.facebook.com/note.php?note_id=14218138919&id=9445547199&index=0\">Facebook Chat</a></li>\n</ul>\n<p><strong>Design a trending topic system</strong><br>Reference:  </p>\n<ul>\n<li><a href=\"http://www.michael-noll.com/blog/2013/01/18/implementing-real-time-trending-topics-in-storm/\">Implementing Real-Time Trending Topics With a Distributed Rolling Count Algorithm in Storm</a>   </li>\n<li><a href=\"http://snikolov.wordpress.com/2012/11/14/early-detection-of-twitter-trends/\">Early detection of Twitter trends explained</a></li>\n</ul>\n<p><strong>Design a cache system</strong><br>Reference:   </p>\n<ul>\n<li><a href=\"http://www.slideshare.net/oemebamo/introduction-to-memcached\">Introduction to Memcached</a></li>\n</ul>\n<h3 id=\"⬆-Good-Books\"><a href=\"#⬆-Good-Books\" class=\"headerlink\" title=\"[⬆] Good Books:\"></a><a href=\"#toc\">[⬆]</a> <a name='bk'>Good Books:</a></h3><ul>\n<li><a href=\"http://www.amazon.com/Big-Data-Principles-practices-scalable/dp/1617290343\">Big Data: Principles and best practices of scalable realtime data systems</a></li>\n<li><a href=\"http://www.amazon.com/Real-Time-Analytics-Techniques-Visualize-Streaming/dp/1118837916\">Real-Time Analytics: Techniques to Analyze and Visualize Streaming Data</a></li>\n<li><a href=\"http://www.amazon.com/Building-Microservices-Sam-Newman/dp/1491950358\">Building Microservices: Designing Fine-Grained Systems</a></li>\n<li><a href=\"https://www.amazon.com/Designing-Data-Intensive-Applications-Reliable-Maintainable/dp/1449373321\">Designing Data-Intensive Applications: The Big Ideas Behind Reliable, Scalable, and Maintainable Systems</a></li>\n</ul>\n<h3 id=\"⬆-Object-Oriented-Design\"><a href=\"#⬆-Object-Oriented-Design\" class=\"headerlink\" title=\"[⬆] Object Oriented Design:\"></a><a href=\"#toc\">[⬆]</a> <a name='ood'>Object Oriented Design:</a></h3><h4 id=\"Tips-for-OOD-Interview\"><a href=\"#Tips-for-OOD-Interview\" class=\"headerlink\" title=\"Tips for OOD Interview\"></a>Tips for OOD Interview</h4><p><strong>Clarify the scenario, write out user cases</strong></p>\n<p>Use case is a description of sequences of events that, taken together, lead to a system doing something useful. Who is going to use it and how they are going to use it. The system may be very simple or very complicated.</p>\n<p>Special system requirements such as multi-threading, read or write oriented.</p>\n<p><strong>Define objects</strong></p>\n<p>Map identity to class: one scenario for one class, each core object in this scenario for one class.</p>\n<p>Consider the relationships among classes: certain class must have unique instance, one object has many other objects (composition), one object is another object (inheritance).</p>\n<p>Identify attributes for each class: change noun to variable and action to methods.</p>\n<p>Use design patterns such that it can be reused in multiple applications.</p>\n<h4 id=\"Useful-Websites\"><a href=\"#Useful-Websites\" class=\"headerlink\" title=\"Useful Websites\"></a>Useful Websites</h4><ul>\n<li><a href=\"http://sourcemaking.com/design-patterns-and-tips\">101 Design Patterns &amp; Tips for Developers</a></li>\n</ul>\n",
            "tags": [
                "blog",
                "coding",
                "computer-science",
                "system-design",
                "design-interview",
                "preparation"
            ]
        },
        {
            "id": "https://samirpaul1.github.io/posts/sql-vs-nosql/",
            "url": "https://samirpaul1.github.io/posts/sql-vs-nosql/",
            "title": "SQL vs. NoSQL",
            "date_published": "2023-08-05T20:52:53.878Z",
            "content_html": "<h1 id=\"SQL-vs-NoSQL\"><a href=\"#SQL-vs-NoSQL\" class=\"headerlink\" title=\"SQL vs. NoSQL\"></a>SQL vs. NoSQL</h1><h2 id=\"Common-types-of-NoSQL\"><a href=\"#Common-types-of-NoSQL\" class=\"headerlink\" title=\"Common types of NoSQL\"></a>Common types of NoSQL</h2><h3 id=\"Key-value-stores\"><a href=\"#Key-value-stores\" class=\"headerlink\" title=\"Key-value stores\"></a>Key-value stores</h3><ul>\n<li>Array of key-value pairs. The “key” is an attribute name.</li>\n<li>Redis, Vodemort, Dynamo.</li>\n</ul>\n<h3 id=\"Document-databases\"><a href=\"#Document-databases\" class=\"headerlink\" title=\"Document databases\"></a>Document databases</h3><ul>\n<li>Data is stored in documents.</li>\n<li>Documents are grouped in collections.</li>\n<li>Each document can have an entirely different structure.</li>\n<li>CouchDB, MongoDB.</li>\n</ul>\n<h3 id=\"Wide-column-columnar-databases\"><a href=\"#Wide-column-columnar-databases\" class=\"headerlink\" title=\"Wide-column &#x2F; columnar databases\"></a>Wide-column &#x2F; columnar databases</h3><ul>\n<li>Column families - containers for rows.</li>\n<li>No need to know all the columns up front.</li>\n<li>Each row can have different number of columns.</li>\n<li>Cassandra, HBase.</li>\n</ul>\n<h3 id=\"Graph-database\"><a href=\"#Graph-database\" class=\"headerlink\" title=\"Graph database\"></a>Graph database</h3><ul>\n<li>Data is stored in graph structures<ul>\n<li>Nodes: entities</li>\n<li>Properties: information about the entities</li>\n<li>Lines: connections between the entities</li>\n</ul>\n</li>\n<li>Neo4J, InfiniteGraph</li>\n</ul>\n<h2 id=\"Differences-between-SQL-and-NoSQL\"><a href=\"#Differences-between-SQL-and-NoSQL\" class=\"headerlink\" title=\"Differences between SQL and NoSQL\"></a>Differences between SQL and NoSQL</h2><h3 id=\"Storage\"><a href=\"#Storage\" class=\"headerlink\" title=\"Storage\"></a>Storage</h3><ul>\n<li>SQL: store data in tables.</li>\n<li>NoSQL: have different data storage models.</li>\n</ul>\n<h3 id=\"Schema\"><a href=\"#Schema\" class=\"headerlink\" title=\"Schema\"></a>Schema</h3><ul>\n<li>SQL<ul>\n<li>Each record conforms to a fixed schema.</li>\n<li>Schema can be altered, but it requires modifying the whole database.</li>\n</ul>\n</li>\n<li>NoSQL:<ul>\n<li>Schemas are dynamic.</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"Querying\"><a href=\"#Querying\" class=\"headerlink\" title=\"Querying\"></a>Querying</h3><ul>\n<li>SQL<ul>\n<li>Use SQL (structured query language) for defining and manipulating the data.</li>\n</ul>\n</li>\n<li>NoSQL<ul>\n<li>Queries are focused on a collection of documents.</li>\n<li>UnQL (unstructured query language).</li>\n<li>Different databases have different syntax.</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"Scalability\"><a href=\"#Scalability\" class=\"headerlink\" title=\"Scalability\"></a>Scalability</h3><ul>\n<li>SQL<ul>\n<li>Vertically scalable (by increasing the horsepower: memory, CPU, etc) and expensive.</li>\n<li>Horizontally scalable (across multiple servers); but it can be challenging and time-consuming.</li>\n</ul>\n</li>\n<li>NoSQL<ul>\n<li>Horizontablly scalable (by adding more servers) and cheap.</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"ACID\"><a href=\"#ACID\" class=\"headerlink\" title=\"ACID\"></a>ACID</h3><ul>\n<li>Atomicity, consistency, isolation, durability</li>\n<li>SQL<ul>\n<li>ACID compliant</li>\n<li>Data reliability</li>\n<li>Gurantee of transactions</li>\n</ul>\n</li>\n<li>NoSQL<ul>\n<li>Most sacrifice ACID compliance for performance and scalability.</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"Which-one-to-use\"><a href=\"#Which-one-to-use\" class=\"headerlink\" title=\"Which one to use?\"></a>Which one to use?</h2><h3 id=\"SQL\"><a href=\"#SQL\" class=\"headerlink\" title=\"SQL\"></a>SQL</h3><ul>\n<li>Ensure ACID compliance.<ul>\n<li>Reduce anomalies.</li>\n<li>Protect database integrity.</li>\n</ul>\n</li>\n<li>Data is structured and unchanging.</li>\n</ul>\n<h3 id=\"NoSQL\"><a href=\"#NoSQL\" class=\"headerlink\" title=\"NoSQL\"></a>NoSQL</h3><ul>\n<li>Data has little or no structure.</li>\n<li>Make the most of cloud computing and storage.<ul>\n<li>Cloud-based storage requires data to be easily spread across multiple servers to scale up.</li>\n</ul>\n</li>\n<li>Rapid development.<ul>\n<li>Frequent updates to the data structure.</li>\n</ul>\n</li>\n</ul>\n",
            "tags": [
                "blog",
                "coding",
                "computer-science",
                "system-design",
                "design-interview",
                "sql",
                "nosql"
            ]
        },
        {
            "id": "https://samirpaul1.github.io/posts/steps-how-to-approach-the-system-design-questions-in-interviews/",
            "url": "https://samirpaul1.github.io/posts/steps-how-to-approach-the-system-design-questions-in-interviews/",
            "title": "Steps how to approach the system design questions in interviews",
            "date_published": "2023-08-05T20:52:53.878Z",
            "content_html": "<p>These are the steps to go through mentally in the interviews, followed by actual interview experiences:</p>\n<ul>\n<li>a) <strong>Be absolutely sure you understand the problem being asked</strong>, clarify on the onset rather than assuming anything </li>\n<li>b) <strong>Use-cases</strong>. This is critical, you MUST know what is the system going to be used for, what is the scale it is going to be used for. Also, constraints like requests per second, requests types, data written per second, data read per second.</li>\n<li>c) Solve the problem for a <strong>very small set</strong>, say, 100 users. This will broadly help you figure out the data structures, components, abstract design of the overall model.</li>\n<li>d) Write down the various components figured out so far and how will they interact with each other.</li>\n<li>e)  As a rule of thumb remember at least these :</li>\n<li><ol>\n<li>processing and servers</li>\n</ol>\n</li>\n<li><ol start=\"2\">\n<li>storage</li>\n</ol>\n</li>\n<li><ol start=\"3\">\n<li>caching</li>\n</ol>\n</li>\n<li><ol start=\"4\">\n<li>concurrency and communication</li>\n</ol>\n</li>\n<li><ol start=\"5\">\n<li>security</li>\n</ol>\n</li>\n<li><ol start=\"6\">\n<li>load balancing and proxy</li>\n</ol>\n</li>\n<li><ol start=\"7\">\n<li>CDN</li>\n</ol>\n</li>\n<li><ol start=\"8\">\n<li>Monetization: if relevant, how will you monetize?<br> eg. What kind of DB (Is Postgres enough, if not why?), do you need caching and how much, is security a prime concern?</li>\n</ol>\n</li>\n<li>f) <strong>Special cases</strong> for the question asked. Say designing a system for storing thumbnails, will a file system be enough? What if you have to scale for facebook or google? Will a nosql based database work?</li>\n<li>g) After I have my components in place, what I generally try to do is look for minor optimization in various places according to the use-cases, various tradeoffs that will help in better scaling in 99% cases.</li>\n<li>h) [Scaling out or up]  (<a href=\"http://highscalability.com/blog/2014/5/12/4-architecture-issues-when-scaling-web-applications-bottlene.html\">http://highscalability.com/blog/2014/5/12/4-architecture-issues-when-scaling-web-applications-bottlene.html</a>)</li>\n<li>i) Check with the interviewer is there any other special case he is looking to solve? Also, it really helps if you know about the company you are interviewing with, what its architecture is, what will the interviewer have more interest in based on the company and what he works on?</li>\n</ul>\n",
            "tags": [
                "blog",
                "coding",
                "computer-science",
                "system-design",
                "design-interview",
                "preparation"
            ]
        },
        {
            "id": "https://samirpaul1.github.io/posts/sharding-or-data-partitioning/",
            "url": "https://samirpaul1.github.io/posts/sharding-or-data-partitioning/",
            "title": "Sharding or Data Partitioning",
            "date_published": "2023-08-05T20:52:53.876Z",
            "content_html": "<h1 id=\"Sharding-Data-Partitioning\"><a href=\"#Sharding-Data-Partitioning\" class=\"headerlink\" title=\"Sharding &#x2F; Data Partitioning\"></a>Sharding &#x2F; Data Partitioning</h1><h2 id=\"Partitioning-methods\"><a href=\"#Partitioning-methods\" class=\"headerlink\" title=\"Partitioning methods\"></a>Partitioning methods</h2><ul>\n<li>Horizontal partitioning<ul>\n<li>Range based sharding.</li>\n<li>Put different rows into different tables.</li>\n<li>Con<ul>\n<li>If the value whose range is used for sharding isn’t chosen carefully, the partitioning scheme will lead to unbalanced servers.</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>Vertical partitioning<ul>\n<li>Divide data for a specific feature to their own server.</li>\n<li>Pro<ul>\n<li>Straightforward to implement.</li>\n<li>Low impact on the application.</li>\n</ul>\n</li>\n<li>Con<ul>\n<li>To support growth of the application, a database may need further partitioning.</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>Directory-based partitioning<ul>\n<li>A lookup service that knows the partitioning scheme and abstracts it away from the database access code.</li>\n<li>Allow addition of db servers or change of partitioning schema without impacting application.</li>\n<li>Con<ul>\n<li>Can be a single point of failure.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"Partitioning-criteria\"><a href=\"#Partitioning-criteria\" class=\"headerlink\" title=\"Partitioning criteria\"></a>Partitioning criteria</h2><ul>\n<li>Key or hash-based partitioning<ul>\n<li>Apply a hash function to some key attribute of the entry to get the partition number.</li>\n<li>Problem<ul>\n<li>Adding new servers may require changing the hash function, which would need redistribution of data and downtime for the service.</li>\n<li>Workaround: <a href=\"https://en.wikipedia.org/wiki/Consistent_hashing\">consistent hashing</a>.</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>List partitioning<ul>\n<li>Each partition is assigned a list of values.</li>\n</ul>\n</li>\n<li>Round-robin partitioning<ul>\n<li>With <code>n</code> partitions, the <code>i</code> tuple is assigned to partition <code>i % n</code>.</li>\n</ul>\n</li>\n<li>Composite partitioning<ul>\n<li>Combine any of above partitioning schemes to devise a new scheme.</li>\n<li>Consistent hashing is a composite of hash and list partitioning.<ul>\n<li>Key -&gt; reduced key space through hash -&gt; list -&gt; partition.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"Common-problems-of-sharding\"><a href=\"#Common-problems-of-sharding\" class=\"headerlink\" title=\"Common problems of sharding\"></a>Common problems of sharding</h2><p>Most of the constraints are due to the fact that operations across multiple tables or multiple rows in the same table will no longer run on the same server.</p>\n<ul>\n<li>Joins and denormalization<ul>\n<li>Joins will not be performance efficient since data has to be compiled from multiple servers.</li>\n<li>Workaround: denormalize the database so that queries can be performed from a single table. But this can lead to data inconsistency.</li>\n</ul>\n</li>\n<li>Referential integrity<ul>\n<li>Difficult to enforce data integrity constraints (e.g. foreign keys).</li>\n<li>Workaround<ul>\n<li>Referential integrity is enforced by application code.</li>\n<li>Applications can run SQL jobs to clean up dangling references.</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>Rebalancing<ul>\n<li>Necessity of rebalancing<ul>\n<li>Data distribution is not uniform.</li>\n<li>A lot of load on one shard.</li>\n</ul>\n</li>\n<li>Create more db shards or rebalance existing shards changes partitioning scheme and requires data movement.</li>\n</ul>\n</li>\n</ul>\n",
            "tags": [
                "blog",
                "coding",
                "computer-science",
                "system-design",
                "design-interview",
                "sql",
                "nosql",
                "sharding",
                "data-partitioning"
            ]
        },
        {
            "id": "https://samirpaul1.github.io/posts/pyshooter/",
            "url": "https://samirpaul1.github.io/posts/pyshooter/",
            "title": "PyShooter Python Game",
            "date_published": "2023-08-05T20:52:53.872Z",
            "content_html": "<h1 id=\"PyShooter\"><a href=\"#PyShooter\" class=\"headerlink\" title=\"PyShooter\"></a>PyShooter</h1><p><a href=\"https://www.python.org/\"><img src=\"https://img.shields.io/badge/language-python-blue.svg?style=flat\" alt=\"Language\"></a><br><a href=\"http://www.pygame.org/news.html\"><img src=\"https://img.shields.io/badge/module-pygame-brightgreen.svg?style=flat\" alt=\"Module\"></a></p>\n<p>PyShooter is a two-dimensional shooter game in which the player runs horizontally and fires at enemies.</p>\n<h5 id=\"Repository-https-github-com-SamirPaul1-PyShooter\"><a href=\"#Repository-https-github-com-SamirPaul1-PyShooter\" class=\"headerlink\" title=\"Repository: https://github.com/SamirPaul1/PyShooter\"></a>Repository: <a href=\"https://github.com/SamirPaul1/PyShooter\">https://github.com/SamirPaul1/PyShooter</a></h5><h2 id=\"Demo\"><a href=\"#Demo\" class=\"headerlink\" title=\"Demo:\"></a>Demo:</h2><iframe width=\"100%\" height=\"420\" src=\"https://www.youtube.com/embed/rg-49OTHZVY\" loading=\"lazy\" title=\"PyShooter - Samir Paul - YouTube\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\" allowfullscreen=\"true\"></iframe>\n\n\n<iframe title=\"Video Demo\" src=\"https://user-images.githubusercontent.com/77569653/214920668-ef657089-b71f-43c8-8011-a202a09f5531.mp4\" loading=\"lazy\" width=\"100%\" height = \"500\" autoplay=\"autoplay\" loop=\"loop\" frameborder=\"0\" allowfullscreen></iframe>\n\n\n<p>Vimeo: <a href=\"https://vimeo.com/809728956\">https://vimeo.com/809728956</a></p>\n<!---\n<a href=\"https://www.youtube.com/watch?v=rg-49OTHZVY\">\n<img src=\"https://raw.githubusercontent.com/SamirPaulb/assets/main/pygame-youtube-video-thumbnail.jpg\" alt=\"PyShooter Demo YouTube\" width=\"700\" height=\"370\">\n</a>\n-->\n\n<h2 id=\"How-To-Play\"><a href=\"#How-To-Play\" class=\"headerlink\" title=\"How To Play\"></a>How To Play</h2><ul>\n<li>If you don’t have <a href=\"https://www.python.org/downloads/\">Python</a> or <a href=\"http://www.pygame.org/download.shtml\">Pygame</a> installed, you can simply double click the .exe file to play the game.<br><strong>Note:</strong> <em>The .exe file needs to stay in the same directory as the sounds, images, and font folders.</em></li>\n</ul>\n<p>Install Pygame <code>pip install pygame</code></p>\n<ul>\n<li>If you have the correct version of Python and Pygame installed, you can run the program in the command prompt &#x2F; terminal.</li>\n</ul>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cd</span> PyShooter</span><br><span class=\"line\">python main.py</span><br></pre></td></tr></table></figure>\n\n\n<hr>\n<p>Credits for assets used: </p>\n<ol>\n<li><a href=\"https://erayzesen.itch.io/pixel-platformer\">https://erayzesen.itch.io/pixel-platformer</a> </li>\n<li><a href=\"https://secrethideout.itch.io/team-wars-platformer-battle\">https://secrethideout.itch.io/team-wars-platformer-battle</a> </li>\n<li><a href=\"https://soundimage.org/fantasywonder\">https://soundimage.org/fantasywonder</a> </li>\n<li><a href=\"https://gushh.net/blog/free-game-sprites-explosion-3\">https://gushh.net/blog/free-game-sprites-explosion-3</a>  </li>\n<li><a href=\"https://mtk.itch.io/grenades-16x16\">https://mtk.itch.io/grenades-16x16</a></li>\n</ol>\n",
            "tags": [
                "blog",
                "coding",
                "computer-science",
                "projects",
                "python",
                "project",
                "pygame",
                "python-game",
                "pyshooter",
                "shooter-game"
            ]
        },
        {
            "id": "https://samirpaul1.github.io/posts/key-characteristics-of-distributed-systems/",
            "url": "https://samirpaul1.github.io/posts/key-characteristics-of-distributed-systems/",
            "title": "Key Characteristics of Distributed Systems",
            "date_published": "2023-08-05T20:52:53.869Z",
            "content_html": "<h1 id=\"Key-Characteristics-of-Distributed-Systems\"><a href=\"#Key-Characteristics-of-Distributed-Systems\" class=\"headerlink\" title=\"Key Characteristics of Distributed Systems\"></a>Key Characteristics of Distributed Systems</h1><h2 id=\"Scalability\"><a href=\"#Scalability\" class=\"headerlink\" title=\"Scalability\"></a>Scalability</h2><ul>\n<li>The capability of a system to grow and manage increased demand.</li>\n<li>A system that can continuously evolve to support growing amount of work is scalable.</li>\n<li>Horizontal scaling: by adding more servers into the pool of resources.</li>\n<li>Vertical scaling: by adding more resource (CPU, RAM, storage, etc) to an existing server. This approach comes with downtime and an upper limit.</li>\n</ul>\n<h2 id=\"Reliability\"><a href=\"#Reliability\" class=\"headerlink\" title=\"Reliability\"></a>Reliability</h2><ul>\n<li>Reliability is the probability that a system will fail in a given period.</li>\n<li>A distributed system is reliable if it keeps delivering its service even when one or multiple components fail.</li>\n<li>Reliability is achieved through redundancy of components and data (remove every single point of failure).</li>\n</ul>\n<h2 id=\"Availability\"><a href=\"#Availability\" class=\"headerlink\" title=\"Availability\"></a>Availability</h2><ul>\n<li>Availability is the time a system remains operational to perform its required function in a specific period.</li>\n<li>Measured by the percentage of time that a system remains operational under normal conditions.</li>\n<li>A reliable system is available.</li>\n<li>An available system is not necessarily reliable.<ul>\n<li>A system with a security hole is available when there is no security attack.</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"Efficiency\"><a href=\"#Efficiency\" class=\"headerlink\" title=\"Efficiency\"></a>Efficiency</h2><ul>\n<li>Latency: response time, the delay to obtain the first piece of data.</li>\n<li>Bandwidth: throughput, amount of data delivered in a given time.</li>\n</ul>\n<h2 id=\"Serviceability-Manageability\"><a href=\"#Serviceability-Manageability\" class=\"headerlink\" title=\"Serviceability &#x2F; Manageability\"></a>Serviceability &#x2F; Manageability</h2><ul>\n<li>Easiness to operate and maintain the system.</li>\n<li>Simplicity and spend with which a system can be repaired or maintained.</li>\n</ul>\n",
            "tags": [
                "blog",
                "coding",
                "computer-science",
                "system-design",
                "design-interview",
                "distributed-systems"
            ]
        },
        {
            "id": "https://samirpaul1.github.io/posts/high-level-design/",
            "url": "https://samirpaul1.github.io/posts/high-level-design/",
            "title": "High-level design",
            "date_published": "2023-08-05T20:52:53.867Z",
            "content_html": "<h1 id=\"High-level-design-HLD\"><a href=\"#High-level-design-HLD\" class=\"headerlink\" title=\"High-level design (HLD)\"></a>High-level design (HLD)</h1><hr>\n<h1 id=\"Ticketmaster\"><a href=\"#Ticketmaster\" class=\"headerlink\" title=\"Ticketmaster\"></a>Ticketmaster</h1><p><img src=\"/assets/img/system-design/ticketmaster-overview.png\" alt=\"ticketmaster-overview\"></p>\n<hr>\n<h1 id=\"Pastebin\"><a href=\"#Pastebin\" class=\"headerlink\" title=\"Pastebin\"></a>Pastebin</h1><p><img src=\"/assets/img/system-design/pastebin-overview.png\" alt=\"pastebin-overview\"><br><img src=\"/assets/img/system-design/pastebin-detail.png\" alt=\"pastebin-detail\"></p>\n<hr>\n<h1 id=\"Instagram\"><a href=\"#Instagram\" class=\"headerlink\" title=\"Instagram\"></a>Instagram</h1><p><img src=\"/assets/img/system-design/instagram-overview.png\" alt=\"instagram-overview\"><br><img src=\"/assets/img/system-design/instagram-detail.png\" alt=\"instagram-detail\"></p>\n<hr>\n<h1 id=\"Dropbox\"><a href=\"#Dropbox\" class=\"headerlink\" title=\"Dropbox\"></a>Dropbox</h1><p><img src=\"/assets/img/system-design/dropbox-overview.png\" alt=\"dropbox-overview\"><br><img src=\"/assets/img/system-design/dropbox-detail.png\" alt=\"dropbox-detail\"></p>\n<hr>\n<h1 id=\"Twitter\"><a href=\"#Twitter\" class=\"headerlink\" title=\"Twitter\"></a>Twitter</h1><p><img src=\"/assets/img/system-design/twitter-overview.png\" alt=\"twitter-overview\"><br><img src=\"/assets/img/system-design/twitter-detail.png\" alt=\"twitter-detail\"></p>\n<hr>\n<h1 id=\"Twitter-Search\"><a href=\"#Twitter-Search\" class=\"headerlink\" title=\"Twitter Search\"></a>Twitter Search</h1><p><img src=\"/assets/img/system-design/twitter-search-overview.png\" alt=\"twitter-search-overview\"><br><img src=\"/assets/img/system-design/twitter-search-detail.png\" alt=\"twitter-search-detail\"></p>\n<hr>\n<h1 id=\"Youtube\"><a href=\"#Youtube\" class=\"headerlink\" title=\"Youtube\"></a>Youtube</h1><p><img src=\"/assets/img/system-design/youtube-overview.png\" alt=\"youtube-overview\"><br><img src=\"/assets/img/system-design/youtube-detail.png\" alt=\"youtube-detail\"></p>\n<hr>\n<h1 id=\"Web-Crawler\"><a href=\"#Web-Crawler\" class=\"headerlink\" title=\"Web Crawler\"></a>Web Crawler</h1><p><img src=\"/assets/img/system-design/web-crawler-overview.png\" alt=\"web-crawler-overview\"><br><img src=\"/assets/img/system-design/web-crawler-detail.png\" alt=\"web-crawler-detail\"></p>\n<hr>\n<h1 id=\"Facebook-Newsfeed\"><a href=\"#Facebook-Newsfeed\" class=\"headerlink\" title=\"Facebook Newsfeed\"></a>Facebook Newsfeed</h1><p><img src=\"/assets/img/system-design/facebook-newsfeed-overview.png\" alt=\"facebook-newsfeed-overview\"></p>\n<hr>\n<h1 id=\"Yelp\"><a href=\"#Yelp\" class=\"headerlink\" title=\"Yelp\"></a>Yelp</h1><p><img src=\"/assets/img/system-design/yelp-overview.png\" alt=\"yelp-overview\"></p>\n<hr>\n<h1 id=\"Uber-Backend\"><a href=\"#Uber-Backend\" class=\"headerlink\" title=\"Uber Backend\"></a>Uber Backend</h1><p><img src=\"/assets/img/system-design/uber-backend-overview.png\" alt=\"uber-backend-overview\"></p>\n<hr>\n",
            "tags": [
                "blog",
                "coding",
                "computer-science",
                "system-design",
                "design-interview",
                "preparation"
            ]
        },
        {
            "id": "https://samirpaul1.github.io/posts/consistent-hashing/",
            "url": "https://samirpaul1.github.io/posts/consistent-hashing/",
            "title": "Consistent Hashing",
            "date_published": "2023-08-05T20:52:53.865Z",
            "content_html": "<h1 id=\"Consistent-Hashing\"><a href=\"#Consistent-Hashing\" class=\"headerlink\" title=\"Consistent Hashing\"></a>Consistent Hashing</h1><h2 id=\"Simple-hashing\"><a href=\"#Simple-hashing\" class=\"headerlink\" title=\"Simple hashing\"></a>Simple hashing</h2><p>Problems of simple hashing function <code>key % n</code> (<code>n</code> is the number of servers):</p>\n<ul>\n<li>It is not horizontally scalable. Whenever a new cache host is added to the system, all existing mappings are broken.</li>\n<li>It may not be load balanced, especially for non-uniformly distributed data. Some servers will become hot spots.</li>\n</ul>\n<h2 id=\"Consistent-Hashing-1\"><a href=\"#Consistent-Hashing-1\" class=\"headerlink\" title=\"Consistent Hashing\"></a>Consistent Hashing</h2><ul>\n<li>Consistent hashing maps a key to an integer.</li>\n<li>Imagine that the integers in the range are placed on a ring such that the values are wrapped around.</li>\n<li>Given a list of servers, hash them to integers in the range.</li>\n<li>To map a key to a server:<ul>\n<li>Hash it to a single integer.</li>\n<li>Move clockwise on the ring until finding the first cache it encounters.</li>\n</ul>\n</li>\n<li>When the hash table is resized (a server is added or deleted), only <code>k/n</code> keys need to be remapped (<code>k</code> is the total number of keys, and <code>n</code> is the total number of servers).</li>\n<li>To handle hot spots, add “virtual replicas” for caches.<ul>\n<li>Instead of mapping each cache to a single point on the ring, map it to multiple points on the ring (replicas). This way, each cache is associated with multiple portions of the ring.</li>\n<li>If the hash function is “mixes well,” as the number of replicas increases, the keys will be more balanced.</li>\n</ul>\n</li>\n</ul>\n",
            "tags": [
                "blog",
                "coding",
                "computer-science",
                "system-design",
                "design-interview",
                "preparation"
            ]
        },
        {
            "id": "https://samirpaul1.github.io/posts/company-engineering-blog-links/",
            "url": "https://samirpaul1.github.io/posts/company-engineering-blog-links/",
            "title": "Company engineering blog links",
            "date_published": "2023-08-05T20:52:53.862Z",
            "content_html": "<p>courtesy <a href=\"https://github.com/checkcheckzz/system-design-interview#toc\">checkcheckzz</a></p>\n<p>Depending on where you are interviewing, go through the company blog. VERY USEFUL IN INTERVIEWS! It really helps if you have an idea of the architecture, as the questions asked will generally be of that domain and your prior knowledge will help out here.</p>\n<ul>\n<li><a href=\"http://nerds.airbnb.com/\">Airbnb Engineering</a></li>\n<li><a href=\"https://developer.amazon.com/blogs\">Amazon</a></li>\n<li><a href=\"https://aws.amazon.com/blogs/\">Amazon AWS</a></li>\n<li><a href=\"http://bandcamptech.wordpress.com/\">Bandcamp Tech</a></li>\n<li><a href=\"https://www.simple.com/engineering/\">BankSimple Simple Blog</a></li>\n<li><a href=\"http://word.bitly.com/\">Bitly Engineering Blog</a></li>\n<li><a href=\"http://blog.cloudera.com/blog/\">Cloudera Developer Blog</a></li>\n<li><a href=\"https://tech.dropbox.com/\">Dropbox Tech Blog</a></li>\n<li><a href=\"http://engineering.quora.com/\">Engineering at Quora</a></li>\n<li><a href=\"http://codeascraft.com/\">Etsy Code as Craft</a></li>\n<li><a href=\"https://www.facebook.com/Engineering\">Facebook Engineering</a></li>\n<li><a href=\"http://code.flickr.net/\">Flickr Code</a></li>\n<li><a href=\"http://engineering.foursquare.com/\">Foursquare Engineering Blog</a></li>\n<li><a href=\"http://googleresearch.blogspot.com/\">Google Research Blog</a></li>\n<li><a href=\"https://engineering.groupon.com/\">Groupn Engineering Blog</a></li>\n<li><a href=\"http://highscalability.com/\">High Scalability</a></li>\n<li><a href=\"http://instagram-engineering.tumblr.com/\">Instagram Engineering</a></li>\n<li><a href=\"http://engineering.linkedin.com/blog\">LinkedIn Engineering</a></li>\n<li><a href=\"http://tech.oyster.com/\">Oyster Tech Blog</a></li>\n<li><a href=\"http://engineering.pinterest.com/\">Pinterest Engineering Blog</a></li>\n<li><a href=\"http://devblog.songkick.com/\">Songkick Technology Blog</a></li>\n<li><a href=\"https://developers.soundcloud.com/blog/\">SoundCloud Backstage Blog</a></li>\n<li><a href=\"http://corner.squareup.com/\">Square The Corner</a></li>\n<li><a href=\"http://www.redditblog.com/\">THE REDDIT BLOG</a></li>\n<li><a href=\"https://github.com/blog/category/engineering\">The GitHub Blog</a></li>\n<li><a href=\"http://techblog.netflix.com/\">The Netflix Tech Blog</a></li>\n<li><a href=\"http://www.twilio.com/engineering\">Twilio Engineering Blog</a></li>\n<li><a href=\"https://engineering.twitter.com/\">Twitter Engineering</a></li>\n<li><a href=\"https://eng.uber.com/\">Uber Engineering</a></li>\n<li><a href=\"https://medium.com/walmartlabs\">Walmart Labs Tech Blog</a></li>\n<li><a href=\"http://engineering.webengage.com/\">WebEngage Engineering Blog</a></li>\n<li><a href=\"http://eng.yammer.com/blog/\">Yammer Engineering</a></li>\n<li><a href=\"http://engineeringblog.yelp.com/\">Yelp Engineering Blog</a></li>\n<li><a href=\"https://smarketshq.com/\">Smarkets Blog</a></li>\n</ul>\n",
            "tags": [
                "blog",
                "coding",
                "computer-science",
                "system-design",
                "design-interview",
                "preparation"
            ]
        },
        {
            "id": "https://samirpaul1.github.io/posts/common-design-questions/",
            "url": "https://samirpaul1.github.io/posts/common-design-questions/",
            "title": "Common Design questions",
            "date_published": "2023-08-05T20:52:53.859Z",
            "content_html": "<p>It generally depends what you are and you will be working on. Also what your level is but these are some of the more frequent interview questions.</p>\n<ul>\n<li>Design amazon’s frequently viewed product page (eg. which shows the last 5 items you saw)</li>\n<li>Design an online poker game for multiplayer. Solve for persistence, concurrency, scale. Draw the ER diagram for this </li>\n<li>Design a [url compression system] (<a href=\"http://www.hiredintech.com/system-design/the-system-design-process/\">http://www.hiredintech.com/system-design/the-system-design-process/</a>)</li>\n<li><a href=\"http://infolab.stanford.edu/~backrub/google.html\">Search engine</a> (generally asked with people who have some domain knowledge): basic crawling, collection, hashing etc. Depends on your expertise on this topic</li>\n<li>Design dropbox’s architecture. <a href=\"https://www.youtube.com/watch?v=PE4gwstWhmc\">good talk on this</a></li>\n<li>Design a <a href=\"http://highscalability.com/blog/2011/12/6/instagram-architecture-14-million-users-terabytes-of-photos.html\">picture sharing website</a>. How will you store thumbnails, photos? Usage of CDNS? caching at various layers etc.</li>\n<li><ul>\n<li>Design a news feed (eg. Facebook , Twitter): <a href=\"http://www.quora.com/Software-Engineering-Best-Practices/What-are-best-practices-for-building-something-like-a-News-Feed\">news feed</a></li>\n</ul>\n</li>\n<li>Design a product based on maps, eg hotel &#x2F; ATM finder given a location. </li>\n<li>Design malloc, free and <a href=\"http://courses.cs.washington.edu/courses/csep521/07wi/prj/rick.pdf\">garbage collection system</a>. What data structures to use? decorator pattern over malloc etc.</li>\n<li>Design a site like <a href=\"http://www.junglee.com/\">junglee.com</a> i.e price comparision, availability on e-commerce websites. When and will you cache, how much to query, how to crawl efficiently over e-commerce sites, sharding of databases, basic database design</li>\n<li>A web application for instant messaging, eg <a href=\"http://highscalability.com/blog/2014/2/26/the-whatsapp-architecture-facebook-bought-for-19-billion.html\">whatsapp</a>, facebook chat. Issues of each, scaling problems, status and availability notification etc.</li>\n<li>Design a system for collaborating over a document simultaneously (eg <a href=\"https://neil.fraser.name/writing/sync/\">google docs</a>)</li>\n<li>(very common:) top ‘n’ or most frequent items of a running stream of data</li>\n<li>Design election commission architecture :<br> Let’s say we work with the Election Commission. On Counting day, we want to collate the votes received at the lakhs of voting booths all over the country. Each booth has a voting machine, which, when connected to the network, returns an array of the form {[party_id, num_votes],[party_id_2, num_votes_2],…}. We want to collect these and get the current scores in real time. The report we need continuously is how many seats is each party leading in. Please design a system for this.</li>\n<li>Design a logging system<br> (For web applications, it is common to have a large number of servers running the same application, with a load balancer in front to distribute the incoming requests. In this scenario, we want to check and alarm in case an exception is thrown in any of the servers. We want a system that checks for the appearance of specific words, “Exception”, “Disk Full” etc. in the logs of any of the servers. How would you design this system?)</li>\n</ul>\n",
            "tags": [
                "blog",
                "coding",
                "computer-science",
                "system-design",
                "design-interview",
                "preparation"
            ]
        },
        {
            "id": "https://samirpaul1.github.io/posts/client-server-communication/",
            "url": "https://samirpaul1.github.io/posts/client-server-communication/",
            "title": "Client-Server Communication",
            "date_published": "2023-08-05T20:52:53.857Z",
            "content_html": "<h1 id=\"Client-Server-Communication\"><a href=\"#Client-Server-Communication\" class=\"headerlink\" title=\"Client-Server Communication\"></a>Client-Server Communication</h1><h2 id=\"Standard-HTTP-Web-Request\"><a href=\"#Standard-HTTP-Web-Request\" class=\"headerlink\" title=\"Standard HTTP Web Request\"></a>Standard HTTP Web Request</h2><ol>\n<li>Client opens a connection and requests data from server.</li>\n<li>Server calculates the response.</li>\n<li>Server sends the response back to the client on the opened request.</li>\n</ol>\n<h2 id=\"Ajax-Polling\"><a href=\"#Ajax-Polling\" class=\"headerlink\" title=\"Ajax Polling\"></a>Ajax Polling</h2><p>The client repeatedly polls (or requests) a server for data, and waits for the server to respond with data. If no data is available, an empty response is returned.</p>\n<ol>\n<li>Client opens a connection and requests data from the server using regular HTTP.</li>\n<li>The requested webpage sends requests to the server at regular intervals (e.g., 0.5 seconds).</li>\n<li>The server calculates the response and sends it back, like regular HTTP traffic.</li>\n<li>Client repeats the above three steps periodically to get updates from the server.</li>\n</ol>\n<p>Problems</p>\n<ul>\n<li>Client has to keep asking the server for any new data.</li>\n<li>A lot of responses are empty, creating HTTP overhead.</li>\n</ul>\n<h2 id=\"HTTP-Long-Polling\"><a href=\"#HTTP-Long-Polling\" class=\"headerlink\" title=\"HTTP Long-Polling\"></a>HTTP Long-Polling</h2><p>The client requests information from the server exactly as in normal polling, but with the expectation that the server may not respond immediately.</p>\n<ol>\n<li>The client makes an initial request using regular HTTP and then waits for a response.</li>\n<li>The server delays its response until an update is available, or until a timeout has occurred.</li>\n<li>When an update is available, the server sends a full response to the client.</li>\n<li>The client typically sends a new long-poll request, either immediately upon receiving a response or after a pause to allow an acceptable latency period.</li>\n</ol>\n<p>Each Long-Poll request has a timeout. The client has to reconnect periodically after the connection is closed, due to timeouts.</p>\n<h2 id=\"WebSockets\"><a href=\"#WebSockets\" class=\"headerlink\" title=\"WebSockets\"></a>WebSockets</h2><ul>\n<li>A persistent full duplex communication channels over a single TCP connection. Both server and client can send data at any time.</li>\n<li>A connection is established through WebSocket handshake.</li>\n<li>Low communication overhead.</li>\n<li>Real-time data transfer.</li>\n</ul>\n<h2 id=\"Server-Sent-Event-SSE\"><a href=\"#Server-Sent-Event-SSE\" class=\"headerlink\" title=\"Server-Sent Event (SSE)\"></a>Server-Sent Event (SSE)</h2><ol>\n<li>Client requests data from a server using regular HTTP.</li>\n<li>The requested webpage opens a connection to the server.</li>\n<li>Server sends the data to the client whenever there’s new information available.</li>\n</ol>\n<ul>\n<li>Use case:<ul>\n<li>When real-time traffic from server to client is needed.</li>\n<li>When server generates data in a loop and sends multiple events to client.</li>\n</ul>\n</li>\n</ul>\n",
            "tags": [
                "blog",
                "coding",
                "computer-science",
                "system-design",
                "design-interview",
                "preparation"
            ]
        },
        {
            "id": "https://samirpaul1.github.io/posts/caching/",
            "url": "https://samirpaul1.github.io/posts/caching/",
            "title": "Caching",
            "date_published": "2023-08-05T20:52:53.855Z",
            "content_html": "<p>Caching</p>\n<hr>\n<ul>\n<li>Take advantage of the locality of reference principle: recently requested data is likely to be requested again.</li>\n<li>Exist at all levels in architecture, but often found at the level nearest to the front end.</li>\n</ul>\n<h2 id=\"Application-server-cache\"><a href=\"#Application-server-cache\" class=\"headerlink\" title=\"Application server cache\"></a>Application server cache</h2><ul>\n<li>Cache placed on a request layer node.</li>\n<li>When a request layer node is expanded to many nodes<ul>\n<li>Load balancer randomly distributes requests across the nodes.</li>\n<li>The same request can go to different nodes.</li>\n<li>Increase cache misses.</li>\n<li>Solutions:<ul>\n<li>Global caches</li>\n<li>Distributed caches</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"Distributed-cache\"><a href=\"#Distributed-cache\" class=\"headerlink\" title=\"Distributed cache\"></a>Distributed cache</h2><ul>\n<li>Each request layer node owns part of the cached data.</li>\n<li>Entire cache is divided up using a consistent hashing function.</li>\n<li>Pro<ul>\n<li>Cache space can be increased easily by adding more nodes to the request pool.</li>\n</ul>\n</li>\n<li>Con<ul>\n<li>A missing node leads to cache lost.</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"Global-cache\"><a href=\"#Global-cache\" class=\"headerlink\" title=\"Global cache\"></a>Global cache</h2><ul>\n<li>A server or file store that is faster than original store, and accessible by all request layer nodes.</li>\n<li>Two common forms<ul>\n<li>Cache server handles cache miss.<ul>\n<li>Used by most applications.</li>\n</ul>\n</li>\n<li>Request nodes handle cache miss.<ul>\n<li>Have a large percentage of the hot data set in the cache.</li>\n<li>An architecture where the files stored in the cache are static and shouldn’t be evicted.</li>\n<li>The application logic understands the eviction strategy or hot spots better than the cache</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"Content-distributed-network-CDN\"><a href=\"#Content-distributed-network-CDN\" class=\"headerlink\" title=\"Content distributed network (CDN)\"></a>Content distributed network (CDN)</h2><ul>\n<li>For sites serving large amounts of static media.</li>\n<li>Process<ul>\n<li>A request first asks the CDN for a piece of static media.</li>\n<li>CDN serves that content if it has it locally available.</li>\n<li>If content isn’t available, CDN will query back-end servers for the file, cache it locally and serve it to the requesting user.</li>\n</ul>\n</li>\n<li>If the system is not large enough for CDN, it can be built like this:<ul>\n<li>Serving static media off a separate subdomain using lightweight HTTP server (e.g. Nginx).</li>\n<li>Cutover the DNS from this subdomain to a CDN later.</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"Cache-invalidation\"><a href=\"#Cache-invalidation\" class=\"headerlink\" title=\"Cache invalidation\"></a>Cache invalidation</h2><ul>\n<li>Keep cache coherent with the source of truth. Invalidate cache when source of truth has changed.</li>\n<li>Write-through cache<ul>\n<li>Data is written into the cache and permanent storage at the same time.</li>\n<li>Pro<ul>\n<li>Fast retrieval, complete data consistency, robust to system disruptions.</li>\n</ul>\n</li>\n<li>Con<ul>\n<li>Higher latency for write operations.</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>Write-around cache<ul>\n<li>Data is written to permanent storage, not cache.</li>\n<li>Pro<ul>\n<li>Reduce the cache that is no used.</li>\n</ul>\n</li>\n<li>Con<ul>\n<li>Query for recently written data creates a cache miss and higher latency.</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>Write-back cache<ul>\n<li>Data is only written to cache.</li>\n<li>Write to the permanent storage is done later on.</li>\n<li>Pro<ul>\n<li>Low latency, high throughput for write-intensive applications.</li>\n</ul>\n</li>\n<li>Con<ul>\n<li>Risk of data loss in case of system disruptions.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"Cache-eviction-policies\"><a href=\"#Cache-eviction-policies\" class=\"headerlink\" title=\"Cache eviction policies\"></a>Cache eviction policies</h2><ul>\n<li>FIFO: first in first out</li>\n<li>LIFO: last in first out</li>\n<li>LRU: least recently used</li>\n<li>MRU: most recently used</li>\n<li>LFU: least frequently used</li>\n<li>RR: random replacement</li>\n</ul>\n",
            "tags": [
                "blog",
                "coding",
                "computer-science",
                "caching",
                "system-design",
                "design-interview"
            ]
        },
        {
            "id": "https://samirpaul1.github.io/posts/google-programmable-search-engine/",
            "url": "https://samirpaul1.github.io/posts/google-programmable-search-engine/",
            "title": "Google Programmable Search Engine",
            "date_published": "2023-08-05T20:52:53.852Z",
            "content_html": "<p>Google Programmable Search Engine lets you include a search engine on your website to help your visitors find the information they’re looking for. Because Programmable Search Engine is based on Google’s core search technology, you can be confident that your users are getting high quality, relevant results. You can customize a lot of your search engine, including:</p>\n<ul>\n<li>Apply your site’s look and feel to the search box and results page</li>\n<li>Use search features such as refinements, autocomplete, and promotions to enhance your users’ search experience</li>\n<li>Understand your users’ behavior by linking your search engine with  <a href=\"https://google.com/analytics/\">Google Analytics</a></li>\n<li>Make money from your search engine with  <a href=\"https://google.com/adsense\">Google AdSense</a></li>\n</ul>\n<h3 id=\"Demo\"><a href=\"#Demo\" class=\"headerlink\" title=\"Demo:\"></a>Demo:</h3><script async src=\"https://cse.google.com/cse.js?cx=4269bf6b77dbf4cae\">\n</script>\n<div class=\"gcse-search\"></div>\n\n<hr>\n<h3 id=\"How-is-Programmable-Search-Engine-different-from-Google-Web-Search\"><a href=\"#How-is-Programmable-Search-Engine-different-from-Google-Web-Search\" class=\"headerlink\" title=\"How is Programmable Search Engine different from Google Web Search?\"></a>How is Programmable Search Engine different from Google Web Search?</h3><p>You have the option to set your custom search engine to search the entire web, similar to a normal search on Google.com. However, you might notice some differences. Your custom search engine:</p>\n<ul>\n<li>Emphasizes your results over anything else on the web</li>\n<li>Doesn’t include some  <a href=\"https://support.google.com/websearch#topic=3378866\">Google Web Search features</a>, such as personalized results</li>\n<li>May have a subset of results from the Google index if you include more than ten sites</li>\n</ul>\n",
            "tags": [
                "blog",
                "coding",
                "computer-science",
                "google",
                "google-search-withing-webpage",
                "google-programmable-search-engine",
                "programmable-search-engine"
            ]
        },
        {
            "id": "https://samirpaul1.github.io/posts/why-is-system-design-so-important/",
            "url": "https://samirpaul1.github.io/posts/why-is-system-design-so-important/",
            "title": "Why is System Design So Important?",
            "date_published": "2023-08-05T20:52:53.850Z",
            "content_html": "<p>System design is important for several reasons:</p>\n<ol>\n<li><p><strong>Defining system requirements:</strong> System design helps to identify the requirements and constraints of the system being designed, and to prioritize those requirements. This ensures that the final design meets the needs of the stakeholders and users.</p>\n</li>\n<li><p><strong>Improved efficiency:</strong> A well-designed system can improve efficiency by reducing the number of errors, reducing duplication of effort, and automating manual tasks.</p>\n</li>\n<li><p><strong>Improved scalability:</strong> System design helps to ensure that the system can accommodate future growth and change. A well-designed system is modular and scalable, making it easier to add new features or capabilities as needed.</p>\n</li>\n<li><p><strong>Better communication:</strong> System design helps to create a common understanding of the system among stakeholders, including developers, managers, and customers. A well-defined design makes it easier to communicate the system’s capabilities, constraints, and requirements.</p>\n</li>\n<li><p><strong>Improved maintainability:</strong> A well-designed system is easier to maintain and modify as needed. The design includes documentation and a clear understanding of the system’s components and interactions, making it easier for future developers to understand the system and make changes as needed.</p>\n</li>\n</ol>\n<p>Overall, system design is an important step in the development of any system, as it helps to ensure that the final product meets the needs of stakeholders and users, is efficient, scalable, and maintainable, and facilitates communication and collaboration among team members.</p>\n",
            "tags": [
                "blog",
                "coding",
                "computer-science",
                "system-design"
            ]
        },
        {
            "id": "https://samirpaul1.github.io/posts/why-does-the-osi-model-matter/",
            "url": "https://samirpaul1.github.io/posts/why-does-the-osi-model-matter/",
            "title": "Why Does The OSI Model Matter?",
            "date_published": "2023-08-05T20:52:53.847Z",
            "content_html": "<p>The OSI (Open Systems Interconnection) model matters because it provides a standard way of describing and understanding the different functions and components involved in a network communication. The OSI model is a seven-layer abstraction of the network communication process, and it defines the tasks and responsibilities of each layer.</p>\n<ol>\n<li><p>Standardization: The OSI model provides a standard reference model that is widely used and accepted in the industry. This standardization helps to ensure that different systems and components can communicate with each other, even if they were developed by different vendors or organizations.</p>\n</li>\n<li><p>Improved troubleshooting: The OSI model provides a systematic and organized approach to understanding network communication issues. By breaking down network communication into its component parts, it becomes easier to diagnose and fix problems.</p>\n</li>\n<li><p>Design and development: The OSI model can help with the design and development of network systems by providing a common understanding of the different layers and their responsibilities. This can facilitate communication and collaboration between different teams and stakeholders.</p>\n</li>\n<li><p>Education: The OSI model is a useful tool for teaching and learning about network communication. It provides a simple and visual way to understand the complex process of network communication.</p>\n</li>\n</ol>\n",
            "tags": [
                "blog",
                "coding",
                "computer-science",
                "networking"
            ]
        },
        {
            "id": "https://samirpaul1.github.io/posts/what-is-system-design/",
            "url": "https://samirpaul1.github.io/posts/what-is-system-design/",
            "title": "What is System Design?",
            "date_published": "2023-08-05T20:52:53.844Z",
            "content_html": "<p>System design is a process of defining the architecture, modules, interfaces, data for a system to satisfy specified requirements. It can refer to the design of a complex system, such as a computer network, an aircraft, or a power plant, or it can refer to the design of a smaller system, such as a software application or a single computer program.</p>\n<p>The goal of system design is to produce a blueprint or plan that outlines how all the components of the system will work together to achieve the desired outcomes. This process typically involves analyzing the requirements of the system, defining the architecture, selecting appropriate technologies, and ensuring that the system is scalable, maintainable, and meets performance, reliability, and security requirements.</p>\n<p>In software engineering, system design is often used as a synonym for software design, which is the process of defining the architecture, modules, interfaces, and data for a software system to satisfy specified requirements.</p>\n",
            "tags": [
                "blog",
                "coding",
                "computer-science",
                "system-design"
            ]
        },
        {
            "id": "https://samirpaul1.github.io/posts/virtualization-vs-containerization/",
            "url": "https://samirpaul1.github.io/posts/virtualization-vs-containerization/",
            "title": "Virtualization vs Containerization",
            "date_published": "2023-08-05T20:52:53.842Z",
            "content_html": "<p>Virtualization and containerization are two different approaches to creating and managing virtual environments for software applications.</p>\n<p>Virtualization involves creating a virtual machine (VM) that acts as a separate, self-contained operating system environment. Each VM runs its own operating system and applications, and has its own set of virtual hardware resources, such as CPU, memory, and storage. Virtualization allows multiple virtual machines to run on a single physical server, improving utilization and reducing costs. Examples of virtualization technology include VMware and Hyper-V.</p>\n<p>Containerization, on the other hand, is a newer approach to virtualization that is designed to be more lightweight and efficient. Containers are similar to virtual machines, in that they provide a self-contained environment for running applications. However, unlike virtual machines, containers do not include a full operating system. Instead, they share the host operating system and rely on the host for system services. This means that containers are much smaller and faster to start up than virtual machines, and can be run on a much larger scale. Examples of containerization technology include Docker and Kubernetes.</p>\n<img src=\"https://samirpaulb.github.io/assets/virtualization-vs-containerization.jpg\" alt=\"virtualization vs containerization\" style=\"width:100%\" loading=\"lazy\">\n\n<p>In summary, virtualization and containerization are both ways to create virtual environments for software applications, but they differ in the level of abstraction and the resources they provide. Virtualization provides a full operating system environment, while containerization provides a lightweight, application-focused environment that relies on the host operating system. Both approaches have their own benefits and trade-offs, and the best choice will depend on the specific requirements of the application and the infrastructure.</p>\n",
            "tags": [
                "blog",
                "coding",
                "computer-science"
            ]
        },
        {
            "id": "https://samirpaul1.github.io/posts/tcp-vs-udp/",
            "url": "https://samirpaul1.github.io/posts/tcp-vs-udp/",
            "title": "TCP vs UDP",
            "date_published": "2023-08-05T20:52:53.839Z",
            "content_html": "<p>TCP (Transmission Control Protocol) and UDP (User Datagram Protocol) are two of the most commonly used protocols for transmitting data over a network.</p>\n<p>TCP is a reliable and connection-oriented protocol, meaning that a virtual connection must be established between the sender and the receiver before data can be transmitted. It ensures that data is delivered to the recipient in the same order it was sent, and that it is received without errors. If a packet of data is lost or corrupted during transmission, TCP will automatically retransmit the missing data until it is successfully received. This makes TCP a great choice for applications that require reliable data transfer, such as email and file transfers.</p>\n<p>UDP, on the other hand, is a connectionless and unreliable protocol. Unlike TCP, it does not establish a virtual connection between the sender and the receiver, and it does not guarantee that the data will be delivered in the same order it was sent. It is faster than TCP because it has less overhead, but it is less reliable. UDP is often used for applications that do not require reliable data transfer and can tolerate some lost or corrupted data, such as video or audio streaming, online gaming, and voice over IP (VoIP).</p>\n<p>In summary, TCP is best for applications that require reliable data transfer, while UDP is best for applications that can tolerate some loss and do not require reliable data transfer.</p>\n",
            "tags": [
                "blog",
                "coding",
                "computer-science"
            ]
        },
        {
            "id": "https://samirpaul1.github.io/posts/ssl-tls-mtls/",
            "url": "https://samirpaul1.github.io/posts/ssl-tls-mtls/",
            "title": "SSL TLS mTLS",
            "date_published": "2023-08-05T20:52:53.837Z",
            "content_html": "<p>SSL (Secure Sockets Layer), TLS (Transport Layer Security), and mTLS (Mutual TLS) are all security protocols used to secure communications over the internet.</p>\n<p>SSL was the original protocol used to secure internet communications, but it has been largely replaced by TLS, which is considered to be more secure. TLS is a cryptographic protocol that provides secure communication between two endpoints, such as a web server and a client browser. It ensures that the data transmitted between the endpoints is confidential and integrity protected.</p>\n<p>mTLS, also known as Mutual TLS, is an extension of TLS that adds an extra layer of security by requiring both the client and server to present a valid certificate to each other. This provides a stronger level of identity validation and protects against man-in-the-middle attacks. mTLS is used in situations where it is important to ensure the authenticity of both parties involved in a communication, such as in financial transactions or sensitive data transfers.</p>\n<p>In summary, SSL, TLS, and mTLS are all protocols used to secure internet communications, with TLS being the most widely used and considered to be the most secure. mTLS adds an extra layer of security by requiring both the client and server to present a valid certificate to each other, providing a stronger level of identity validation and protection against man-in-the-middle attacks.</p>\n",
            "tags": [
                "blog",
                "coding",
                "computer-science"
            ]
        }
    ]
}