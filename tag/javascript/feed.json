{
    "version": "https://jsonfeed.org/version/1",
    "title": "Samir Paul • All posts by \"javascript\" tag",
    "description": "Software Engineer",
    "home_page_url": "https://samirpaul.in",
    "items": [
        {
            "id": "https://samirpaul.in/posts/open-external-links-in-a-new-window-using-javascript/",
            "url": "https://samirpaul.in/posts/open-external-links-in-a-new-window-using-javascript/",
            "title": "Open External Links in a New Window Using JavaScript",
            "date_published": "2023-08-05T20:52:53.780Z",
            "content_html": "<p>This is a quick post showing how to use JavaScript to make links to external websites open in a new window (or tab) instead of in the current window. This is useful for <code>Jekyll</code> blogs because the Markdown converters don’t do this for you. I included two versions: one that uses straight JavaScript, and one that requires <code>jQuery</code> but is shorter.</p>\n<p>Both versions work basically the same way: grab all anchor tags <code>&lt;a href=&quot;#&quot;&gt;</code> that are linking to somewhere other than your development environment or a page on your site and then attribute <code>target=&quot;_blank&quot;</code> to those tags. Because this is JavaScript, users with JavaScript disabled will still experience the old behavior, but otherwise won’t be adversely affected.</p>\n<h3 id=\"Straight-JavaScript\"><a href=\"#Straight-JavaScript\" class=\"headerlink\" title=\"Straight JavaScript\"></a>Straight JavaScript</h3><p>This version does not require any jQuery (or any other libraries):</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">ready</span>(<span class=\"params\">fn</span>) &#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> (<span class=\"variable language_\">document</span>.<span class=\"property\">readyState</span> != <span class=\"string\">&#x27;loading&#x27;</span>) &#123;</span><br><span class=\"line\">    <span class=\"title function_\">fn</span>();</span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (<span class=\"variable language_\">document</span>.<span class=\"property\">addEventListener</span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">document</span>.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;DOMContentLoaded&#x27;</span>, fn);</span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">document</span>.<span class=\"title function_\">attachEvent</span>(<span class=\"string\">&#x27;onreadystatechange&#x27;</span>, <span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (<span class=\"variable language_\">document</span>.<span class=\"property\">readyState</span> != <span class=\"string\">&#x27;loading&#x27;</span>)</span><br><span class=\"line\">        <span class=\"title function_\">fn</span>();</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title function_\">ready</span>(<span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">var</span> website = <span class=\"variable language_\">window</span>.<span class=\"property\">location</span>.<span class=\"property\">hostname</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">var</span> internalLinkRegex = <span class=\"keyword\">new</span> <span class=\"title class_\">RegExp</span>(<span class=\"string\">&#x27;^((((http:\\\\/\\\\/|https:\\\\/\\\\/)(www\\\\.)?)?&#x27;</span></span><br><span class=\"line\">                                     + website</span><br><span class=\"line\">                                     + <span class=\"string\">&#x27;)|(localhost:\\\\d&#123;4&#125;)|(\\\\/.*))(\\\\/.*)?$&#x27;</span>, <span class=\"string\">&#x27;&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">var</span> anchorEls = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelectorAll</span>(<span class=\"string\">&#x27;a&#x27;</span>);</span><br><span class=\"line\">  <span class=\"keyword\">var</span> anchorElsLength = anchorEls.<span class=\"property\">length</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; anchorElsLength; i++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> anchorEl = anchorEls[i];</span><br><span class=\"line\">    <span class=\"keyword\">var</span> href = anchorEl.<span class=\"title function_\">getAttribute</span>(<span class=\"string\">&#x27;href&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (!internalLinkRegex.<span class=\"title function_\">test</span>(href)) &#123;</span><br><span class=\"line\">      anchorEl.<span class=\"title function_\">setAttribute</span>(<span class=\"string\">&#x27;target&#x27;</span>, <span class=\"string\">&#x27;_blank&#x27;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"jQuery\"><a href=\"#jQuery\" class=\"headerlink\" title=\"jQuery\"></a>jQuery</h3><p>This version requires jQuery in order to work, but if you’re using jQuery on your site anyway, it avoids reinventing the wheel:</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$(<span class=\"variable language_\">document</span>).<span class=\"title function_\">ready</span>(<span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">var</span> website = <span class=\"variable language_\">window</span>.<span class=\"property\">location</span>.<span class=\"property\">hostname</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">var</span> internalLinkRegex = <span class=\"keyword\">new</span> <span class=\"title class_\">RegExp</span>(<span class=\"string\">&#x27;^((((http:\\\\/\\\\/|https:\\\\/\\\\/)(www\\\\.)?)?&#x27;</span></span><br><span class=\"line\">                                     + website</span><br><span class=\"line\">                                     + <span class=\"string\">&#x27;)|(localhost:\\\\d&#123;4&#125;)|(\\\\/.*))(\\\\/.*)?$&#x27;</span>, <span class=\"string\">&#x27;&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">  $(<span class=\"string\">&#x27;a&#x27;</span>).<span class=\"title function_\">filter</span>(<span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> href = $(<span class=\"variable language_\">this</span>).<span class=\"title function_\">attr</span>(<span class=\"string\">&#x27;href&#x27;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> !internalLinkRegex.<span class=\"title function_\">test</span>(href);</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">  .<span class=\"title function_\">each</span>(<span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    $(<span class=\"variable language_\">this</span>).<span class=\"title function_\">attr</span>(<span class=\"string\">&#x27;target&#x27;</span>, <span class=\"string\">&#x27;_blank&#x27;</span>);</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"My-Implementation-for-Jekyll-Blog\"><a href=\"#My-Implementation-for-Jekyll-Blog\" class=\"headerlink\" title=\"My Implementation for Jekyll Blog\"></a>My Implementation for Jekyll Blog</h3><p>I have created a file called <a href=\"https://raw.githubusercontent.com/SamirPaulb/assets/main/external-links-new-window.html\">external-links-new-window.html</a> inside <code>_includes</code> directory and referred it from <code>_layouts/default.html</code> as <a href=\"#\"><img src=\"/assets/img/include-external-links-new-window.html-code.png\" alt=\"external-links-new-window\"  width=\"370px\" height=\"22px\"></a>.</p>\n",
            "tags": [
                "open-external-links",
                "javascript"
            ]
        }
    ]
}